<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>fxopt: fxopt_affine.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">fxopt
   </div>
   <div id="projectbrief">A floating-point to fixed-point arithmetic conversion plugin for gcc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('fxopt__affine_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">fxopt_affine.c File Reference<div class="ingroups"><a class="el" href="group__fxoptfiles.html">fxopt Source Code</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions and macros for affine arithmetic.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;math.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="fxopt__plugin_8h_source.html">fxopt_plugin.h</a>&quot;</code><br/>
<code>#include &quot;utlist.h&quot;</code><br/>
</div>
<p><a href="fxopt__affine_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1c9ff87fa468612ba28904ee798d4977"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a1c9ff87fa468612ba28904ee798d4977">aa_id_sort</a> (struct <a class="el" href="struct_a_a.html">AA</a> *a, struct <a class="el" href="struct_a_a.html">AA</a> *b)</td></tr>
<tr class="memdesc:a1c9ff87fa468612ba28904ee798d4977"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sorting function for affine elements.  <a href="#a1c9ff87fa468612ba28904ee798d4977">More...</a><br/></td></tr>
<tr class="separator:a1c9ff87fa468612ba28904ee798d4977"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9b85d932ed3ce2e8acdfa9824f3694e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a> (struct <a class="el" href="struct_a_a.html">AA</a> **aa_list_p, int var_key, double_int coeff, int bp)</td></tr>
<tr class="memdesc:ad9b85d932ed3ce2e8acdfa9824f3694e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a term to an affine definition.  <a href="#ad9b85d932ed3ce2e8acdfa9824f3694e">More...</a><br/></td></tr>
<tr class="separator:ad9b85d932ed3ce2e8acdfa9824f3694e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a564a9beddec2ea9094ba3c25f0bd619b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a> (struct <a class="el" href="struct_a_a.html">AA</a> *aa_list_p, int var_key)</td></tr>
<tr class="memdesc:a564a9beddec2ea9094ba3c25f0bd619b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for a variable in an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list.  <a href="#a564a9beddec2ea9094ba3c25f0bd619b">More...</a><br/></td></tr>
<tr class="separator:a564a9beddec2ea9094ba3c25f0bd619b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7643305f5a0e209658eb2f121e3a814"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#ad7643305f5a0e209658eb2f121e3a814">print_aa_element</a> (struct <a class="el" href="struct_a_a.html">AA</a> *aa_elt_p)</td></tr>
<tr class="memdesc:ad7643305f5a0e209658eb2f121e3a814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print a single affine list element to stderr.  <a href="#ad7643305f5a0e209658eb2f121e3a814">More...</a><br/></td></tr>
<tr class="separator:ad7643305f5a0e209658eb2f121e3a814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c78a3b66a0674be33d45aa8118d216a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a1c78a3b66a0674be33d45aa8118d216a">print_aa_list</a> (struct <a class="el" href="struct_a_a.html">AA</a> *aa_list_p)</td></tr>
<tr class="memdesc:a1c78a3b66a0674be33d45aa8118d216a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the equation for an affine definition.  <a href="#a1c78a3b66a0674be33d45aa8118d216a">More...</a><br/></td></tr>
<tr class="separator:a1c78a3b66a0674be33d45aa8118d216a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d37055410be60143d12cb25efc75d19"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a5d37055410be60143d12cb25efc75d19">get_aa_bp</a> (struct <a class="el" href="struct_a_a.html">AA</a> *aa_list_p)</td></tr>
<tr class="memdesc:a5d37055410be60143d12cb25efc75d19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the binary point location for an aa list.  <a href="#a5d37055410be60143d12cb25efc75d19">More...</a><br/></td></tr>
<tr class="separator:a5d37055410be60143d12cb25efc75d19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa3848f108434439b2d91a86bda052d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a> (struct <a class="el" href="struct_a_a.html">AA</a> **aa_list_pp)</td></tr>
<tr class="memdesc:aaa3848f108434439b2d91a86bda052d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete an entire <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> definition.  <a href="#aaa3848f108434439b2d91a86bda052d3">More...</a><br/></td></tr>
<tr class="separator:aaa3848f108434439b2d91a86bda052d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b6954b5e3ad58a34116c3819f35add"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a75b6954b5e3ad58a34116c3819f35add">copy_aa_element</a> (struct <a class="el" href="struct_a_a.html">AA</a> *aa_src_elt_p)</td></tr>
<tr class="memdesc:a75b6954b5e3ad58a34116c3819f35add"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> element.  <a href="#a75b6954b5e3ad58a34116c3819f35add">More...</a><br/></td></tr>
<tr class="separator:a75b6954b5e3ad58a34116c3819f35add"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2aac7e6cbba545edc4d4545d2322df"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a3f2aac7e6cbba545edc4d4545d2322df">copy_aa_list</a> (struct <a class="el" href="struct_a_a.html">AA</a> *aa_src_list_p)</td></tr>
<tr class="memdesc:a3f2aac7e6cbba545edc4d4545d2322df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list.  <a href="#a3f2aac7e6cbba545edc4d4545d2322df">More...</a><br/></td></tr>
<tr class="separator:a3f2aac7e6cbba545edc4d4545d2322df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adef7370a316f4892d31135bb831c4b41"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#adef7370a316f4892d31135bb831c4b41">affine_assign</a> (struct <a class="el" href="struct_a_a.html">AA</a> *aa_src_list_p, bool add)</td></tr>
<tr class="memdesc:adef7370a316f4892d31135bb831c4b41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine affine result of a simple assignment statement.  <a href="#adef7370a316f4892d31135bb831c4b41">More...</a><br/></td></tr>
<tr class="separator:adef7370a316f4892d31135bb831c4b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aaff3bb26178b836efd99cf279fbdbf"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a6aaff3bb26178b836efd99cf279fbdbf">shift_aa_list</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> op_fmt, int k)</td></tr>
<tr class="memdesc:a6aaff3bb26178b836efd99cf279fbdbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a virtual shift on an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list.  <a href="#a6aaff3bb26178b836efd99cf279fbdbf">More...</a><br/></td></tr>
<tr class="separator:a6aaff3bb26178b836efd99cf279fbdbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae993777c0e51a2fd211ed19d5c100a0a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#ae993777c0e51a2fd211ed19d5c100a0a">new_aa_list</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> op_fmt)</td></tr>
<tr class="memdesc:ae993777c0e51a2fd211ed19d5c100a0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply shift and round operations to an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list.  <a href="#ae993777c0e51a2fd211ed19d5c100a0a">More...</a><br/></td></tr>
<tr class="separator:ae993777c0e51a2fd211ed19d5c100a0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ba60d39468371b4a9352e353a938470"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a8ba60d39468371b4a9352e353a938470">fix_aa_bp</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> op_fmt)</td></tr>
<tr class="memdesc:a8ba60d39468371b4a9352e353a938470"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force the <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> binary point to be consistent with format.  <a href="#a8ba60d39468371b4a9352e353a938470">More...</a><br/></td></tr>
<tr class="separator:a8ba60d39468371b4a9352e353a938470"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c542b2ccb1b7d0c0548e35177d04229"><td class="memItemLeft" align="right" valign="top">double_int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a7c542b2ccb1b7d0c0548e35177d04229">aa_center</a> (struct <a class="el" href="struct_a_a.html">AA</a> *aa_list_p)</td></tr>
<tr class="memdesc:a7c542b2ccb1b7d0c0548e35177d04229"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the constant term from an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list.  <a href="#a7c542b2ccb1b7d0c0548e35177d04229">More...</a><br/></td></tr>
<tr class="separator:a7c542b2ccb1b7d0c0548e35177d04229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a067125d7343510a6ff75cda6c5f78a17"><td class="memItemLeft" align="right" valign="top">double_int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a067125d7343510a6ff75cda6c5f78a17">aa_max</a> (struct <a class="el" href="struct_a_a.html">AA</a> *aa_list_p)</td></tr>
<tr class="memdesc:a067125d7343510a6ff75cda6c5f78a17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the maximum value of an affine definition.  <a href="#a067125d7343510a6ff75cda6c5f78a17">More...</a><br/></td></tr>
<tr class="separator:a067125d7343510a6ff75cda6c5f78a17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2edc90d489df2f82dbfa153463393dbf"><td class="memItemLeft" align="right" valign="top">double_int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a2edc90d489df2f82dbfa153463393dbf">new_aa_max</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> op_fmt)</td></tr>
<tr class="memdesc:a2edc90d489df2f82dbfa153463393dbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the affine maximum after shifting.  <a href="#a2edc90d489df2f82dbfa153463393dbf">More...</a><br/></td></tr>
<tr class="separator:a2edc90d489df2f82dbfa153463393dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0ff4cce1470f5c96382192fc06a474"><td class="memItemLeft" align="right" valign="top">double_int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a0d0ff4cce1470f5c96382192fc06a474">aa_min</a> (struct <a class="el" href="struct_a_a.html">AA</a> *aa_list_p)</td></tr>
<tr class="memdesc:a0d0ff4cce1470f5c96382192fc06a474"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the minimum value of an affine definition.  <a href="#a0d0ff4cce1470f5c96382192fc06a474">More...</a><br/></td></tr>
<tr class="separator:a0d0ff4cce1470f5c96382192fc06a474"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a003b612e9268116805f65ea7fd99f182"><td class="memItemLeft" align="right" valign="top">double_int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a003b612e9268116805f65ea7fd99f182">new_aa_min</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> op_fmt)</td></tr>
<tr class="memdesc:a003b612e9268116805f65ea7fd99f182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the affine minimum after shifting.  <a href="#a003b612e9268116805f65ea7fd99f182">More...</a><br/></td></tr>
<tr class="separator:a003b612e9268116805f65ea7fd99f182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa73468f76074df468ac752ce800996e5"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#aa73468f76074df468ac752ce800996e5">affine_add</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> oprnd_frmt[], bool add)</td></tr>
<tr class="memdesc:aa73468f76074df468ac752ce800996e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add or subtract statement affine result processing.  <a href="#aa73468f76074df468ac752ce800996e5">More...</a><br/></td></tr>
<tr class="separator:aa73468f76074df468ac752ce800996e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b8530e6707edc3539a27d82c1b7de70"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a9b8530e6707edc3539a27d82c1b7de70">affine_multiply</a> (struct <a class="el" href="struct_a_a.html">AA</a> *aa1_list_p, struct <a class="el" href="struct_a_a.html">AA</a> *aa2_list_p)</td></tr>
<tr class="memdesc:a9b8530e6707edc3539a27d82c1b7de70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Multiply affine definitions.  <a href="#a9b8530e6707edc3539a27d82c1b7de70">More...</a><br/></td></tr>
<tr class="separator:a9b8530e6707edc3539a27d82c1b7de70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a517c7d17d7c8678a6563b742fa16a154"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a517c7d17d7c8678a6563b742fa16a154">affine_divide</a> (struct <a class="el" href="struct_a_a.html">AA</a> *numerator_p, struct <a class="el" href="struct_a_a.html">AA</a> *denominator_p)</td></tr>
<tr class="memdesc:a517c7d17d7c8678a6563b742fa16a154"><td class="mdescLeft">&#160;</td><td class="mdescRight">Affine division, numerator/denominator.  <a href="#a517c7d17d7c8678a6563b742fa16a154">More...</a><br/></td></tr>
<tr class="separator:a517c7d17d7c8678a6563b742fa16a154"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a91eebada26631feb3e5b806fe2536ad6"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a></td></tr>
<tr class="memdesc:a91eebada26631feb3e5b806fe2536ad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the hash table for the variables' <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> formats.  <a href="#a91eebada26631feb3e5b806fe2536ad6">More...</a><br/></td></tr>
<tr class="separator:a91eebada26631feb3e5b806fe2536ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595bf913c6f68e5f9f4cd8d135bca7dd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__affine_8c.html#a595bf913c6f68e5f9f4cd8d135bca7dd">next_error_id</a> = 1</td></tr>
<tr class="memdesc:a595bf913c6f68e5f9f4cd8d135bca7dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">ID number for the next unique error term.  <a href="#a595bf913c6f68e5f9f4cd8d135bca7dd">More...</a><br/></td></tr>
<tr class="separator:a595bf913c6f68e5f9f4cd8d135bca7dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Functions and macros for affine arithmetic. </p>
<dl class="section author"><dt>Author</dt><dd>K. Joseph Hass </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Created: 2014-01-05T10:33:10-0500 </dd>
<dd>
Last modified: 2014-01-07T16:18:16-0500</dd></dl>
<p>The affine definition for a variable is stored as a linked list of affine elements. Since the list is used for affine arithmetic operations it is often referred to as the <b><a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list</b>. Each element in the list is an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> struct.</p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) 2014 Kenneth Joseph Hass</dd>
<dd>
This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</dd>
<dd>
This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</dd></dl>

<p>Definition in file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a7c542b2ccb1b7d0c0548e35177d04229"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double_int aa_center </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>aa_list_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the constant term from an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list. </p>
<p>If the <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list has a constant (or "center") term, which does not depend on the value of any variable, then the ID value for that term will be zero. Return the coefficient of this <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list element, if it exists, or a value of zero if there no constant element in the list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aa_list_p</td><td>pointer to head of <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double_int coefficient of constant term </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00496">496</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;{</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa_elt_p = NULL;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">if</span> (aa_list_p == NULL)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordflow">return</span> double_int_zero;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  aa_elt_p = <a class="code" href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a>(aa_list_p, 0);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  <span class="keywordflow">if</span> (NULL != aa_elt_p)</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">return</span> aa_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">return</span> double_int_zero;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div>
<div class="ttc" id="fxopt__affine_8c_html_a564a9beddec2ea9094ba3c25f0bd619b"><div class="ttname"><a href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a></div><div class="ttdeci">struct AA * search_aa_var(struct AA *aa_list_p, int var_key)</div><div class="ttdoc">Search for a variable in an AA list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00131">fxopt_affine.c:131</a></div></div>
<div class="ttc" id="struct_a_a_html_afead62a58048aeaad417a4aec4e7277b"><div class="ttname"><a href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">AA::coeff</a></div><div class="ttdeci">double_int coeff</div><div class="ttdoc">Coefficient for this variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00085">fxopt_plugin.h:85</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1c9ff87fa468612ba28904ee798d4977"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int aa_id_sort </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sorting function for affine elements. </p>
<p>The ID values of two affine elements are compared to determine how the elements are sorted. Elements with smaller GIMPLE UID values precede elements with higher UID values. Elements with the same UID value are sorted by the array index. Elements with the same UID and the same index are sorted by pass number.</p>
<p>A negative return value indicates that element <code>a</code> should precede element <code>b</code>, while a return value greater than zero indicates that element <code>b</code> should precede element <code>a</code>. This function should never return a value of zero because two elements must never have the same ID value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>pointer to <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>pointer to <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>comparison result </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00063">63</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                                           {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(a-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>) != <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(b-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>))</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(a-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>) - <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(b-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>));</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a>(a-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>) != <a class="code" href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a>(b-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>))</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a>(a-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>) - <a class="code" href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a>(b-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>));</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a>(a-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>) - <a class="code" href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a>(b-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>));</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ae799a9ba06cdf1c06da807eb5135d4b0"><div class="ttname"><a href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a></div><div class="ttdeci">#define KEY_TO_UID(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00052">fxopt_plugin.h:52</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a4f8811d5916fc02d3ea3369cd63c8583"><div class="ttname"><a href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a></div><div class="ttdeci">#define KEY_TO_PASS(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00053">fxopt_plugin.h:53</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a57b4d6ef6eab411273326b20df6ed752"><div class="ttname"><a href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a></div><div class="ttdeci">#define KEY_TO_IDX(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00054">fxopt_plugin.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a067125d7343510a6ff75cda6c5f78a17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double_int aa_max </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>aa_list_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the maximum value of an affine definition. </p>
<p>Add the absolute values of all coefficients and return this value as the maximum value of the affine definition. If the affine element list is uninitialized return a value of zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aa_list_p</td><td>pointer to head of <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double_int maximum value </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00521">521</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;{</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa_elt_p;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  double_int constant, maxval, <a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;  <span class="keywordflow">if</span> (aa_list_p == NULL)</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="keywordflow">return</span> double_int_zero; <span class="comment">// flag for uninitialized</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;  maxval = double_int_zero;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  constant = double_int_zero;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  DL_FOREACH(aa_list_p, aa_elt_p) {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    coeff = aa_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">if</span> (aa_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> == 0)</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      constant = <a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      <span class="keywordflow">if</span> (double_int_negative_p(coeff))</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        maxval = double_int_sub(maxval, coeff);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;        maxval = double_int_add(maxval, coeff);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;  maxval = double_int_add(constant, maxval);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;  <span class="keywordflow">return</span> maxval;</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="struct_a_a_html_afead62a58048aeaad417a4aec4e7277b"><div class="ttname"><a href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">AA::coeff</a></div><div class="ttdeci">double_int coeff</div><div class="ttdoc">Coefficient for this variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00085">fxopt_plugin.h:85</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0d0ff4cce1470f5c96382192fc06a474"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double_int aa_min </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>aa_list_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the minimum value of an affine definition. </p>
<p>The minimum value of the affine definition is equal to the coefficient of the constant term minus the absolute values of all other coefficients. Return this value as the minimum value of the affine definition. If the affine element list is uninitialized return a value of zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aa_list_p</td><td>pointer to head of <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double_int minimum value </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00602">602</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;{</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa_elt_p;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  double_int constant, minval, <a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordflow">if</span> (aa_list_p == NULL)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">return</span> double_int_one; <span class="comment">// flag for uninitialized</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  minval = double_int_zero;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  constant = double_int_zero;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  DL_FOREACH(aa_list_p, aa_elt_p) {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    coeff = aa_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">if</span> (aa_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> == 0)</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      constant = <a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;      <span class="keywordflow">if</span> (double_int_negative_p(coeff))</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;        minval = double_int_add(minval, coeff);</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        minval = double_int_sub(minval, coeff);</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  }</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  minval = double_int_add(constant, minval);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="keywordflow">return</span> minval;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="struct_a_a_html_afead62a58048aeaad417a4aec4e7277b"><div class="ttname"><a href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">AA::coeff</a></div><div class="ttdeci">double_int coeff</div><div class="ttdoc">Coefficient for this variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00085">fxopt_plugin.h:85</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa73468f76074df468ac752ce800996e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_a_a.html">AA</a>* affine_add </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>oprnd_frmt</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>add</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add or subtract statement affine result processing. </p>
<p><a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> elements that are unique to either operand 1 or operand 2 are simply copied to the result <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list. For variables that are found in both the <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> lists of operands 1 and 2, the coefficients are added. If the operation to be performed is subtraction rather than addition, then the coefficient of operand 2 is negated first. If the affine definition of either operand is missing return a NULL pointer.</p>
<dl class="section note"><dt>Note</dt><dd>Assumes that operands are already aligned (have the same binary point location). A warning is issued if this is not the case.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oprnd_frmt</td><td>array of <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structs for the operands </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">add</td><td>boolean, true for addition false for subtraction </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the new <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list, NULL if failed </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00686">686</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;{</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa1_elt_p;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa2_elt_p;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *result_p = NULL;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  double_int op1_coeff, op2_coeff;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  <span class="keywordflow">if</span> ((oprnd_frmt[1].aa == NULL) || (oprnd_frmt[2].aa == NULL))</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa1_list_p = <a class="code" href="fxopt__affine_8c.html#ae993777c0e51a2fd211ed19d5c100a0a">new_aa_list</a>(oprnd_frmt[1]);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa2_list_p = <a class="code" href="fxopt__affine_8c.html#ae993777c0e51a2fd211ed19d5c100a0a">new_aa_list</a>(oprnd_frmt[2]);</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  DL_FOREACH(aa1_list_p, aa1_elt_p) {</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    aa2_elt_p = <a class="code" href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a>(aa2_list_p, aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>);</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;    <span class="keywordflow">if</span> (aa2_elt_p == NULL) {    <span class="comment">// in aa1 but not in aa2</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;      <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;result_p, aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>, aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>, aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a>);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    } <span class="keywordflow">else</span> {                    <span class="comment">// in both aa1 and aa2</span></div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;      op1_coeff = aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;      op2_coeff = aa2_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;      <span class="keywordflow">if</span> (aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a> != aa2_elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a>)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;  affine_add : binary points not equal\n&quot;</span>);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;      <span class="keywordflow">if</span> (!add)</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        op2_coeff = double_int_neg(double_int_add(double_int_one,op2_coeff));</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;      <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;result_p, aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>,</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                    double_int_add(op1_coeff, op2_coeff), aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a>);</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    }</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;  }</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  DL_FOREACH(aa2_list_p, aa2_elt_p) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    aa1_elt_p = <a class="code" href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a>(aa1_list_p, aa2_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="keywordflow">if</span> (aa1_elt_p == NULL) {    <span class="comment">// in aa2 but not in aa1</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      op2_coeff = aa2_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      <span class="keywordflow">if</span> (!add)</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        op2_coeff = double_int_neg(double_int_add(double_int_one,op2_coeff));</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;      <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;result_p, aa2_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>, op2_coeff, aa2_elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    }</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  }</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;aa1_list_p);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;aa2_list_p);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordflow">return</span> result_p;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a564a9beddec2ea9094ba3c25f0bd619b"><div class="ttname"><a href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a></div><div class="ttdeci">struct AA * search_aa_var(struct AA *aa_list_p, int var_key)</div><div class="ttdoc">Search for a variable in an AA list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00131">fxopt_affine.c:131</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_ad9b85d932ed3ce2e8acdfa9824f3694e"><div class="ttname"><a href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a></div><div class="ttdeci">void append_aa_var(struct AA **aa_list_p, int var_key, double_int coeff, int bp)</div><div class="ttdoc">Add a term to an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00089">fxopt_affine.c:89</a></div></div>
<div class="ttc" id="struct_a_a_html_afead62a58048aeaad417a4aec4e7277b"><div class="ttname"><a href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">AA::coeff</a></div><div class="ttdeci">double_int coeff</div><div class="ttdoc">Coefficient for this variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00085">fxopt_plugin.h:85</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_ae993777c0e51a2fd211ed19d5c100a0a"><div class="ttname"><a href="fxopt__affine_8c.html#ae993777c0e51a2fd211ed19d5c100a0a">new_aa_list</a></div><div class="ttdeci">struct AA * new_aa_list(struct SIF op_fmt)</div><div class="ttdoc">Apply shift and round operations to an AA list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00407">fxopt_affine.c:407</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_aaa3848f108434439b2d91a86bda052d3"><div class="ttname"><a href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a></div><div class="ttdeci">void delete_aa_list(struct AA **aa_list_pp)</div><div class="ttdoc">Delete an entire AA definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00251">fxopt_affine.c:251</a></div></div>
<div class="ttc" id="struct_a_a_html_a71304925be5e74032ea407df25bc41ab"><div class="ttname"><a href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">AA::bp</a></div><div class="ttdeci">uint32_t bp</div><div class="ttdoc">Coefficient binary point location, 0 = true integer. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00086">fxopt_plugin.h:86</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adef7370a316f4892d31135bb831c4b41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_a_a.html">AA</a>* affine_assign </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>aa_src_list_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>add</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine affine result of a simple assignment statement. </p>
<p>Deep copy the <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> definition of aa_src_p to result_p. A new list of elements is created, with the same length and the same data in each element. If the assignment is actually a NEGATE operation then the coefficients are negated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aa_src_list_p</td><td>pointer to existing <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> definition list </td></tr>
    <tr><td class="paramname">add</td><td>boolean, false for negate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the new <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list, NULL if failed </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00335">335</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;{</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *src_elt_p;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *dest_elt_p;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *result_p = NULL;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <span class="keywordflow">if</span> (aa_src_list_p == NULL)</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  DL_FOREACH(aa_src_list_p, src_elt_p) {</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span> (src_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> == 0xbad) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;%p already destroyed, can&#39;t copy!\n&quot;</span>,</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;              (<span class="keywordtype">void</span> *) src_elt_p);</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    dest_elt_p = <a class="code" href="fxopt__affine_8c.html#a75b6954b5e3ad58a34116c3819f35add">copy_aa_element</a>(src_elt_p);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="keywordflow">if</span> (!add)</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;      dest_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a> = double_int_neg(dest_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    DL_APPEND(result_p, dest_elt_p);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  }</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  <span class="keywordflow">return</span> result_p;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="struct_a_a_html_afead62a58048aeaad417a4aec4e7277b"><div class="ttname"><a href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">AA::coeff</a></div><div class="ttdeci">double_int coeff</div><div class="ttdoc">Coefficient for this variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00085">fxopt_plugin.h:85</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a75b6954b5e3ad58a34116c3819f35add"><div class="ttname"><a href="fxopt__affine_8c.html#a75b6954b5e3ad58a34116c3819f35add">copy_aa_element</a></div><div class="ttdeci">struct AA * copy_aa_element(struct AA *aa_src_elt_p)</div><div class="ttdoc">Copy an AA element. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00278">fxopt_affine.c:278</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a517c7d17d7c8678a6563b742fa16a154"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_a_a.html">AA</a>* affine_divide </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>numerator_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>denominator_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Affine division, numerator/denominator. </p>
<p>Division of affine definitions is non-trivial. It is actually done in two steps: first we find the reciprocal of the denominator, second we multiply the reciprocal times the numerator.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numerator_p</td><td>head of <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> linked list for numerator </td></tr>
    <tr><td class="paramname">denominator_p</td><td>head of <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> linked list for denominator </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the quotient's <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list, NULL if failed </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00845">845</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;{</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *reciprocal_p = NULL;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *quotient_p = NULL;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *temp_p;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;  double_int den_min, den_max, a, b, double_1, alpha, dmax, dmin, zeta, delta;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;  <span class="keywordtype">int</span> den_bp, num_bp;</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;  <span class="keywordflow">if</span> ((numerator_p == NULL) || (denominator_p == NULL))</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  <span class="comment">// numerator_p (dividend)</span></div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;  num_bp = <a class="code" href="fxopt__affine_8c.html#a5d37055410be60143d12cb25efc75d19">get_aa_bp</a>(numerator_p);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <span class="comment">// denominator_p (divisor)</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;  den_bp = <a class="code" href="fxopt__affine_8c.html#a5d37055410be60143d12cb25efc75d19">get_aa_bp</a>(denominator_p);</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  den_min = <a class="code" href="fxopt__affine_8c.html#a0d0ff4cce1470f5c96382192fc06a474">aa_min</a>(denominator_p);</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  den_max = <a class="code" href="fxopt__affine_8c.html#a067125d7343510a6ff75cda6c5f78a17">aa_max</a>(denominator_p);</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  a = double_int_smin(<a class="code" href="fxopt__plugin_8h.html#a34130ea48b0bda9d05933f47c6a2179f">double_int_abs</a>(den_min), <a class="code" href="fxopt__plugin_8h.html#a34130ea48b0bda9d05933f47c6a2179f">double_int_abs</a>(den_max));</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  b = double_int_smax(<a class="code" href="fxopt__plugin_8h.html#a34130ea48b0bda9d05933f47c6a2179f">double_int_abs</a>(den_min), <a class="code" href="fxopt__plugin_8h.html#a34130ea48b0bda9d05933f47c6a2179f">double_int_abs</a>(den_max));</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="comment">// Create a double_int identically 1 with a binary point at numerator_p bp</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  double_1 = double_int_lshift(double_int_one, num_bp, (num_bp + 2), <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  alpha = double_int_sdiv(double_1, b, TRUNC_DIV_EXPR); <span class="comment">// bp = num_bp - den_bp</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  alpha = double_int_mul(alpha, alpha); <span class="comment">// bp = 2(num_bp - den_bp)</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  alpha = double_int_neg(alpha);        <span class="comment">// bp = 2(num_bp - den_bp</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  double_int dmax_1 = double_int_sdiv(double_1, a, TRUNC_DIV_EXPR);</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  double_int dmax_2 = double_int_rshift(double_int_mul(alpha, a), num_bp,</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                                        HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  dmax = double_int_sub(dmax_1, dmax_2);</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  double_int dmin_1 = double_int_sdiv(double_1, b, TRUNC_DIV_EXPR);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  double_int dmin_2 = double_int_rshift(double_int_mul(alpha, b), num_bp,</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                                        HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  dmin = double_int_sub(dmin_1, dmin_2);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  zeta = double_int_add(dmin, dmax);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  zeta = double_int_rshift(zeta, 1, HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  delta =</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;      double_int_smax(double_int_sub(zeta, dmin), double_int_sub(dmax, zeta));</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  <span class="comment">// FIXME round down first term?</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="keywordflow">if</span> (double_int_negative_p(den_min))</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    zeta = double_int_neg(zeta);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  alpha = double_int_rshift(alpha, (num_bp - den_bp), HOST_BITS_PER_DOUBLE_INT,</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                            <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;reciprocal_p, 0, alpha, (num_bp - den_bp));</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;  temp_p = <a class="code" href="fxopt__affine_8c.html#a9b8530e6707edc3539a27d82c1b7de70">affine_multiply</a>(denominator_p, reciprocal_p);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(reciprocal_p));</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;  reciprocal_p = temp_p;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  <span class="keywordflow">if</span> (num_bp != <a class="code" href="fxopt__affine_8c.html#a5d37055410be60143d12cb25efc75d19">get_aa_bp</a>(reciprocal_p))</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;  !!!!! expected bp of num_bp\n&quot;</span>);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="keywordflow">if</span> (!double_int_zero_p(zeta)) {</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    zeta = double_int_lshift(zeta, den_bp, HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *elt_p;</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    elt_p = <a class="code" href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a>(reciprocal_p, 0);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keywordflow">if</span> (NULL == elt_p)</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;      <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;reciprocal_p, 0, zeta, num_bp);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (num_bp != elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a>)</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot; incorrect bp location &quot;</span>);</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a> = double_int_add(elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>, zeta);</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  }</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;  <span class="keywordflow">if</span> (!double_int_zero_p(delta)) {</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    delta = double_int_lshift(delta, den_bp, HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;reciprocal_p, <a class="code" href="fxopt__affine_8c.html#a595bf913c6f68e5f9f4cd8d135bca7dd">next_error_id</a>, delta, num_bp);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="fxopt__affine_8c.html#a595bf913c6f68e5f9f4cd8d135bca7dd">next_error_id</a>++;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  }</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  quotient_p = <a class="code" href="fxopt__affine_8c.html#a9b8530e6707edc3539a27d82c1b7de70">affine_multiply</a>(numerator_p, reciprocal_p);</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(reciprocal_p));</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <span class="keywordflow">return</span> quotient_p;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;}</div>
<div class="ttc" id="fxopt__affine_8c_html_a595bf913c6f68e5f9f4cd8d135bca7dd"><div class="ttname"><a href="fxopt__affine_8c.html#a595bf913c6f68e5f9f4cd8d135bca7dd">next_error_id</a></div><div class="ttdeci">int next_error_id</div><div class="ttdoc">ID number for the next unique error term. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00042">fxopt_affine.c:42</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a564a9beddec2ea9094ba3c25f0bd619b"><div class="ttname"><a href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a></div><div class="ttdeci">struct AA * search_aa_var(struct AA *aa_list_p, int var_key)</div><div class="ttdoc">Search for a variable in an AA list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00131">fxopt_affine.c:131</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_ad9b85d932ed3ce2e8acdfa9824f3694e"><div class="ttname"><a href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a></div><div class="ttdeci">void append_aa_var(struct AA **aa_list_p, int var_key, double_int coeff, int bp)</div><div class="ttdoc">Add a term to an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00089">fxopt_affine.c:89</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a5d37055410be60143d12cb25efc75d19"><div class="ttname"><a href="fxopt__affine_8c.html#a5d37055410be60143d12cb25efc75d19">get_aa_bp</a></div><div class="ttdeci">int get_aa_bp(struct AA *aa_list_p)</div><div class="ttdoc">Get the binary point location for an aa list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00227">fxopt_affine.c:227</a></div></div>
<div class="ttc" id="struct_a_a_html_afead62a58048aeaad417a4aec4e7277b"><div class="ttname"><a href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">AA::coeff</a></div><div class="ttdeci">double_int coeff</div><div class="ttdoc">Coefficient for this variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00085">fxopt_plugin.h:85</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a34130ea48b0bda9d05933f47c6a2179f"><div class="ttname"><a href="fxopt__plugin_8h.html#a34130ea48b0bda9d05933f47c6a2179f">double_int_abs</a></div><div class="ttdeci">double_int double_int_abs(double_int dblint)</div><div class="ttdoc">Absolute value function for a double_int. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__range_8c_source.html#l00091">fxopt_range.c:91</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_aaa3848f108434439b2d91a86bda052d3"><div class="ttname"><a href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a></div><div class="ttdeci">void delete_aa_list(struct AA **aa_list_pp)</div><div class="ttdoc">Delete an entire AA definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00251">fxopt_affine.c:251</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a067125d7343510a6ff75cda6c5f78a17"><div class="ttname"><a href="fxopt__affine_8c.html#a067125d7343510a6ff75cda6c5f78a17">aa_max</a></div><div class="ttdeci">double_int aa_max(struct AA *aa_list_p)</div><div class="ttdoc">Calculate the maximum value of an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00521">fxopt_affine.c:521</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a0d0ff4cce1470f5c96382192fc06a474"><div class="ttname"><a href="fxopt__affine_8c.html#a0d0ff4cce1470f5c96382192fc06a474">aa_min</a></div><div class="ttdeci">double_int aa_min(struct AA *aa_list_p)</div><div class="ttdoc">Calculate the minimum value of an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00602">fxopt_affine.c:602</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a9b8530e6707edc3539a27d82c1b7de70"><div class="ttname"><a href="fxopt__affine_8c.html#a9b8530e6707edc3539a27d82c1b7de70">affine_multiply</a></div><div class="ttdeci">struct AA * affine_multiply(struct AA *aa1_list_p, struct AA *aa2_list_p)</div><div class="ttdoc">Multiply affine definitions. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00765">fxopt_affine.c:765</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_af49afd784b5ff112c3129f155af24748"><div class="ttname"><a href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a></div><div class="ttdeci">#define ARITH</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00033">fxopt_plugin.h:33</a></div></div>
<div class="ttc" id="struct_a_a_html_a71304925be5e74032ea407df25bc41ab"><div class="ttname"><a href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">AA::bp</a></div><div class="ttdeci">uint32_t bp</div><div class="ttdoc">Coefficient binary point location, 0 = true integer. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00086">fxopt_plugin.h:86</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9b8530e6707edc3539a27d82c1b7de70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_a_a.html">AA</a>* affine_multiply </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>aa1_list_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>aa2_list_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Multiply affine definitions. </p>
<p>Determine (or estimate) the affine result of multiplying two affine definitions.</p>
<p>Multiplication can result in both affine and non-affine terms in the product's affine definition. The only source of affine product terms is multiplication by a constant, so the constant term in the affine list for each operand is multiplied by all of the terms in the other affine list and the resulting affine terms are collected by summing the coefficients of terms that have the same ID value (i.e. depend on the same variable).</p>
<p>If the same variable exists in the <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list of both multiplicands then we get a term for that variable squared. Since an affine definition cannot have a quadratic term then we create a new unique error term. However, since this is a squared term it can never be negative. We find the product of the coefficients and half of that product is added to the constant term in the product's affine definition while the other half is added to the coefficient of the unique error term for all squared variable terms.</p>
<p>In all other cases we have the product of two affine terms that depend on different variables. Such a product cannot be represented in affine form so it becomes a new uncorrelated error term. However, if the same two variables exist in the affine definitions for both multiplicands we will effectively have the same product term twice. In this special case we should cancel the two coefficient products before lumping the result into the uncorrelated error term. Note that since all of these error terms are uncorrelated we must sum the absolute values of the products of their coefficients to get a coefficient for the lumped error term.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aa1_list_p</td><td>head of <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> linked list for first operand </td></tr>
    <tr><td class="paramname">aa2_list_p</td><td>head of <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> linked list for second operand </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the product's <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list, NULL if failed </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00765">765</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;{</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *result_p = NULL;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa1_elt_p;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa2_elt_p;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *res_elt_p;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;  <span class="keywordflow">if</span> ((aa1_list_p == NULL) || (aa2_list_p == NULL))</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordtype">int</span> new_bp = <a class="code" href="fxopt__affine_8c.html#a5d37055410be60143d12cb25efc75d19">get_aa_bp</a>(aa1_list_p) + <a class="code" href="fxopt__affine_8c.html#a5d37055410be60143d12cb25efc75d19">get_aa_bp</a>(aa2_list_p);</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;  double_int aa_err = double_int_zero;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  DL_FOREACH(aa1_list_p, aa1_elt_p) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    DL_FOREACH(aa2_list_p, aa2_elt_p) {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;      double_int product = double_int_mul(aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>, aa2_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;      <span class="keywordflow">if</span> (aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> == 0) { <span class="comment">// op1 constant term</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        res_elt_p = <a class="code" href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a>(result_p, aa2_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>);</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;        <span class="keywordflow">if</span> (NULL != res_elt_p)</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;          res_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a> = double_int_add(res_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>, product);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;          <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;result_p, aa2_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>, product, new_bp);</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (aa2_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> == 0) {  <span class="comment">// op2 constant term</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        res_elt_p = <a class="code" href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a>(result_p, aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>);</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keywordflow">if</span> (NULL != res_elt_p)</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;          res_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a> = double_int_add(res_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>, product);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;          <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;result_p, aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>, product, new_bp);</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;      <span class="comment">// This is an error term that must be positive because the input is</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      <span class="comment">// squared. Add half of the coefficient to the &#39;center&#39; term. Since</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;      <span class="comment">// this error is uncorrelated with other squared errors, the absolute</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <span class="comment">// value of half of the coefficient is added to a new error term.</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> == aa2_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        product = double_int_rshift(product, 1, HOST_BITS_PER_DOUBLE_INT,</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                                    <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        res_elt_p = <a class="code" href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a>(result_p, 0);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="keywordflow">if</span> (NULL == res_elt_p)</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;          <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;result_p, 0, product, new_bp);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;          res_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a> = double_int_add(res_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>, product);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        aa_err = double_int_add(aa_err, <a class="code" href="fxopt__plugin_8h.html#a34130ea48b0bda9d05933f47c6a2179f">double_int_abs</a>(product));</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;      } <span class="keywordflow">else</span> {                  <span class="comment">// uncorrelated error term</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <span class="comment">// if this product will occur twice then allow cancellation</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <span class="comment">// divide the sum of the product terms by 2 since we will see it twice</span></div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *other1 = <a class="code" href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a>(aa2_list_p, aa1_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>);</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *other2 = <a class="code" href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a>(aa1_list_p, aa2_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="keywordflow">if</span> (other1 &amp;&amp; other2) {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;          double_int otherp = double_int_mul(other1-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>, other2-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;          product = <a class="code" href="fxopt__plugin_8h.html#a34130ea48b0bda9d05933f47c6a2179f">double_int_abs</a>(double_int_add(product, otherp));</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;          product = double_int_rshift(product, 1, HOST_BITS_PER_DOUBLE_INT,</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                                        <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;          aa_err = double_int_add(aa_err, product);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;          aa_err = double_int_add(aa_err, <a class="code" href="fxopt__plugin_8h.html#a34130ea48b0bda9d05933f47c6a2179f">double_int_abs</a>(product));</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      }</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  }</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;  <span class="keywordflow">if</span> (!double_int_zero_p(aa_err)) {</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;result_p, <a class="code" href="fxopt__affine_8c.html#a595bf913c6f68e5f9f4cd8d135bca7dd">next_error_id</a>++, aa_err, new_bp);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;  }</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;  <span class="keywordflow">return</span> result_p;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a595bf913c6f68e5f9f4cd8d135bca7dd"><div class="ttname"><a href="fxopt__affine_8c.html#a595bf913c6f68e5f9f4cd8d135bca7dd">next_error_id</a></div><div class="ttdeci">int next_error_id</div><div class="ttdoc">ID number for the next unique error term. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00042">fxopt_affine.c:42</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a564a9beddec2ea9094ba3c25f0bd619b"><div class="ttname"><a href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a></div><div class="ttdeci">struct AA * search_aa_var(struct AA *aa_list_p, int var_key)</div><div class="ttdoc">Search for a variable in an AA list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00131">fxopt_affine.c:131</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_ad9b85d932ed3ce2e8acdfa9824f3694e"><div class="ttname"><a href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a></div><div class="ttdeci">void append_aa_var(struct AA **aa_list_p, int var_key, double_int coeff, int bp)</div><div class="ttdoc">Add a term to an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00089">fxopt_affine.c:89</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a5d37055410be60143d12cb25efc75d19"><div class="ttname"><a href="fxopt__affine_8c.html#a5d37055410be60143d12cb25efc75d19">get_aa_bp</a></div><div class="ttdeci">int get_aa_bp(struct AA *aa_list_p)</div><div class="ttdoc">Get the binary point location for an aa list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00227">fxopt_affine.c:227</a></div></div>
<div class="ttc" id="struct_a_a_html_afead62a58048aeaad417a4aec4e7277b"><div class="ttname"><a href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">AA::coeff</a></div><div class="ttdeci">double_int coeff</div><div class="ttdoc">Coefficient for this variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00085">fxopt_plugin.h:85</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a34130ea48b0bda9d05933f47c6a2179f"><div class="ttname"><a href="fxopt__plugin_8h.html#a34130ea48b0bda9d05933f47c6a2179f">double_int_abs</a></div><div class="ttdeci">double_int double_int_abs(double_int dblint)</div><div class="ttdoc">Absolute value function for a double_int. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__range_8c_source.html#l00091">fxopt_range.c:91</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_af49afd784b5ff112c3129f155af24748"><div class="ttname"><a href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a></div><div class="ttdeci">#define ARITH</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00033">fxopt_plugin.h:33</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9b85d932ed3ce2e8acdfa9824f3694e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void append_aa_var </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> **&#160;</td>
          <td class="paramname"><em>aa_list_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>var_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double_int&#160;</td>
          <td class="paramname"><em>coeff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a term to an affine definition. </p>
<p>Create a new list element and populate it with the hash table key for the variable being added, its coefficient, and the binary point location for the coefficient. If the coefficient is zero then this term is simply discarded. Append the new element to the existing affine definition. An error occurs if the list pointer is NULL or an element with the same ID is already in the list. Warnings are printed if the coefficient is zero and the element is discarded or if it appears that the list has been deleted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aa_list_p</td><td>pointer to the <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list head pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">var_key</td><td>hash table ID for variable being added to list </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">coeff</td><td>double_int, the coefficient for variable being added </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bp</td><td>int, binary point location for coefficient </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00089">89</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="keywordflow">if</span> (NULL == aa_list_p) {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: cannot append to list at NULL address&quot;</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordflow">if</span> (NULL != <a class="code" href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a>(*aa_list_p, var_key)) {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: cannot append to list, already has this element&quot;</span>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordflow">if</span> ((NULL != *aa_list_p) &amp;&amp; (*aa_list_p)-&gt;id == 0xbad)</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;%p already destroyed, can&#39;t append!\n&quot;</span>,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            (<span class="keywordtype">void</span> *) *aa_list_p);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa_p = (<span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *) xmalloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="struct_a_a.html">AA</a>));</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordflow">if</span> (NULL == aa_p) {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: could not create AA list node&quot;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a> &gt; 63)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;  append_aa_var -- bp is %d\n&quot;</span>, <a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  <span class="comment">// fill its elements</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  aa_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> = var_key;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  aa_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a> = <a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  aa_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a> = <a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  aa_p-&gt;<a class="code" href="struct_a_a.html#a063dc57333807e1918e6c8534824d8b3">next</a> = NULL;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// append it to the variable&#39;s list</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  DL_APPEND(*aa_list_p, aa_p);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a564a9beddec2ea9094ba3c25f0bd619b"><div class="ttname"><a href="fxopt__affine_8c.html#a564a9beddec2ea9094ba3c25f0bd619b">search_aa_var</a></div><div class="ttdeci">struct AA * search_aa_var(struct AA *aa_list_p, int var_key)</div><div class="ttdoc">Search for a variable in an AA list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00131">fxopt_affine.c:131</a></div></div>
<div class="ttc" id="struct_a_a_html_afead62a58048aeaad417a4aec4e7277b"><div class="ttname"><a href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">AA::coeff</a></div><div class="ttdeci">double_int coeff</div><div class="ttdoc">Coefficient for this variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00085">fxopt_plugin.h:85</a></div></div>
<div class="ttc" id="struct_a_a_html_a063dc57333807e1918e6c8534824d8b3"><div class="ttname"><a href="struct_a_a.html#a063dc57333807e1918e6c8534824d8b3">AA::next</a></div><div class="ttdeci">struct AA * next</div><div class="ttdoc">Pointer to next variable structure. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00087">fxopt_plugin.h:87</a></div></div>
<div class="ttc" id="struct_a_a_html_a71304925be5e74032ea407df25bc41ab"><div class="ttname"><a href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">AA::bp</a></div><div class="ttdeci">uint32_t bp</div><div class="ttdoc">Coefficient binary point location, 0 = true integer. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00086">fxopt_plugin.h:86</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ace046b3f15f31d2cdb41c1126fd00517"><div class="ttname"><a href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a></div><div class="ttdeci">void error(const char *,...)</div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a75b6954b5e3ad58a34116c3819f35add"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_a_a.html">AA</a>* copy_aa_element </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>aa_src_elt_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> element. </p>
<p>Create a deep copy of a single <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list element. Note that the next pointer is set to NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aa_src_elt_p</td><td>pointer to source <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> element </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to destination <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> element </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00278">278</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;{</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa_dest_elt_p = NULL;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">if</span> (aa_src_elt_p == NULL)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  aa_dest_elt_p = (<span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *) xmalloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="struct_a_a.html">AA</a>));</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  aa_dest_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> = aa_src_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  aa_dest_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a> = aa_src_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  aa_dest_elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a> = aa_src_elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  aa_dest_elt_p-&gt;<a class="code" href="struct_a_a.html#a063dc57333807e1918e6c8534824d8b3">next</a> = NULL;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordflow">return</span> aa_dest_elt_p;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="struct_a_a_html_afead62a58048aeaad417a4aec4e7277b"><div class="ttname"><a href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">AA::coeff</a></div><div class="ttdeci">double_int coeff</div><div class="ttdoc">Coefficient for this variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00085">fxopt_plugin.h:85</a></div></div>
<div class="ttc" id="struct_a_a_html_a063dc57333807e1918e6c8534824d8b3"><div class="ttname"><a href="struct_a_a.html#a063dc57333807e1918e6c8534824d8b3">AA::next</a></div><div class="ttdeci">struct AA * next</div><div class="ttdoc">Pointer to next variable structure. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00087">fxopt_plugin.h:87</a></div></div>
<div class="ttc" id="struct_a_a_html_a71304925be5e74032ea407df25bc41ab"><div class="ttname"><a href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">AA::bp</a></div><div class="ttdeci">uint32_t bp</div><div class="ttdoc">Coefficient binary point location, 0 = true integer. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00086">fxopt_plugin.h:86</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3f2aac7e6cbba545edc4d4545d2322df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_a_a.html">AA</a>* copy_aa_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>aa_src_list_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list. </p>
<p>Create a deep copy of an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> linked list. A copy of each element of the source list is created and then appended to the destination list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aa_src_list_p</td><td>pointer to source <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to destination <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> struct </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00303">303</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;{</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa_dest_list_p = NULL;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *src_elt_p;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *dest_elt_p;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordflow">if</span> (aa_src_list_p == NULL)</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  DL_FOREACH(aa_src_list_p, src_elt_p) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    dest_elt_p = <a class="code" href="fxopt__affine_8c.html#a75b6954b5e3ad58a34116c3819f35add">copy_aa_element</a>(src_elt_p);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">if</span> (src_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> == 0xbad) {</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    }</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    DL_APPEND(aa_dest_list_p, dest_elt_p);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  }</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;  <span class="keywordflow">return</span> aa_dest_list_p;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a75b6954b5e3ad58a34116c3819f35add"><div class="ttname"><a href="fxopt__affine_8c.html#a75b6954b5e3ad58a34116c3819f35add">copy_aa_element</a></div><div class="ttdeci">struct AA * copy_aa_element(struct AA *aa_src_elt_p)</div><div class="ttdoc">Copy an AA element. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00278">fxopt_affine.c:278</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aaa3848f108434439b2d91a86bda052d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delete_aa_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> **&#160;</td>
          <td class="paramname"><em>aa_list_pp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete an entire <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> definition. </p>
<p>Each element in the <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list is deleted individually, and its memory is freed. After this function ends, <code>aa_list_p</code> will be NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">aa_list_pp</td><td>pointer to a pointer to a head of <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00251">251</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;{</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *head, *del, *tmp;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="keywordtype">int</span> count;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  <span class="keywordflow">if</span> (*aa_list_pp != NULL) {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    head = *aa_list_pp;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    DL_COUNT(head, tmp, count);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    DL_FOREACH_SAFE(head, del, tmp) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      <span class="keywordflow">if</span> (del-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> != 0xbad) {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        DL_DELETE(head, del);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        del-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> = 0xbad;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    *aa_list_pp = NULL;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8ba60d39468371b4a9352e353a938470"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fix_aa_bp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>op_fmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force the <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> binary point to be consistent with format. </p>
<p>If the binary point location of the <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list is different than the binary point location in the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format, then shift the <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> coefficients as necessary and change the value of the binary point location in each list element.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op_fmt</td><td><a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00452">452</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;{</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa_elt_p;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  double_int constant, <a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordtype">int</span> format_bp, shift;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordflow">if</span> (op_fmt.<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a> == NULL)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  format_bp = op_fmt.<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> + op_fmt.<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;  shift = <a class="code" href="fxopt__affine_8c.html#a5d37055410be60143d12cb25efc75d19">get_aa_bp</a>(op_fmt.<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>) - format_bp;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  DL_FOREACH(op_fmt.<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>, aa_elt_p) {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    coeff = aa_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    aa_elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a> = format_bp;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordflow">if</span> (shift != 0) {</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      <span class="keywordflow">if</span> ((shift &gt; 0) &amp;&amp; <a class="code" href="fxopt__plugin_8c.html#af1c2d3bd684953a9ceb6ea396153ae87">ROUNDING</a>) {</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        constant = double_int_lshift(double_int_one,</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                              (shift - 1),</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                                              HOST_BITS_PER_DOUBLE_INT,</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                                              <a class="code" href="fxopt__plugin_8h.html#a5e225b86d7b20056ee34b49f436fe6ca">LOGICAL</a>);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">if</span> (double_int_negative_p(coeff) &amp;&amp; !<a class="code" href="fxopt__plugin_8c.html#aa34fcd492e3aa34487e64f79e28d13e6">POSITIVE</a>) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;          constant = double_int_sub(constant, double_int_one);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        }</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        coeff = double_int_add(coeff, constant);</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      }</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      coeff =</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        double_int_rshift(coeff, shift, HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    aa_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a> = <a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;  }</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;}</div>
<div class="ttc" id="fxopt__plugin_8c_html_af1c2d3bd684953a9ceb6ea396153ae87"><div class="ttname"><a href="fxopt__plugin_8c.html#af1c2d3bd684953a9ceb6ea396153ae87">ROUNDING</a></div><div class="ttdeci">int ROUNDING</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00053">fxopt_plugin.c:53</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="fxopt__plugin_8c_html_aa34fcd492e3aa34487e64f79e28d13e6"><div class="ttname"><a href="fxopt__plugin_8c.html#aa34fcd492e3aa34487e64f79e28d13e6">POSITIVE</a></div><div class="ttdeci">int POSITIVE</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00054">fxopt_plugin.c:54</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a5d37055410be60143d12cb25efc75d19"><div class="ttname"><a href="fxopt__affine_8c.html#a5d37055410be60143d12cb25efc75d19">get_aa_bp</a></div><div class="ttdeci">int get_aa_bp(struct AA *aa_list_p)</div><div class="ttdoc">Get the binary point location for an aa list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00227">fxopt_affine.c:227</a></div></div>
<div class="ttc" id="struct_a_a_html_afead62a58048aeaad417a4aec4e7277b"><div class="ttname"><a href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">AA::coeff</a></div><div class="ttdeci">double_int coeff</div><div class="ttdoc">Coefficient for this variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00085">fxopt_plugin.h:85</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a5e225b86d7b20056ee34b49f436fe6ca"><div class="ttname"><a href="fxopt__plugin_8h.html#a5e225b86d7b20056ee34b49f436fe6ca">LOGICAL</a></div><div class="ttdeci">#define LOGICAL</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00034">fxopt_plugin.h:34</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_af49afd784b5ff112c3129f155af24748"><div class="ttname"><a href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a></div><div class="ttdeci">#define ARITH</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00033">fxopt_plugin.h:33</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="struct_a_a_html_a71304925be5e74032ea407df25bc41ab"><div class="ttname"><a href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">AA::bp</a></div><div class="ttdeci">uint32_t bp</div><div class="ttdoc">Coefficient binary point location, 0 = true integer. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00086">fxopt_plugin.h:86</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5d37055410be60143d12cb25efc75d19"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int get_aa_bp </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>aa_list_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the binary point location for an aa list. </p>
<p>All elements in the list are checked to ensure that the b.p. location is the same in them all. Ignore elements with zero coefficient.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aa_list_p</td><td>the <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list to be printed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00227">227</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;{</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa_elt_p;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  <span class="keywordtype">int</span> list_bp = 0xbad;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  DL_FOREACH(aa_list_p, aa_elt_p) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordflow">if</span> (aa_elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a> != list_bp) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="keywordflow">if</span> (list_bp == 0xbad)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        list_bp = aa_elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot; Inconsistent binary point in AA list\n&quot;</span>);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="keywordflow">return</span> list_bp;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html_a71304925be5e74032ea407df25bc41ab"><div class="ttname"><a href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">AA::bp</a></div><div class="ttdeci">uint32_t bp</div><div class="ttdoc">Coefficient binary point location, 0 = true integer. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00086">fxopt_plugin.h:86</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae993777c0e51a2fd211ed19d5c100a0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_a_a.html">AA</a>* new_aa_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>op_fmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply shift and round operations to an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list. </p>
<p>A new <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list is created by applying a shift, and possibly a rounding operation, to the existing <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list in a operand's <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure. The size and direction of the shift is determined by the <code>shift</code> element value in the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure, and the type of rounding is determined by the global option flags.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo:</a></b></dt><dd>Verify that the shift size and direction are valid with respect to the operand's format.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op_fmt</td><td><a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to new_aa_list structure </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00407">407</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;{</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *new_list_p = NULL;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa_elt_p;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  double_int constant, <a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;  <span class="keywordtype">int</span> org_bp, shift;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  <span class="keywordflow">if</span> (op_fmt.<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a> == NULL)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  org_bp = op_fmt.<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> + op_fmt.<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  DL_FOREACH(op_fmt.<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>, aa_elt_p) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    coeff = aa_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    shift = aa_elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a> - org_bp;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">if</span> (shift != 0) {</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;      <span class="keywordflow">if</span> ((shift &gt; 0) &amp;&amp; <a class="code" href="fxopt__plugin_8c.html#af1c2d3bd684953a9ceb6ea396153ae87">ROUNDING</a>) {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        constant = double_int_lshift(double_int_one,</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                                              (shift - 1),</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                              HOST_BITS_PER_DOUBLE_INT,</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                              <a class="code" href="fxopt__plugin_8h.html#a5e225b86d7b20056ee34b49f436fe6ca">LOGICAL</a>);</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        <span class="keywordflow">if</span> (double_int_negative_p(coeff) &amp;&amp; !<a class="code" href="fxopt__plugin_8c.html#aa34fcd492e3aa34487e64f79e28d13e6">POSITIVE</a>) {</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;          constant = double_int_sub(constant, double_int_one);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        coeff = double_int_add(coeff, constant);</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;      }</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;      coeff =</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        double_int_rshift(coeff, shift, HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;new_list_p, aa_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>, coeff, org_bp);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keywordflow">return</span> new_list_p;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div>
<div class="ttc" id="fxopt__plugin_8c_html_af1c2d3bd684953a9ceb6ea396153ae87"><div class="ttname"><a href="fxopt__plugin_8c.html#af1c2d3bd684953a9ceb6ea396153ae87">ROUNDING</a></div><div class="ttdeci">int ROUNDING</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00053">fxopt_plugin.c:53</a></div></div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="fxopt__plugin_8c_html_aa34fcd492e3aa34487e64f79e28d13e6"><div class="ttname"><a href="fxopt__plugin_8c.html#aa34fcd492e3aa34487e64f79e28d13e6">POSITIVE</a></div><div class="ttdeci">int POSITIVE</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00054">fxopt_plugin.c:54</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_ad9b85d932ed3ce2e8acdfa9824f3694e"><div class="ttname"><a href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a></div><div class="ttdeci">void append_aa_var(struct AA **aa_list_p, int var_key, double_int coeff, int bp)</div><div class="ttdoc">Add a term to an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00089">fxopt_affine.c:89</a></div></div>
<div class="ttc" id="struct_a_a_html_afead62a58048aeaad417a4aec4e7277b"><div class="ttname"><a href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">AA::coeff</a></div><div class="ttdeci">double_int coeff</div><div class="ttdoc">Coefficient for this variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00085">fxopt_plugin.h:85</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a5e225b86d7b20056ee34b49f436fe6ca"><div class="ttname"><a href="fxopt__plugin_8h.html#a5e225b86d7b20056ee34b49f436fe6ca">LOGICAL</a></div><div class="ttdeci">#define LOGICAL</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00034">fxopt_plugin.h:34</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_af49afd784b5ff112c3129f155af24748"><div class="ttname"><a href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a></div><div class="ttdeci">#define ARITH</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00033">fxopt_plugin.h:33</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="struct_a_a_html_a71304925be5e74032ea407df25bc41ab"><div class="ttname"><a href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">AA::bp</a></div><div class="ttdeci">uint32_t bp</div><div class="ttdoc">Coefficient binary point location, 0 = true integer. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00086">fxopt_plugin.h:86</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2edc90d489df2f82dbfa153463393dbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double_int new_aa_max </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>op_fmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the affine maximum after shifting. </p>
<p>Add the absolute values of all shifted coefficients and return this value as the maximum value of the affine definition. The size and direction of the shift is determined by the <code>shift</code> element in the operand format <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure. If the affine element list is uninitialized return a value of zero.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>Verify that the shift size and direction are valid with respect to the operand's format.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op_fmt</td><td>operand format to be evaluated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double_int maximum value </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00561">561</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;{</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  double_int maxval, constant;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  <span class="keywordtype">int</span> shift;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  maxval = double_int_zero;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  constant = double_int_zero;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">if</span> (op_fmt.<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a> == NULL)</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">return</span> maxval;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  maxval = <a class="code" href="fxopt__affine_8c.html#a067125d7343510a6ff75cda6c5f78a17">aa_max</a>(op_fmt.<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;  shift = op_fmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  <span class="keywordflow">if</span> (shift != 0) {</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="keywordflow">if</span> ((shift &gt; 0) &amp;&amp; <a class="code" href="fxopt__plugin_8c.html#af1c2d3bd684953a9ceb6ea396153ae87">ROUNDING</a>) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;      constant = double_int_lshift(double_int_one,</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                                   (shift - 1),</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                                   HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#a5e225b86d7b20056ee34b49f436fe6ca">LOGICAL</a>);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;      <span class="keywordflow">if</span> (double_int_negative_p(maxval) &amp;&amp; !<a class="code" href="fxopt__plugin_8c.html#aa34fcd492e3aa34487e64f79e28d13e6">POSITIVE</a>) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        constant = double_int_sub(constant, double_int_one);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;      maxval = double_int_add(maxval, constant);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    maxval = double_int_rshift(maxval, shift, HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;  }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">return</span> maxval;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;}</div>
<div class="ttc" id="fxopt__plugin_8c_html_af1c2d3bd684953a9ceb6ea396153ae87"><div class="ttname"><a href="fxopt__plugin_8c.html#af1c2d3bd684953a9ceb6ea396153ae87">ROUNDING</a></div><div class="ttdeci">int ROUNDING</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00053">fxopt_plugin.c:53</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="fxopt__plugin_8c_html_aa34fcd492e3aa34487e64f79e28d13e6"><div class="ttname"><a href="fxopt__plugin_8c.html#aa34fcd492e3aa34487e64f79e28d13e6">POSITIVE</a></div><div class="ttdeci">int POSITIVE</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00054">fxopt_plugin.c:54</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a067125d7343510a6ff75cda6c5f78a17"><div class="ttname"><a href="fxopt__affine_8c.html#a067125d7343510a6ff75cda6c5f78a17">aa_max</a></div><div class="ttdeci">double_int aa_max(struct AA *aa_list_p)</div><div class="ttdoc">Calculate the maximum value of an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00521">fxopt_affine.c:521</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a5e225b86d7b20056ee34b49f436fe6ca"><div class="ttname"><a href="fxopt__plugin_8h.html#a5e225b86d7b20056ee34b49f436fe6ca">LOGICAL</a></div><div class="ttdeci">#define LOGICAL</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00034">fxopt_plugin.h:34</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_af49afd784b5ff112c3129f155af24748"><div class="ttname"><a href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a></div><div class="ttdeci">#define ARITH</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00033">fxopt_plugin.h:33</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a23d0132158a81b4458e2a3f455796d19"><div class="ttname"><a href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">SIF::shift</a></div><div class="ttdeci">int shift</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00128">fxopt_plugin.h:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a003b612e9268116805f65ea7fd99f182"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double_int new_aa_min </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>op_fmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the affine minimum after shifting. </p>
<p>Shifts all of the coefficients according to the <code>shift</code> element value in the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure, then calculates the affine minimum. If the affine element list is uninitialized return a value of zero.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>Verify that the shift size and direction are valid with respect to the operand's format.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op_fmt</td><td>operand format to be evaluated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double_int minimum value </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00640">640</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;{</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  double_int minval, constant;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordtype">int</span> shift;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  minval = double_int_zero;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  constant = double_int_zero;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">if</span> (op_fmt.<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a> == NULL)</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">return</span> minval;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  minval = <a class="code" href="fxopt__affine_8c.html#a0d0ff4cce1470f5c96382192fc06a474">aa_min</a>(op_fmt.<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  shift = op_fmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keywordflow">if</span> (shift != 0) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> ((shift &gt; 0) &amp;&amp; <a class="code" href="fxopt__plugin_8c.html#af1c2d3bd684953a9ceb6ea396153ae87">ROUNDING</a>) {</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;      constant = double_int_lshift(double_int_one,</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                                   (shift - 1),</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                                   HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#a5e225b86d7b20056ee34b49f436fe6ca">LOGICAL</a>);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      <span class="keywordflow">if</span> (double_int_negative_p(minval) &amp;&amp; !<a class="code" href="fxopt__plugin_8c.html#aa34fcd492e3aa34487e64f79e28d13e6">POSITIVE</a>) {</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        constant = double_int_sub(constant, double_int_one);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;      }</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;      minval = double_int_add(minval, constant);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    }</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    minval = double_int_rshift(minval, shift, HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;  }</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="keywordflow">return</span> minval;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;}</div>
<div class="ttc" id="fxopt__plugin_8c_html_af1c2d3bd684953a9ceb6ea396153ae87"><div class="ttname"><a href="fxopt__plugin_8c.html#af1c2d3bd684953a9ceb6ea396153ae87">ROUNDING</a></div><div class="ttdeci">int ROUNDING</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00053">fxopt_plugin.c:53</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="fxopt__plugin_8c_html_aa34fcd492e3aa34487e64f79e28d13e6"><div class="ttname"><a href="fxopt__plugin_8c.html#aa34fcd492e3aa34487e64f79e28d13e6">POSITIVE</a></div><div class="ttdeci">int POSITIVE</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00054">fxopt_plugin.c:54</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a5e225b86d7b20056ee34b49f436fe6ca"><div class="ttname"><a href="fxopt__plugin_8h.html#a5e225b86d7b20056ee34b49f436fe6ca">LOGICAL</a></div><div class="ttdeci">#define LOGICAL</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00034">fxopt_plugin.h:34</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a0d0ff4cce1470f5c96382192fc06a474"><div class="ttname"><a href="fxopt__affine_8c.html#a0d0ff4cce1470f5c96382192fc06a474">aa_min</a></div><div class="ttdeci">double_int aa_min(struct AA *aa_list_p)</div><div class="ttdoc">Calculate the minimum value of an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00602">fxopt_affine.c:602</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_af49afd784b5ff112c3129f155af24748"><div class="ttname"><a href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a></div><div class="ttdeci">#define ARITH</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00033">fxopt_plugin.h:33</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a23d0132158a81b4458e2a3f455796d19"><div class="ttname"><a href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">SIF::shift</a></div><div class="ttdeci">int shift</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00128">fxopt_plugin.h:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad7643305f5a0e209658eb2f121e3a814"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_aa_element </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>aa_elt_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print a single affine list element to stderr. </p>
<p>Converts the coefficient to a floating-point value and prints it. Determines whether the variable is a declared variable or gcc created it, which pass it was defined in, whether or not it is an array element, and then prints its name accordingly. If the list element represents a constant offset then no variable name will be printed. If the coefficient is zero then the element will not be printed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aa_elt_p</td><td>pointer to an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list element </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00152">152</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  tree var_tree;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *s;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordtype">double</span> fcoeff;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">if</span> (! double_int_fits_in_shwi_p(aa_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>))</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0, G_(<span class="stringliteral">&quot;fxopt: double_int bigger than SHWI!&quot;</span>));</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  fcoeff = ((double) double_int_to_shwi(aa_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>))/(1ULL &lt;&lt; aa_elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a>);</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  fprintf(stderr, <span class="stringliteral">&quot;%6.3f&quot;</span>, fcoeff);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordflow">if</span> (aa_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> != 0) {</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordtype">int</span> elt_id = aa_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordtype">int</span> uid = <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(elt_id);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">if</span> (uid != 0) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;      <span class="comment">// get the SIF struct for the variable in the list element</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;      HASH_FIND_INT(<a class="code" href="fxopt__affine_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;elt_id, s);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <span class="keywordflow">if</span> (s-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> != 0) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        var_tree = referenced_var_lookup(cfun, <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(s-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a>));</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        elt_id = s-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        uid = <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(elt_id);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        var_tree = referenced_var_lookup(cfun, <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(elt_id));</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;      }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordtype">int</span> idx = <a class="code" href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a>(elt_id);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      <span class="keywordtype">int</span> pass = <a class="code" href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a>(elt_id);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordflow">if</span> (DECL_NAME(var_tree)) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;*%s&quot;</span>, IDENTIFIER_POINTER(DECL_NAME(var_tree)));</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;*%c%4u&quot;</span>, TREE_CODE(var_tree) == CONST_DECL ? <span class="charliteral">&#39;C&#39;</span> : <span class="charliteral">&#39;D&#39;</span>,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                DECL_UID(var_tree));</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;      }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordflow">if</span> (idx != <a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a>)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;[%1d]&quot;</span>, idx);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;#%d&quot;</span>, pass);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;*ERR%d&quot;</span>, elt_id);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a91eebada26631feb3e5b806fe2536ad6"><div class="ttname"><a href="fxopt__affine_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a></div><div class="ttdeci">struct SIF * var_formats</div><div class="ttdoc">Pointer to the hash table for the variables&#39; SIF formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00091">fxopt_utils.c:91</a></div></div>
<div class="ttc" id="struct_a_a_html_afead62a58048aeaad417a4aec4e7277b"><div class="ttname"><a href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">AA::coeff</a></div><div class="ttdeci">double_int coeff</div><div class="ttdoc">Coefficient for this variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00085">fxopt_plugin.h:85</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a161974a317c27803ef790e5989fcac91"><div class="ttname"><a href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">SIF::alias</a></div><div class="ttdeci">int alias</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00117">fxopt_plugin.h:117</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ae799a9ba06cdf1c06da807eb5135d4b0"><div class="ttname"><a href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a></div><div class="ttdeci">#define KEY_TO_UID(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00052">fxopt_plugin.h:52</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_aeaa24dc28d2cae85c4c92370d64310a3"><div class="ttname"><a href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a></div><div class="ttdeci">#define NOT_AN_ARRAY</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00046">fxopt_plugin.h:46</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="struct_a_a_html_a71304925be5e74032ea407df25bc41ab"><div class="ttname"><a href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">AA::bp</a></div><div class="ttdeci">uint32_t bp</div><div class="ttdoc">Coefficient binary point location, 0 = true integer. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00086">fxopt_plugin.h:86</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a5eb3900658a72bad49717c4b86bff166"><div class="ttname"><a href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a></div><div class="ttdeci">bool warning(int, const char *,...)</div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a4f8811d5916fc02d3ea3369cd63c8583"><div class="ttname"><a href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a></div><div class="ttdeci">#define KEY_TO_PASS(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00053">fxopt_plugin.h:53</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a57b4d6ef6eab411273326b20df6ed752"><div class="ttname"><a href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a></div><div class="ttdeci">#define KEY_TO_IDX(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00054">fxopt_plugin.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1c78a3b66a0674be33d45aa8118d216a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_aa_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>aa_list_p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the equation for an affine definition. </p>
<p>All elements in the list are printed in the form of an arithmetic expression (a sum of products).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aa_list_p</td><td>the <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list to be printed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00204">204</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;{</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa_elt_p;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">if</span> (aa_list_p == NULL) </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;  <span class="comment">//DL_SORT(aa_list_p, aa_id_sort);  // sort is broken?</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  DL_FOREACH(aa_list_p, aa_elt_p) {</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="fxopt__affine_8c.html#ad7643305f5a0e209658eb2f121e3a814">print_aa_element</a>(aa_elt_p);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span> (aa_elt_p-&gt;<a class="code" href="struct_a_a.html#a063dc57333807e1918e6c8534824d8b3">next</a> != NULL)</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;+&quot;</span>);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;}</div>
<div class="ttc" id="fxopt__affine_8c_html_ad7643305f5a0e209658eb2f121e3a814"><div class="ttname"><a href="fxopt__affine_8c.html#ad7643305f5a0e209658eb2f121e3a814">print_aa_element</a></div><div class="ttdeci">void print_aa_element(struct AA *aa_elt_p)</div><div class="ttdoc">Print a single affine list element to stderr. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00152">fxopt_affine.c:152</a></div></div>
<div class="ttc" id="struct_a_a_html_a063dc57333807e1918e6c8534824d8b3"><div class="ttname"><a href="struct_a_a.html#a063dc57333807e1918e6c8534824d8b3">AA::next</a></div><div class="ttdeci">struct AA * next</div><div class="ttdoc">Pointer to next variable structure. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00087">fxopt_plugin.h:87</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a564a9beddec2ea9094ba3c25f0bd619b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_a_a.html">AA</a>* search_aa_var </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_a_a.html">AA</a> *&#160;</td>
          <td class="paramname"><em>aa_list_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>var_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search for a variable in an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list. </p>
<p>Given the hash key for a variable, search an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list for that variable. If found, return a pointer to the list element. If not found return NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">aa_list_p</td><td>head of <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list to be searched </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">var_key</td><td>hash id for variable that is searched for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> element if found, else NULL </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00131">131</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;{</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa_elt_p;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  DL_SEARCH_SCALAR(aa_list_p, aa_elt_p, <span class="keywordtype">id</span>, var_key);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordflow">return</span> aa_elt_p;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6aaff3bb26178b836efd99cf279fbdbf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_a_a.html">AA</a>* shift_aa_list </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>op_fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a virtual shift on an <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list. </p>
<p>Return an new <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list that is a copy of the op_fmt's list, except that each element has been effectively shifted left by k bits. Instead of shifting the coefficients, the binary point location is moved right. This is accomplished by subtracting k from the binary point location of each element and leaving the coefficients unchanged. Note that a virtual shift is equivalent to multiplication by 2^k, and that a negative value for k is a virtual right shift.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Test k value. Must have (k &lt;= (F+E)) and (k &gt;= -I)</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op_fmt</td><td><a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> of the original, unshifted operand </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">k</td><td>number of bit positions to shift </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to new <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> list </dd></dl>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00376">376</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;{</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *new_list_p = NULL;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_a_a.html">AA</a> *aa_elt_p;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;  <span class="keywordflow">if</span> (op_fmt.<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a> == NULL)</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">return</span> NULL;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  DL_FOREACH(op_fmt.<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>, aa_elt_p) {</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;new_list_p, aa_elt_p-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a>, aa_elt_p-&gt;<a class="code" href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">coeff</a>,</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                  (aa_elt_p-&gt;<a class="code" href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">bp</a> - k));</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  <span class="keywordflow">return</span> new_list_p;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;}</div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_ad9b85d932ed3ce2e8acdfa9824f3694e"><div class="ttname"><a href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a></div><div class="ttdeci">void append_aa_var(struct AA **aa_list_p, int var_key, double_int coeff, int bp)</div><div class="ttdoc">Add a term to an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00089">fxopt_affine.c:89</a></div></div>
<div class="ttc" id="struct_a_a_html_afead62a58048aeaad417a4aec4e7277b"><div class="ttname"><a href="struct_a_a.html#afead62a58048aeaad417a4aec4e7277b">AA::coeff</a></div><div class="ttdeci">double_int coeff</div><div class="ttdoc">Coefficient for this variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00085">fxopt_plugin.h:85</a></div></div>
<div class="ttc" id="struct_a_a_html_a71304925be5e74032ea407df25bc41ab"><div class="ttname"><a href="struct_a_a.html#a71304925be5e74032ea407df25bc41ab">AA::bp</a></div><div class="ttdeci">uint32_t bp</div><div class="ttdoc">Coefficient binary point location, 0 = true integer. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00086">fxopt_plugin.h:86</a></div></div>
<div class="ttc" id="struct_a_a_html"><div class="ttname"><a href="struct_a_a.html">AA</a></div><div class="ttdoc">The structure for a term in an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00083">fxopt_plugin.h:83</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a595bf913c6f68e5f9f4cd8d135bca7dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int next_error_id = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ID number for the next unique error term. </p>
<p>Some operations are not strictly affine and introduce error terms that are not linearly correlated with input variables. When these error terms are created we need a unique ID value for each one, and this variable holds the next available unique ID number. It must be incremented after it is used. </p>

<p>Definition at line <a class="el" href="fxopt__affine_8c_source.html#l00042">42</a> of file <a class="el" href="fxopt__affine_8c_source.html">fxopt_affine.c</a>.</p>

</div>
</div>
<a class="anchor" id="a91eebada26631feb3e5b806fe2536ad6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_s_i_f.html">SIF</a>* var_formats</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to the hash table for the variables' <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> formats. </p>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00091">91</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="fxopt__affine_8c.html">fxopt_affine.c</a></li>
    <li class="footer">Generated on Tue Apr 22 2014 19:02:38 for fxopt by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
