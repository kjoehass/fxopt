<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>fxopt: fxopt_utils.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">fxopt
   </div>
   <div id="projectbrief">A floating-point to fixed-point arithmetic conversion plugin for gcc</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('fxopt__utils_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">fxopt_utils.c File Reference<div class="ingroups"><a class="el" href="group__fxoptfiles.html">fxopt Source Code</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Assorted utilities.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="fxopt__plugin_8h_source.html">fxopt_plugin.h</a>&quot;</code><br/>
</div>
<p><a href="fxopt__utils_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab466c1d9b394c4af2ee51b9349253c57"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#ab466c1d9b394c4af2ee51b9349253c57">id_sort</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> *a, struct <a class="el" href="struct_s_i_f.html">SIF</a> *b)</td></tr>
<tr class="memdesc:ab466c1d9b394c4af2ee51b9349253c57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sorting function for variable <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definitions.  <a href="#ab466c1d9b394c4af2ee51b9349253c57">More...</a><br/></td></tr>
<tr class="separator:ab466c1d9b394c4af2ee51b9349253c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa636fdb28a516ed72ba8cc0a57865dcb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#aa636fdb28a516ed72ba8cc0a57865dcb">calc_hash_key</a> (tree var_tree, int pass, int index)</td></tr>
<tr class="memdesc:aa636fdb28a516ed72ba8cc0a57865dcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the hash key for the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> formats.  <a href="#aa636fdb28a516ed72ba8cc0a57865dcb">More...</a><br/></td></tr>
<tr class="separator:aa636fdb28a516ed72ba8cc0a57865dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee03dafc9f72bddb12733c1868849d47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#aee03dafc9f72bddb12733c1868849d47">add_var_format</a> (int var_id)</td></tr>
<tr class="memdesc:aee03dafc9f72bddb12733c1868849d47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new variable to the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format hash.  <a href="#aee03dafc9f72bddb12733c1868849d47">More...</a><br/></td></tr>
<tr class="separator:aee03dafc9f72bddb12733c1868849d47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5c082e069ec56032f08d58c1af6e26e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#aa5c082e069ec56032f08d58c1af6e26e">get_format_ptr</a> (int var_id)</td></tr>
<tr class="memdesc:aa5c082e069ec56032f08d58c1af6e26e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to a <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a>, given its hash key.  <a href="#aa5c082e069ec56032f08d58c1af6e26e">More...</a><br/></td></tr>
<tr class="separator:aa5c082e069ec56032f08d58c1af6e26e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa27c9a550736bb1bbd016f4feb2db4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a6fa27c9a550736bb1bbd016f4feb2db4">find_var_format</a> (int var_id)</td></tr>
<tr class="memdesc:a6fa27c9a550736bb1bbd016f4feb2db4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find/create a pointer to a <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a>, given its hash key.  <a href="#a6fa27c9a550736bb1bbd016f4feb2db4">More...</a><br/></td></tr>
<tr class="separator:a6fa27c9a550736bb1bbd016f4feb2db4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae31c1dc556cb79de8aee5d43d26ee5f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#ae31c1dc556cb79de8aee5d43d26ee5f9">delete_var_format</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> *var_format)</td></tr>
<tr class="memdesc:ae31c1dc556cb79de8aee5d43d26ee5f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definition for a variable.  <a href="#ae31c1dc556cb79de8aee5d43d26ee5f9">More...</a><br/></td></tr>
<tr class="separator:ae31c1dc556cb79de8aee5d43d26ee5f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97aab7e517fb8e9fd49b22f5dd9b780a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a97aab7e517fb8e9fd49b22f5dd9b780a">delete_all_formats</a> ()</td></tr>
<tr class="memdesc:a97aab7e517fb8e9fd49b22f5dd9b780a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes all variable data structures.  <a href="#a97aab7e517fb8e9fd49b22f5dd9b780a">More...</a><br/></td></tr>
<tr class="separator:a97aab7e517fb8e9fd49b22f5dd9b780a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11877c1cccd04ad479f5b98fcff1d2fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a11877c1cccd04ad479f5b98fcff1d2fd">initialize_format</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> *s)</td></tr>
<tr class="memdesc:a11877c1cccd04ad479f5b98fcff1d2fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definition for a variable.  <a href="#a11877c1cccd04ad479f5b98fcff1d2fd">More...</a><br/></td></tr>
<tr class="separator:a11877c1cccd04ad479f5b98fcff1d2fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dc9d1305f409640e94da6faf8940c6e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a1dc9d1305f409640e94da6faf8940c6e">copy_format</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> *src, struct <a class="el" href="struct_s_i_f.html">SIF</a> *dest)</td></tr>
<tr class="memdesc:a1dc9d1305f409640e94da6faf8940c6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a copy of a variable specification.  <a href="#a1dc9d1305f409640e94da6faf8940c6e">More...</a><br/></td></tr>
<tr class="separator:a1dc9d1305f409640e94da6faf8940c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e2f15bd22d9f8fa1435bb3111d5b1b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a16e2f15bd22d9f8fa1435bb3111d5b1b">copy_SIF</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> *src, struct <a class="el" href="struct_s_i_f.html">SIF</a> *dest)</td></tr>
<tr class="memdesc:a16e2f15bd22d9f8fa1435bb3111d5b1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format of one variable to another.  <a href="#a16e2f15bd22d9f8fa1435bb3111d5b1b">More...</a><br/></td></tr>
<tr class="separator:a16e2f15bd22d9f8fa1435bb3111d5b1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22781c7f4b2c2e46cd5d52fe0b64a68f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a22781c7f4b2c2e46cd5d52fe0b64a68f">real_max</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> *op_fmt)</td></tr>
<tr class="memdesc:a22781c7f4b2c2e46cd5d52fe0b64a68f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return range maximum as a floating-point value.  <a href="#a22781c7f4b2c2e46cd5d52fe0b64a68f">More...</a><br/></td></tr>
<tr class="separator:a22781c7f4b2c2e46cd5d52fe0b64a68f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aff6a1aa064b1cb988a5f62c7b1a331"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a9aff6a1aa064b1cb988a5f62c7b1a331">real_min</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> *op_fmt)</td></tr>
<tr class="memdesc:a9aff6a1aa064b1cb988a5f62c7b1a331"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return range minimum as a floating-point value.  <a href="#a9aff6a1aa064b1cb988a5f62c7b1a331">More...</a><br/></td></tr>
<tr class="separator:a9aff6a1aa064b1cb988a5f62c7b1a331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8be6a949239f7d3ec0539e6f454faa7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#af8be6a949239f7d3ec0539e6f454faa7">cleanup_formats</a> ()</td></tr>
<tr class="memdesc:af8be6a949239f7d3ec0539e6f454faa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove unimportant variables from the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> hash table.  <a href="#af8be6a949239f7d3ec0539e6f454faa7">More...</a><br/></td></tr>
<tr class="separator:af8be6a949239f7d3ec0539e6f454faa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a0733cd227cf6b3b4f7ff85a4da4169"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a0a0733cd227cf6b3b4f7ff85a4da4169">force_ptr_consistency</a> ()</td></tr>
<tr class="memdesc:a0a0733cd227cf6b3b4f7ff85a4da4169"><td class="mdescLeft">&#160;</td><td class="mdescRight">Force consistency of <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> formats for versions of pointers.  <a href="#a0a0733cd227cf6b3b4f7ff85a4da4169">More...</a><br/></td></tr>
<tr class="separator:a0a0733cd227cf6b3b4f7ff85a4da4169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad36faef90918aae1fe6ce32cb1299814"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#ad36faef90918aae1fe6ce32cb1299814">print_var_formats</a> ()</td></tr>
<tr class="memdesc:ad36faef90918aae1fe6ce32cb1299814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print formats of <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> hash table variables used in this pass.  <a href="#ad36faef90918aae1fe6ce32cb1299814">More...</a><br/></td></tr>
<tr class="separator:ad36faef90918aae1fe6ce32cb1299814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af58e5e6bf5275a96760f38c380c4ed73"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#af58e5e6bf5275a96760f38c380c4ed73">print_one_format</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> *s)</td></tr>
<tr class="memdesc:af58e5e6bf5275a96760f38c380c4ed73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the S, I, F, and E values for one <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> hash table entry.  <a href="#af58e5e6bf5275a96760f38c380c4ed73">More...</a><br/></td></tr>
<tr class="separator:af58e5e6bf5275a96760f38c380c4ed73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bf5e18f55b0466149ab1b4fd0415075"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a3bf5e18f55b0466149ab1b4fd0415075">print_one_aa_format</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> *s)</td></tr>
<tr class="memdesc:a3bf5e18f55b0466149ab1b4fd0415075"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the S, I, F, and E values and affine definition for a <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> struct.  <a href="#a3bf5e18f55b0466149ab1b4fd0415075">More...</a><br/></td></tr>
<tr class="separator:a3bf5e18f55b0466149ab1b4fd0415075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24143eb1ab7e53505872a42fbfe0eed9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a24143eb1ab7e53505872a42fbfe0eed9">print_format</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> op_fmt)</td></tr>
<tr class="memdesc:a24143eb1ab7e53505872a42fbfe0eed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print the S, I, F, and E values and range min/max for a <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> struct.  <a href="#a24143eb1ab7e53505872a42fbfe0eed9">More...</a><br/></td></tr>
<tr class="separator:a24143eb1ab7e53505872a42fbfe0eed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90f0d05c95b84a24eefe0f01cea768e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a90f0d05c95b84a24eefe0f01cea768e2">restore_attributes</a> ()</td></tr>
<tr class="memdesc:a90f0d05c95b84a24eefe0f01cea768e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore the fxfrmt attribute values for all variables.  <a href="#a90f0d05c95b84a24eefe0f01cea768e2">More...</a><br/></td></tr>
<tr class="separator:a90f0d05c95b84a24eefe0f01cea768e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d1b57a8608fc8ed021daee4f23a72e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#ad9d1b57a8608fc8ed021daee4f23a72e">real_expr_to_integer</a> (gimple stmt)</td></tr>
<tr class="memdesc:ad9d1b57a8608fc8ed021daee4f23a72e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert floating operations to integer operations.  <a href="#ad9d1b57a8608fc8ed021daee4f23a72e">More...</a><br/></td></tr>
<tr class="separator:ad9d1b57a8608fc8ed021daee4f23a72e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3773c7dc71fde8d6366f833714efb18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#aa3773c7dc71fde8d6366f833714efb18">convert_real_var_to_integer</a> (tree var)</td></tr>
<tr class="memdesc:aa3773c7dc71fde8d6366f833714efb18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert floating variables to integers.  <a href="#aa3773c7dc71fde8d6366f833714efb18">More...</a><br/></td></tr>
<tr class="separator:aa3773c7dc71fde8d6366f833714efb18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af307691d9bf993c35a421b9662a6804a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#af307691d9bf993c35a421b9662a6804a">convert_real_func_to_integer</a> (tree decl)</td></tr>
<tr class="memdesc:af307691d9bf993c35a421b9662a6804a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes a function declaration from floating to integer.  <a href="#af307691d9bf993c35a421b9662a6804a">More...</a><br/></td></tr>
<tr class="separator:af307691d9bf993c35a421b9662a6804a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae9f1259640b21f702df96e9b56d2a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#aeae9f1259640b21f702df96e9b56d2a1">invert_constant_operand</a> (gimple stmt, int opnumber)</td></tr>
<tr class="memdesc:aeae9f1259640b21f702df96e9b56d2a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace a constant operand with its reciprocal.  <a href="#aeae9f1259640b21f702df96e9b56d2a1">More...</a><br/></td></tr>
<tr class="separator:aeae9f1259640b21f702df96e9b56d2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18e3e7fd8cbdebd6b6f620fa8e8978ad"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a18e3e7fd8cbdebd6b6f620fa8e8978ad">get_format_real_value_type</a> (REAL_VALUE_TYPE real_const)</td></tr>
<tr class="memdesc:a18e3e7fd8cbdebd6b6f620fa8e8978ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine I, F, and E values for a real constant.  <a href="#a18e3e7fd8cbdebd6b6f620fa8e8978ad">More...</a><br/></td></tr>
<tr class="separator:a18e3e7fd8cbdebd6b6f620fa8e8978ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1320f6310e4e6b0543f362d0ae4a4bf0"><td class="memItemLeft" align="right" valign="top">tree&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a1320f6310e4e6b0543f362d0ae4a4bf0">convert_real_constant</a> (tree real_cst, struct <a class="el" href="struct_s_i_f.html">SIF</a> *op_fmt_p)</td></tr>
<tr class="memdesc:a1320f6310e4e6b0543f362d0ae4a4bf0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a real constant tree to an integer constant tree.  <a href="#a1320f6310e4e6b0543f362d0ae4a4bf0">More...</a><br/></td></tr>
<tr class="separator:a1320f6310e4e6b0543f362d0ae4a4bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5df0cc754284402541cd91358851d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#aeb5df0cc754284402541cd91358851d6">int_constant_format</a> (tree integer_cst, struct <a class="el" href="struct_s_i_f.html">SIF</a> *op_fmt_p)</td></tr>
<tr class="memdesc:aeb5df0cc754284402541cd91358851d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the fixed-point format for an integer constant.  <a href="#aeb5df0cc754284402541cd91358851d6">More...</a><br/></td></tr>
<tr class="separator:aeb5df0cc754284402541cd91358851d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a311a628f05e4d4a0635811cf9d560283"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a311a628f05e4d4a0635811cf9d560283">get_inverted_operand_format</a> (gimple stmt, int op_number)</td></tr>
<tr class="memdesc:a311a628f05e4d4a0635811cf9d560283"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the format of a constant's reciprocal.  <a href="#a311a628f05e4d4a0635811cf9d560283">More...</a><br/></td></tr>
<tr class="separator:a311a628f05e4d4a0635811cf9d560283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7b48feb3569221585755766c0145240"><td class="memItemLeft" align="right" valign="top">tree&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#aa7b48feb3569221585755766c0145240">get_innermost_type</a> (tree vardecl)</td></tr>
<tr class="memdesc:aa7b48feb3569221585755766c0145240"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the innermost type for an operand.  <a href="#aa7b48feb3569221585755766c0145240">More...</a><br/></td></tr>
<tr class="separator:aa7b48feb3569221585755766c0145240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab67b84fcae04e9615dcc269759854a93"><td class="memItemLeft" align="right" valign="top">tree&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#ab67b84fcae04e9615dcc269759854a93">get_operand_decl</a> (tree operand)</td></tr>
<tr class="memdesc:ab67b84fcae04e9615dcc269759854a93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the underlying variable declaration tree for an operand.  <a href="#ab67b84fcae04e9615dcc269759854a93">More...</a><br/></td></tr>
<tr class="separator:ab67b84fcae04e9615dcc269759854a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a838f4d620efd0776323bbe5af19c60c2"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a838f4d620efd0776323bbe5af19c60c2">get_operand_format</a> (gimple stmt, int op_number, int element_number, bool print)</td></tr>
<tr class="memdesc:a838f4d620efd0776323bbe5af19c60c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format of a statement operand.  <a href="#a838f4d620efd0776323bbe5af19c60c2">More...</a><br/></td></tr>
<tr class="separator:a838f4d620efd0776323bbe5af19c60c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf068a8cd925c106fced9fd10c0abbb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#acbf068a8cd925c106fced9fd10c0abbb">set_var_format</a> (tree operand, struct <a class="el" href="struct_s_i_f.html">SIF</a> result_frmt)</td></tr>
<tr class="memdesc:acbf068a8cd925c106fced9fd10c0abbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the calculated <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format for an operand.  <a href="#acbf068a8cd925c106fced9fd10c0abbb">More...</a><br/></td></tr>
<tr class="separator:acbf068a8cd925c106fced9fd10c0abbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3cfe56b57ba0547549a91f3c567dbb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#ab3cfe56b57ba0547549a91f3c567dbb0">fix_f_e_bits</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> oprnd_frmt[], tree oprnd_tree[], int opnumber)</td></tr>
<tr class="memdesc:ab3cfe56b57ba0547549a91f3c567dbb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the F and E values for a shifted constant.  <a href="#ab3cfe56b57ba0547549a91f3c567dbb0">More...</a><br/></td></tr>
<tr class="separator:ab3cfe56b57ba0547549a91f3c567dbb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae33fc19a65b5cae0c06120a3a3037ad7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#ae33fc19a65b5cae0c06120a3a3037ad7">shift_right</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> oprnd_frmt[], tree oprnd_tree[], int opnumber, int count)</td></tr>
<tr class="memdesc:ae33fc19a65b5cae0c06120a3a3037ad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a right shift on an <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format.  <a href="#ae33fc19a65b5cae0c06120a3a3037ad7">More...</a><br/></td></tr>
<tr class="separator:ae33fc19a65b5cae0c06120a3a3037ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4272f8a72e6c14ebd672bf1766e24af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#ad4272f8a72e6c14ebd672bf1766e24af">shift_left</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> oprnd_frmt[], tree oprnd_tree[], int opnumber, int count)</td></tr>
<tr class="memdesc:ad4272f8a72e6c14ebd672bf1766e24af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shift an <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format left.  <a href="#ad4272f8a72e6c14ebd672bf1766e24af">More...</a><br/></td></tr>
<tr class="separator:ad4272f8a72e6c14ebd672bf1766e24af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b5a3e1efe6b3805651ad7dbe2abff3d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a8b5a3e1efe6b3805651ad7dbe2abff3d">check_shift</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> oprnd_frmt)</td></tr>
<tr class="memdesc:a8b5a3e1efe6b3805651ad7dbe2abff3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verify that a desired operand shift is valid.  <a href="#a8b5a3e1efe6b3805651ad7dbe2abff3d">More...</a><br/></td></tr>
<tr class="separator:a8b5a3e1efe6b3805651ad7dbe2abff3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dbaabd34c9e88d0bc5550cdea19494c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a> (struct <a class="el" href="struct_s_i_f.html">SIF</a> oprnd_frmt)</td></tr>
<tr class="memdesc:a9dbaabd34c9e88d0bc5550cdea19494c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Predicate for an initialized format specification.  <a href="#a9dbaabd34c9e88d0bc5550cdea19494c">More...</a><br/></td></tr>
<tr class="separator:a9dbaabd34c9e88d0bc5550cdea19494c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6822e47725a9711554504e9e46a557d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a6822e47725a9711554504e9e46a557d9">abs_tree_log2</a> (tree int_const)</td></tr>
<tr class="memdesc:a6822e47725a9711554504e9e46a557d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate log2 of a power-of-2 integer constant tree.  <a href="#a6822e47725a9711554504e9e46a557d9">More...</a><br/></td></tr>
<tr class="separator:a6822e47725a9711554504e9e46a557d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19cd482ef2a0af9a68e4d6590d277c3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#aa19cd482ef2a0af9a68e4d6590d277c3">abs_tree_floor_log2</a> (tree int_const)</td></tr>
<tr class="memdesc:aa19cd482ef2a0af9a68e4d6590d277c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the floor of the log2 of an integer constant tree.  <a href="#aa19cd482ef2a0af9a68e4d6590d277c3">More...</a><br/></td></tr>
<tr class="separator:aa19cd482ef2a0af9a68e4d6590d277c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b0edb2f2205fa67429572cf3db4a8f7"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a5b0edb2f2205fa67429572cf3db4a8f7">apply_fxfrmt</a> (gimple_stmt_iterator *gsi_p, struct <a class="el" href="struct_s_i_f.html">SIF</a> oprnd_frmt[], tree oprnd_tree[], struct <a class="el" href="struct_s_i_f.html">SIF</a> result_frmt, tree *result_var_p)</td></tr>
<tr class="memdesc:a5b0edb2f2205fa67429572cf3db4a8f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply any fxfrmt attribute to the statement LHS.  <a href="#a5b0edb2f2205fa67429572cf3db4a8f7">More...</a><br/></td></tr>
<tr class="separator:a5b0edb2f2205fa67429572cf3db4a8f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a91eebada26631feb3e5b806fe2536ad6"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a> = NULL</td></tr>
<tr class="memdesc:a91eebada26631feb3e5b806fe2536ad6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the hash table for the variables' <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> formats.  <a href="#a91eebada26631feb3e5b806fe2536ad6">More...</a><br/></td></tr>
<tr class="separator:a91eebada26631feb3e5b806fe2536ad6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac07a6924bf2609e0dc49b2686ed83796"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fxopt__utils_8c.html#ac07a6924bf2609e0dc49b2686ed83796">vars</a> = 0</td></tr>
<tr class="memdesc:ac07a6924bf2609e0dc49b2686ed83796"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter for number of defined variables, just for diagnostics.  <a href="#ac07a6924bf2609e0dc49b2686ed83796">More...</a><br/></td></tr>
<tr class="separator:ac07a6924bf2609e0dc49b2686ed83796"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Assorted utilities. </p>
<dl class="section author"><dt>Author</dt><dd>K. Joseph Hass </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Created: 2014-01-05T11:19:29-0500 </dd>
<dd>
Last modified: 2014-01-05T12:44:22-0500</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (C) 2014 Kenneth Joseph Hass</dd>
<dd>
This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</dd>
<dd>
This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</dd></dl>

<p>Definition in file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aa19cd482ef2a0af9a68e4d6590d277c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abs_tree_floor_log2 </td>
          <td>(</td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>int_const</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the floor of the log2 of an integer constant tree. </p>
<p>Takes the absolute value of the integer constant, then calculates the base 2 log of its value. Returns the floor of the log as an integer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">int_const</td><td>integer constant tree </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>integer </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01792">1792</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;{</div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;  <span class="keywordtype">int</span> prec;</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;  HOST_WIDE_INT high, low;</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;  STRIP_NOPS(int_const);</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;  prec = TYPE_PRECISION(TREE_TYPE(int_const));</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;  high = TREE_INT_CST_HIGH(int_const);</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;  low = TREE_INT_CST_LOW(int_const);</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;  <span class="keywordflow">if</span> (tree_int_cst_sign_bit(int_const)) {</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;    high = -high;</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;    low = -low;</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;  }</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;  <span class="comment">// First clear all bits that are beyond the type&#39;s precision in case we&#39;ve</span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;  <span class="comment">// been sign extended.</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;</div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;  <span class="keywordflow">if</span> (prec == 2 * HOST_BITS_PER_WIDE_INT);</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prec &gt; HOST_BITS_PER_WIDE_INT)</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;    high &amp;= ~((HOST_WIDE_INT) (-1) &lt;&lt; (prec - HOST_BITS_PER_WIDE_INT));</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    high = 0;</div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    <span class="keywordflow">if</span> (prec &lt; HOST_BITS_PER_WIDE_INT)</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;      low &amp;= ~((HOST_WIDE_INT) (-1) &lt;&lt; prec);</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;  }</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;  <span class="keywordflow">return</span> (high != 0 ? HOST_BITS_PER_WIDE_INT + floor_log2(high)</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;          : floor_log2(low));</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6822e47725a9711554504e9e46a557d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int abs_tree_log2 </td>
          <td>(</td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>int_const</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate log2 of a power-of-2 integer constant tree. </p>
<p>Modified version of tree_log2() from tree.c, but works for positive and negative constants. If int_const equals 2^k or -(2^k), return k else return -1.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">int_const</td><td>pointer to tree of the integer constant </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>log base 2 of absolute value of constant </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01753">1753</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;{</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;  <span class="keywordtype">int</span> prec;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;  HOST_WIDE_INT high, low;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;  STRIP_NOPS(int_const);</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;  prec = TYPE_PRECISION(TREE_TYPE(int_const));</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;  high = TREE_INT_CST_HIGH(int_const);</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;  low = TREE_INT_CST_LOW(int_const);</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;  <span class="keywordflow">if</span> (tree_int_cst_sign_bit(int_const)) {</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    high = -high;</div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;    low = -low;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;  }</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;  <span class="comment">// First clear all bits that are beyond the type&#39;s precision in case we&#39;ve</span></div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;  <span class="comment">// been sign extended.</span></div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;  <span class="keywordflow">if</span> (prec == 2 * HOST_BITS_PER_WIDE_INT);</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (prec &gt; HOST_BITS_PER_WIDE_INT)</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;    high &amp;= ~((HOST_WIDE_INT) (-1) &lt;&lt; (prec - HOST_BITS_PER_WIDE_INT));</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;    high = 0;</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;    <span class="keywordflow">if</span> (prec &lt; HOST_BITS_PER_WIDE_INT)</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;      low &amp;= ~((HOST_WIDE_INT) (-1) &lt;&lt; prec);</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;  }</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;  <span class="keywordflow">return</span> (high != 0 ? HOST_BITS_PER_WIDE_INT + exact_log2(high)</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;          : exact_log2(low));</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aee03dafc9f72bddb12733c1868849d47"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void add_var_format </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>var_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a new variable to the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format hash. </p>
<p>Given the hash key for a variable, create a new hash table entry for the variable and initialize the structure elements.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">var_id</td><td>the calculated unique hash key for the variable </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00105">105</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;{</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *s;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordtype">int</span> uid = <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(var_id);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  <span class="keywordflow">if</span> (uid == 0)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">return</span>; <span class="comment">// an affine error term, not a real variable</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <a class="code" href="fxopt__utils_8c.html#ac07a6924bf2609e0dc49b2686ed83796">vars</a>++;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  s = (<span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *) xmalloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="struct_s_i_f.html">SIF</a>));</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <a class="code" href="fxopt__utils_8c.html#a11877c1cccd04ad479f5b98fcff1d2fd">initialize_format</a>(s);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a> = var_id;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// Look for an existing format definition for this variable where the</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="comment">// pass count is 0 and the array index is ignored. If found, copy the</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  <span class="comment">// format information from that variable&#39;s format.</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <span class="keywordtype">int</span> declid = <a class="code" href="fxopt__plugin_8h.html#a31f5fa5e2e42ee5a1e16a2a9c8d63634">UID_IDX_TO_KEY</a>(uid, <a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a>);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordflow">if</span> (var_id != declid) {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *declfmt;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;declid, declfmt);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">if</span> (NULL != declfmt) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">size</a> = declfmt-&gt;<a class="code" href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">size</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">sgnd</a> = declfmt-&gt;<a class="code" href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">sgnd</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">has_attribute</a> = declfmt-&gt;<a class="code" href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">has_attribute</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a6adf63d99e5175efd331c4e1026310c3">attrS</a> = declfmt-&gt;<a class="code" href="struct_s_i_f.html#a6adf63d99e5175efd331c4e1026310c3">attrS</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#aa036ca42a7b23ff2e6f7f76b465b35e1">attrI</a> = declfmt-&gt;<a class="code" href="struct_s_i_f.html#aa036ca42a7b23ff2e6f7f76b465b35e1">attrI</a>;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a33d633e281cae09fd65ec91b398dd3b1">attrF</a> = declfmt-&gt;<a class="code" href="struct_s_i_f.html#a33d633e281cae09fd65ec91b398dd3b1">attrF</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#aff67ec4c65cbe6ef0c7484ad9b15fbe5">attrE</a> = declfmt-&gt;<a class="code" href="struct_s_i_f.html#aff67ec4c65cbe6ef0c7484ad9b15fbe5">attrE</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a34f3337441fd95d8a2903e40d8389f1e">attrmax</a> = declfmt-&gt;<a class="code" href="struct_s_i_f.html#a34f3337441fd95d8a2903e40d8389f1e">attrmax</a>;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a8a02d701730aee5abb2e0a780ec7ee8e">attrmin</a> = declfmt-&gt;<a class="code" href="struct_s_i_f.html#a8a02d701730aee5abb2e0a780ec7ee8e">attrmin</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">ptr_op</a> = declfmt-&gt;<a class="code" href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">ptr_op</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a> = declfmt-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a2624843637dc3d164da62c28373a1ede">iter</a> = declfmt-&gt;<a class="code" href="struct_s_i_f.html#a2624843637dc3d164da62c28373a1ede">iter</a>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  HASH_ADD_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, <span class="keywordtype">id</span>, s);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a6930dd703e6e637a2cc7c98031994d28"><div class="ttname"><a href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">SIF::ptr_op</a></div><div class="ttdeci">int ptr_op</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00130">fxopt_plugin.h:130</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a70b57673b3e2ed7aa3e4bb22faf66d2c"><div class="ttname"><a href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">SIF::has_attribute</a></div><div class="ttdeci">int has_attribute</div><div class="ttdoc">boolean </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00138">fxopt_plugin.h:138</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8186e869eb2a4ac178184a2a93d2dfe4"><div class="ttname"><a href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">SIF::iv</a></div><div class="ttdeci">int iv</div><div class="ttdoc">True if an induction variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00133">fxopt_plugin.h:133</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a6adf63d99e5175efd331c4e1026310c3"><div class="ttname"><a href="struct_s_i_f.html#a6adf63d99e5175efd331c4e1026310c3">SIF::attrS</a></div><div class="ttdeci">int attrS</div><div class="ttdoc">S value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00139">fxopt_plugin.h:139</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a2624843637dc3d164da62c28373a1ede"><div class="ttname"><a href="struct_s_i_f.html#a2624843637dc3d164da62c28373a1ede">SIF::iter</a></div><div class="ttdeci">int iter</div><div class="ttdoc">True if variable used iteratively. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00134">fxopt_plugin.h:134</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_ac07a6924bf2609e0dc49b2686ed83796"><div class="ttname"><a href="fxopt__utils_8c.html#ac07a6924bf2609e0dc49b2686ed83796">vars</a></div><div class="ttdeci">static int vars</div><div class="ttdoc">Counter for number of defined variables, just for diagnostics. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00095">fxopt_utils.c:95</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a34f3337441fd95d8a2903e40d8389f1e"><div class="ttname"><a href="struct_s_i_f.html#a34f3337441fd95d8a2903e40d8389f1e">SIF::attrmax</a></div><div class="ttdeci">double_int attrmax</div><div class="ttdoc">Range max value assigned by fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00143">fxopt_plugin.h:143</a></div></div>
<div class="ttc" id="struct_s_i_f_html_ac2025a3d51101618f408ac561260819d"><div class="ttname"><a href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">SIF::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00116">fxopt_plugin.h:116</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a91eebada26631feb3e5b806fe2536ad6"><div class="ttname"><a href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a></div><div class="ttdeci">struct SIF * var_formats</div><div class="ttdoc">Pointer to the hash table for the variables&#39; SIF formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00091">fxopt_utils.c:91</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a31f5fa5e2e42ee5a1e16a2a9c8d63634"><div class="ttname"><a href="fxopt__plugin_8h.html#a31f5fa5e2e42ee5a1e16a2a9c8d63634">UID_IDX_TO_KEY</a></div><div class="ttdeci">#define UID_IDX_TO_KEY(x, y)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00050">fxopt_plugin.h:50</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8a02d701730aee5abb2e0a780ec7ee8e"><div class="ttname"><a href="struct_s_i_f.html#a8a02d701730aee5abb2e0a780ec7ee8e">SIF::attrmin</a></div><div class="ttdeci">double_int attrmin</div><div class="ttdoc">Range min value assigned by fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00144">fxopt_plugin.h:144</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a76e1eafe400d8c4a61af7cc6c592b058"><div class="ttname"><a href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">SIF::sgnd</a></div><div class="ttdeci">int sgnd</div><div class="ttdoc">1 if signed, 0 if unsigned </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00132">fxopt_plugin.h:132</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ae799a9ba06cdf1c06da807eb5135d4b0"><div class="ttname"><a href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a></div><div class="ttdeci">#define KEY_TO_UID(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00052">fxopt_plugin.h:52</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_aeaa24dc28d2cae85c4c92370d64310a3"><div class="ttname"><a href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a></div><div class="ttdeci">#define NOT_AN_ARRAY</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00046">fxopt_plugin.h:46</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a464166f19006c30663e2465d606c8a07"><div class="ttname"><a href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">SIF::size</a></div><div class="ttdeci">int size</div><div class="ttdoc">size of this variable, in bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00127">fxopt_plugin.h:127</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="struct_s_i_f_html_aff67ec4c65cbe6ef0c7484ad9b15fbe5"><div class="ttname"><a href="struct_s_i_f.html#aff67ec4c65cbe6ef0c7484ad9b15fbe5">SIF::attrE</a></div><div class="ttdeci">int attrE</div><div class="ttdoc">E value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00142">fxopt_plugin.h:142</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a33d633e281cae09fd65ec91b398dd3b1"><div class="ttname"><a href="struct_s_i_f.html#a33d633e281cae09fd65ec91b398dd3b1">SIF::attrF</a></div><div class="ttdeci">int attrF</div><div class="ttdoc">F value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00141">fxopt_plugin.h:141</a></div></div>
<div class="ttc" id="struct_s_i_f_html_aa036ca42a7b23ff2e6f7f76b465b35e1"><div class="ttname"><a href="struct_s_i_f.html#aa036ca42a7b23ff2e6f7f76b465b35e1">SIF::attrI</a></div><div class="ttdeci">int attrI</div><div class="ttdoc">I value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00140">fxopt_plugin.h:140</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a11877c1cccd04ad479f5b98fcff1d2fd"><div class="ttname"><a href="fxopt__utils_8c.html#a11877c1cccd04ad479f5b98fcff1d2fd">initialize_format</a></div><div class="ttdeci">void initialize_format(struct SIF *s)</div><div class="ttdoc">Initialize the SIF definition for a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00219">fxopt_utils.c:219</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5b0edb2f2205fa67429572cf3db4a8f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_s_i_f.html">SIF</a> apply_fxfrmt </td>
          <td>(</td>
          <td class="paramtype">gimple_stmt_iterator *&#160;</td>
          <td class="paramname"><em>gsi_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>oprnd_frmt</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>oprnd_tree</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>result_frmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tree *&#160;</td>
          <td class="paramname"><em>result_var_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply any fxfrmt attribute to the statement LHS. </p>
<p>If the format of the result (operand 0) was assigned by a fxfrmt attribute, saturate the current result to the desired number of integer bits.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gsi_p</td><td>pointer to gimple_stmt_iterator </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oprnd_frmt</td><td><a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure array for all operands </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oprnd_tree</td><td>tree array for all operands </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">result_frmt</td><td>calculated <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure for result </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">result_var_p</td><td>pointer to result variable's tree </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure for result format, after applying fxfrmt </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01838">1838</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;{</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> new_frmt = result_frmt;</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;  <span class="keywordtype">int</span> temp;</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;  gimple new_stmt;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;  <span class="keywordflow">if</span> (oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">has_attribute</a>) {</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;  Unsaturated RESULT is (%2d/%2d/%2d/%2d) shft %2d&quot;</span>,</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;            result_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>, result_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>, result_frmt.<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>, result_frmt.<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>,</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;            result_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>);</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;    temp = result_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>;</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;    result_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = 0;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#a61d93d5b2dacbad2642abfc9ce74c923">print_min_max</a>(result_frmt);</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;    result_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = temp;</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    <span class="keywordflow">if</span> (oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> &lt; result_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>) {</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;      <span class="comment">// Saturation converts I bits to S bits. Adding these redundant bits</span></div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;      <span class="comment">//   decreases the size of the right shift that may be needed to convert</span></div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;      <span class="comment">//   a double-precision result back to single precision with S=1</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;      new_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> = result_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> + (result_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> - oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>);</div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;      new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = result_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> - (result_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> - oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>);</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;      new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = MAX(new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>, 0);</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;      new_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> = oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;      <span class="comment">// the desired number of info bits in the saturated value</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;      <span class="keywordtype">int</span> sat_bits = oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> + result_frmt.<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> + result_frmt.<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;      <span class="comment">// sat_value is the largest positive value that will fit in the</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;      <span class="comment">//   final format, after being shifted to single precision</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;      <span class="comment">// When updating the min/max values, force the empty bits to</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;      <span class="comment">//   zeros in the maximum value</span></div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;      double_int sat_value = double_int_mask(sat_bits);</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;      <span class="keywordflow">if</span> (new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> != 0)</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;        sat_value =</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;            double_int_and_not(sat_value, double_int_mask(new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>));</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;      <span class="keywordflow">if</span> (new_frmt.<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> &gt; 0)</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;        sat_value = double_int_and_not(sat_value, double_int_mask(new_frmt.<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>));</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;      new_frmt.<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a> = double_int_smin(new_frmt.<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>, sat_value);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;      new_frmt.<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a> =</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;          double_int_smax(new_frmt.<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a>,</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;                          double_int_sext(double_int_neg(new_frmt.<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>),</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                                          <a class="code" href="fxopt__plugin_8h.html#a2bd535fc6e6b20080752929e0bf44cab">PRECISION</a>(new_frmt)));</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="fxopt__plugin_8c.html#a56edbda4dd15509d5347fa917ea5b9ed">lastpass</a>) {</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;        tree max_pos =</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            double_int_to_tree(TREE_TYPE(*result_var_p), new_frmt.<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>);</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;        tree maxpos_var =</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;            make_rename_temp(TREE_TYPE(*result_var_p), <span class="stringliteral">&quot;_fx_maxpos0&quot;</span>);</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;        new_stmt =</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            gimple_build_assign_with_ops(INTEGER_CST, maxpos_var, max_pos,</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;                                         NULL);</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;        <a class="code" href="fxopt__plugin_8h.html#a876c8b44be0037b8595d6cca4e4da2f6">print_gimple_stmt</a>(stderr, new_stmt, 2, 0);</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;        <span class="comment">//gimple_set_visited(new_stmt, true);</span></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;        gsi_insert_after(gsi_p, new_stmt, GSI_NEW_STMT);</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;        <span class="comment">// only saturate positive if value can be positive</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="fxopt__plugin_8h.html#a8af14854697d422bb08fef6b1db132f4">double_int_positive_p</a>(new_frmt.<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>)) {</div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;          tree satpos_var =</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;              make_rename_temp(TREE_TYPE(*result_var_p), <span class="stringliteral">&quot;_fx_satpos0&quot;</span>);</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;          new_stmt =</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;              gimple_build_assign_with_ops(<a class="code" href="dct__a_8c.html#af943ed7bf812ae436282a749e888e081">MIN_EXPR</a>, satpos_var,</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;                                           *result_var_p, maxpos_var);</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;          <a class="code" href="fxopt__plugin_8h.html#a876c8b44be0037b8595d6cca4e4da2f6">print_gimple_stmt</a>(stderr, new_stmt, 2, 0);</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;          <span class="comment">//gimple_set_visited(new_stmt, true);</span></div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;          gsi_insert_after(gsi_p, new_stmt, GSI_NEW_STMT);</div>
<div class="line"><a name="l01911"></a><span class="lineno"> 1911</span>&#160;          *result_var_p = satpos_var;</div>
<div class="line"><a name="l01912"></a><span class="lineno"> 1912</span>&#160;        }</div>
<div class="line"><a name="l01913"></a><span class="lineno"> 1913</span>&#160;        <span class="comment">// only saturate negative if value can be negative</span></div>
<div class="line"><a name="l01914"></a><span class="lineno"> 1914</span>&#160;        <span class="keywordflow">if</span> (double_int_negative_p(new_frmt.<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a>)) {</div>
<div class="line"><a name="l01915"></a><span class="lineno"> 1915</span>&#160;          tree minneg_var =</div>
<div class="line"><a name="l01916"></a><span class="lineno"> 1916</span>&#160;              make_rename_temp(TREE_TYPE(*result_var_p), <span class="stringliteral">&quot;_fx_minneg0&quot;</span>);</div>
<div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;          new_stmt =</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;              gimple_build_assign_with_ops(NEGATE_EXPR, minneg_var,</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;                                           maxpos_var, NULL);</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;          <a class="code" href="fxopt__plugin_8h.html#a876c8b44be0037b8595d6cca4e4da2f6">print_gimple_stmt</a>(stderr, new_stmt, 2, 0);</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;          <span class="comment">//gimple_set_visited(new_stmt, true);</span></div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;          gsi_insert_after(gsi_p, new_stmt, GSI_NEW_STMT);</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;          tree sat_var = make_rename_temp(TREE_TYPE(*result_var_p), <span class="stringliteral">&quot;_fx_sat0&quot;</span>);</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;          new_stmt =</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;              gimple_build_assign_with_ops(<a class="code" href="dct__a_8c.html#aec08fd23e72352919980866ad6becf20">MAX_EXPR</a>, sat_var, *result_var_p,</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;                                           minneg_var);</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;          <a class="code" href="fxopt__plugin_8h.html#a876c8b44be0037b8595d6cca4e4da2f6">print_gimple_stmt</a>(stderr, new_stmt, 2, 0);</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;          <span class="comment">//gimple_set_visited(new_stmt, true);</span></div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;          gsi_insert_after(gsi_p, new_stmt, GSI_NEW_STMT);</div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;          *result_var_p = sat_var;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;        }</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;      }                         <span class="comment">// if lastpass</span></div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;      <span class="comment">// Print out the final result format</span></div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;    Saturated RESULT is (%2d/%2d/%2d/%2d) shft %2d&quot;</span>,</div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;              new_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>, new_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>, new_frmt.<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>, new_frmt.<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>, new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>);</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;      temp = new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>;</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;      new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = 0;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;      <a class="code" href="fxopt__plugin_8h.html#a61d93d5b2dacbad2642abfc9ce74c923">print_min_max</a>(new_frmt);</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;      new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = temp;</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    }                           <span class="comment">// result needs more I bits than oprnd0 has</span></div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;  }                             <span class="comment">// oprnd 0 has an attribute</span></div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;  <span class="comment">// If the original LHS is a pointer with a fxfrmt attribute then</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;  <span class="comment">//   we can&#39;t change the binary point location, so we need to make sure</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;  <span class="comment">//   that both S and I have the same values as the attribute</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;  <span class="comment">// shift left to discard extra</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;  <span class="comment">// sign bits so that both S and I are the same</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;  <span class="keywordflow">if</span> (oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">ptr_op</a> != 0) {</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    <span class="keywordtype">int</span> shift_size = 0;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <span class="keywordflow">if</span> (oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> &gt; result_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>) {</div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;      <span class="comment">// Convert S bits to fake I bits if possible</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;      <span class="keywordtype">int</span> bits2convert = MIN((oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> - 1),</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;                             (oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> - result_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>));</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;      <span class="keywordflow">if</span> (bits2convert &gt; 0) {</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;    Converting %d S bits to I bits\n&quot;</span>, bits2convert);</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;        new_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> = result_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> - bits2convert;</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        new_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> = result_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> + bits2convert;</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;      }</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;      <span class="comment">// Do a right shift, adding I bits instead of S bits</span></div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;      shift_size = oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> - result_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> - bits2convert;</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;    shift_size %d to equalize I bits\n&quot;</span>, shift_size);</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;      new_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> += shift_size;</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    }</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    <span class="keywordflow">if</span> (oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> != new_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>) {</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;      shift_size += oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> - new_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>;</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;    shift_size %d to equalize S bits\n&quot;</span>, shift_size);</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;    }</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> += shift_size;</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <span class="keywordflow">if</span> (new_frmt.<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> &gt; shift_size) {</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;      new_frmt.<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> -= shift_size;</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;      new_frmt.<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> -= (shift_size - new_frmt.<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>);</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;      new_frmt.<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> = 0;</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;    }</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;    new_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> = oprnd_frmt[0].<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>;</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;    <span class="comment">// Print out the final result format</span></div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;   Saturated pointer is (%2d/%2d/%2d/%2d) shft %2d&quot;</span>,</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;            new_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>, new_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>, new_frmt.<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>, new_frmt.<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>, new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>);</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    temp = new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;    new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = shift_size;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#a61d93d5b2dacbad2642abfc9ce74c923">print_min_max</a>(new_frmt);</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;    new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = temp;</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;  }</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;  <span class="keywordflow">if</span> (new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> != 0) {</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;    <span class="comment">// </span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;    <span class="comment">// Do the required shift</span></div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;    <span class="comment">// </span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="fxopt__plugin_8c.html#a56edbda4dd15509d5347fa917ea5b9ed">lastpass</a>) {</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;      tree shifted_var = make_rename_temp(TREE_TYPE(*result_var_p),</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                                          <span class="stringliteral">&quot;_fx_shft0&quot;</span>);</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;      <span class="keywordflow">if</span> (new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> &gt; 0) {</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;        tree shift_constant =</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;            build_int_cst(integer_type_node, new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>);</div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;        new_stmt =</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;            gimple_build_assign_with_ops(RSHIFT_EXPR, shifted_var,</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                                         *result_var_p, shift_constant);</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;        tree shift_constant =</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;            build_int_cst(integer_type_node, -new_frmt.<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>);</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;        new_stmt =</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;            gimple_build_assign_with_ops(LSHIFT_EXPR, shifted_var,</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                                         *result_var_p, shift_constant);</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;      }</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;      <span class="comment">//gimple_set_visited(new_stmt, true);</span></div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;      gsi_insert_after(gsi_p, new_stmt, GSI_NEW_STMT);</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;      <a class="code" href="fxopt__plugin_8h.html#a876c8b44be0037b8595d6cca4e4da2f6">print_gimple_stmt</a>(stderr, new_stmt, 2, 0);</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;      *result_var_p = shifted_var;</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;    }                         <span class="comment">// lastpass</span></div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;  }                           <span class="comment">// need to shift after saturation</span></div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;  <span class="keywordflow">return</span> new_frmt;</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a6930dd703e6e637a2cc7c98031994d28"><div class="ttname"><a href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">SIF::ptr_op</a></div><div class="ttdeci">int ptr_op</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00130">fxopt_plugin.h:130</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a70b57673b3e2ed7aa3e4bb22faf66d2c"><div class="ttname"><a href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">SIF::has_attribute</a></div><div class="ttdeci">int has_attribute</div><div class="ttdoc">boolean </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00138">fxopt_plugin.h:138</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a876c8b44be0037b8595d6cca4e4da2f6"><div class="ttname"><a href="fxopt__plugin_8h.html#a876c8b44be0037b8595d6cca4e4da2f6">print_gimple_stmt</a></div><div class="ttdeci">void print_gimple_stmt(FILE *, gimple, int, int)</div></div>
<div class="ttc" id="struct_s_i_f_html_a584bf30db787408850e826a9e25d7816"><div class="ttname"><a href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">SIF::min</a></div><div class="ttdeci">double_int min</div><div class="ttdoc">Minimum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00136">fxopt_plugin.h:136</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a61d93d5b2dacbad2642abfc9ce74c923"><div class="ttname"><a href="fxopt__plugin_8h.html#a61d93d5b2dacbad2642abfc9ce74c923">print_min_max</a></div><div class="ttdeci">void print_min_max(struct SIF op_fmt)</div><div class="ttdoc">Print a range&#39;s min and max as floating-point and hexadecimal values. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__range_8c_source.html#l00337">fxopt_range.c:337</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a564d283d3bb41651e593c62e2f46d079"><div class="ttname"><a href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">SIF::max</a></div><div class="ttdeci">double_int max</div><div class="ttdoc">Maximum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00135">fxopt_plugin.h:135</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a2bd535fc6e6b20080752929e0bf44cab"><div class="ttname"><a href="fxopt__plugin_8h.html#a2bd535fc6e6b20080752929e0bf44cab">PRECISION</a></div><div class="ttdeci">#define PRECISION(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00056">fxopt_plugin.h:56</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a8af14854697d422bb08fef6b1db132f4"><div class="ttname"><a href="fxopt__plugin_8h.html#a8af14854697d422bb08fef6b1db132f4">double_int_positive_p</a></div><div class="ttdeci">bool double_int_positive_p(double_int dblint)</div><div class="ttdoc">Test a double_int for being positive. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__range_8c_source.html#l00080">fxopt_range.c:80</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a23d0132158a81b4458e2a3f455796d19"><div class="ttname"><a href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">SIF::shift</a></div><div class="ttdeci">int shift</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00128">fxopt_plugin.h:128</a></div></div>
<div class="ttc" id="fxopt__plugin_8c_html_a56edbda4dd15509d5347fa917ea5b9ed"><div class="ttname"><a href="fxopt__plugin_8c.html#a56edbda4dd15509d5347fa917ea5b9ed">lastpass</a></div><div class="ttdeci">int lastpass</div><div class="ttdoc">Set to true when all formats are resolved and code can be generated. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00039">fxopt_plugin.c:39</a></div></div>
<div class="ttc" id="dct__a_8c_html_af943ed7bf812ae436282a749e888e081"><div class="ttname"><a href="dct__a_8c.html#af943ed7bf812ae436282a749e888e081">MIN_EXPR</a></div><div class="ttdeci">#define MIN_EXPR(X, Y)</div><div class="ttdef"><b>Definition:</b> <a href="dct__a_8c_source.html#l00008">dct_a.c:8</a></div></div>
<div class="ttc" id="dct__a_8c_html_aec08fd23e72352919980866ad6becf20"><div class="ttname"><a href="dct__a_8c.html#aec08fd23e72352919980866ad6becf20">MAX_EXPR</a></div><div class="ttdeci">#define MAX_EXPR(X, Y)</div><div class="ttdef"><b>Definition:</b> <a href="dct__a_8c_source.html#l00007">dct_a.c:7</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa636fdb28a516ed72ba8cc0a57865dcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int calc_hash_key </td>
          <td>(</td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>var_tree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the hash key for the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> formats. </p>
<p>The key is calculated from the UID of the variable declaration, the array index (if this variable is an element in an array), and the pass number.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">var_tree</td><td>the gcc tree for the underlying variable declaration </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pass</td><td>pass number </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>index value for array elements </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the calculated unique hash key </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00068">68</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  var_tree = <a class="code" href="fxopt__utils_8c.html#ab67b84fcae04e9615dcc269759854a93">get_operand_decl</a>(var_tree);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="keywordflow">if</span> ((TREE_CODE(var_tree) == VAR_DECL)</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      || (TREE_CODE(var_tree) == PARM_DECL)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      || (TREE_CODE(var_tree) == RESULT_DECL)) {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span> (0 == DECL_UID(var_tree))</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: variable UID is null&quot;</span>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span> ((index &gt;= <a class="code" href="fxopt__plugin_8h.html#af124795c150434ff274e1572bee8eba9">MAX_ELEMENTS</a>) || (index &lt; 0))</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: Array index is too large or is negative&quot;</span>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span> ((pass &gt;= <a class="code" href="fxopt__plugin_8h.html#ac375c87c2a09616f10a6db6bd7dc45bb">MAX_PASSES</a>) || (pass &lt; 0))</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: Pass number is too large or is negative&quot;</span>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">int</span> key = <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(DECL_UID(var_tree),pass,index);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">return</span> key;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: calc_hash_key parameter not a DECL&quot;</span>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="ttc" id="fxopt__plugin_8h_html_ac375c87c2a09616f10a6db6bd7dc45bb"><div class="ttname"><a href="fxopt__plugin_8h.html#ac375c87c2a09616f10a6db6bd7dc45bb">MAX_PASSES</a></div><div class="ttdeci">#define MAX_PASSES</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00043">fxopt_plugin.h:43</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_ab67b84fcae04e9615dcc269759854a93"><div class="ttname"><a href="fxopt__utils_8c.html#ab67b84fcae04e9615dcc269759854a93">get_operand_decl</a></div><div class="ttdeci">tree get_operand_decl(tree operand)</div><div class="ttdoc">Find the underlying variable declaration tree for an operand. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l01109">fxopt_utils.c:1109</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_af124795c150434ff274e1572bee8eba9"><div class="ttname"><a href="fxopt__plugin_8h.html#af124795c150434ff274e1572bee8eba9">MAX_ELEMENTS</a></div><div class="ttdeci">#define MAX_ELEMENTS</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00044">fxopt_plugin.h:44</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a3b8dd6f683d483b6b3f7fe66b089ec1b"><div class="ttname"><a href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a></div><div class="ttdeci">#define UID_PASS_IDX_TO_KEY(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00051">fxopt_plugin.h:51</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ace046b3f15f31d2cdb41c1126fd00517"><div class="ttname"><a href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a></div><div class="ttdeci">void error(const char *,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8b5a3e1efe6b3805651ad7dbe2abff3d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void check_shift </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>oprnd_frmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Verify that a desired operand shift is valid. </p>
<p>Generate an error message if the shift would result in the loss of integer bits, or if the sign information would be lost.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oprnd_frmt</td><td>operand's <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01711">1711</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;{</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a>(oprnd_frmt))</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;  <span class="keywordflow">if</span> (oprnd_frmt.<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> &lt; 0) {</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: invalid right shift, lost I bits&quot;</span>);</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;  }</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;  <span class="keywordflow">if</span> (oprnd_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> &lt; 0) {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: invalid shift, negative I bits&quot;</span>);</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;  }</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;  <span class="keywordflow">if</span> (oprnd_frmt.<a class="code" href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">sgnd</a>) {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;    <span class="keywordflow">if</span> (oprnd_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> &lt; 1) {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;      <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: invalid left shift, signed operand&quot;</span>);</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    }</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (oprnd_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> &lt; 0) {</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: invalid left shift, unsigned operand&quot;</span>);</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;  }</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a9dbaabd34c9e88d0bc5550cdea19494c"><div class="ttname"><a href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a></div><div class="ttdeci">int format_initialized(struct SIF oprnd_frmt)</div><div class="ttdoc">Predicate for an initialized format specification. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l01738">fxopt_utils.c:1738</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a76e1eafe400d8c4a61af7cc6c592b058"><div class="ttname"><a href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">SIF::sgnd</a></div><div class="ttdeci">int sgnd</div><div class="ttdoc">1 if signed, 0 if unsigned </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00132">fxopt_plugin.h:132</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ace046b3f15f31d2cdb41c1126fd00517"><div class="ttname"><a href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a></div><div class="ttdeci">void error(const char *,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af8be6a949239f7d3ec0539e6f454faa7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cleanup_formats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove unimportant variables from the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> hash table. </p>
<p>Before printing the fixed-point information about all of the variables we delete the hash table entries for variables that are not important.</p>
<p>This is done by iterating through gcc's list of declared variables, not by iterating through the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> hash table. Information for induction variables is discarded, as is that of any variable where the fixed-point format is undefined. If there is an entry for a version of a variable (meaning that it has an array index and/or a non-zero pass number) then compare the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> values for the version and the underlying variable...delete the version if they are the same.</p>
<p>We also look for some error conditions. All versions of a function parameter declaration or the function's return value should have the same <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format. All versions of a pointer should be the same, and alias variables should have the same format as the aliased variable. </p>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00341">341</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;{</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  tree var;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  referenced_var_iterator rvi;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *var_fmt;     <span class="comment">//&lt; points to SIF struct for declared variable</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *vers_fmt;    <span class="comment">//&lt; points to ::SIF struct for a version of variable</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *is_array;    <span class="comment">//&lt; a fake pointer, tests for arrays</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;  <span class="keywordtype">int</span> i, j, key, elements;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  FOR_EACH_REFERENCED_VAR(cfun, var, rvi) {</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    key = <a class="code" href="fxopt__utils_8c.html#aa636fdb28a516ed72ba8cc0a57865dcb">calc_hash_key</a>(var, 0, <a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;key, var_fmt);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span> (NULL != var_fmt) {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      key = <a class="code" href="fxopt__utils_8c.html#aa636fdb28a516ed72ba8cc0a57865dcb">calc_hash_key</a>(var, 0, 0);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;key, is_array);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;      <span class="keywordflow">if</span> (is_array)</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        elements = <a class="code" href="fxopt__plugin_8h.html#af124795c150434ff274e1572bee8eba9">MAX_ELEMENTS</a>;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        elements = 1;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="fxopt__plugin_8h.html#ac375c87c2a09616f10a6db6bd7dc45bb">MAX_PASSES</a>; i++) {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">for</span> (j = 0; j &lt; elements; j++) {</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;          key = <a class="code" href="fxopt__utils_8c.html#aa636fdb28a516ed72ba8cc0a57865dcb">calc_hash_key</a>(var, i, j);</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;          HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;key, vers_fmt);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;          <span class="keywordflow">if</span> ((NULL != vers_fmt) &amp;&amp; (var_fmt != vers_fmt)) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keywordflow">if</span> ((var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a>) || (!<a class="code" href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a>(*vers_fmt))) {</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;              <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(vers_fmt-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;              HASH_DEL(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, vers_fmt);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;              free(vers_fmt);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a>(*var_fmt)) {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;              <span class="keywordflow">if</span> ((var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> != vers_fmt-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>) || (var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> != vers_fmt-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>) ||</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                  (var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> != vers_fmt-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>) || (var_fmt-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> != vers_fmt-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>)) {</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a> = 1;        <span class="comment">// use iv as a &quot;don&#39;t print&quot; flag</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                <span class="keywordflow">if</span> (!var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">has_attribute</a>) {</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                  <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(vers_fmt-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                  HASH_DEL(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, vers_fmt);</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                  free(vers_fmt);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;              } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(vers_fmt-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                HASH_DEL(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, vers_fmt);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                free(vers_fmt);</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;              }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;              <a class="code" href="fxopt__utils_8c.html#a1dc9d1305f409640e94da6faf8940c6e">copy_format</a>(vers_fmt, var_fmt);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;              <span class="comment">// don&#39;t delete aa list, shallow copy to var_fmt</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;              HASH_DEL(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, vers_fmt);</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;              free(vers_fmt);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;          }                     <span class="comment">// if vers_fmt is initialized</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        }                       <span class="comment">// for each element of var</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      }                         <span class="comment">// for each pass through the BB</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;      <span class="keywordflow">if</span> (((var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a>) || (!<a class="code" href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a>(*var_fmt)))</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;          &amp;&amp; (!var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a>)) {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">if</span> (PARM_DECL == TREE_CODE(var)) {</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;          <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0, G_(<span class="stringliteral">&quot;Inconsistent format of a function parameter&quot;</span>));</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;          var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a> = 0;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;          var_fmt-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">size</a>;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (DECL_RESULT(current_function_decl) == var) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;          <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0, G_(<span class="stringliteral">&quot;Inconsistent format of function return value&quot;</span>));</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;          var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a> = 0;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;          var_fmt-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">size</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">has_attribute</a>) {</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;          tree var_tree = referenced_var_lookup(cfun, <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(var_fmt-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>));</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;          <span class="keywordflow">if</span> (DECL_NAME(var_tree)) {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                    G_</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                    (<span class="stringliteral">&quot;Inconsistent format of variable %s (with attribute)&quot;</span>),</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                    IDENTIFIER_POINTER(DECL_NAME(var_tree)));</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0,</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                    G_</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                    (<span class="stringliteral">&quot;Inconsistent format of variable %c%4u (with attribute)&quot;</span>),</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                    TREE_CODE(var_tree) == CONST_DECL ? <span class="charliteral">&#39;C&#39;</span> : <span class="charliteral">&#39;D&#39;</span>,</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                    DECL_UID(var_tree));</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;          }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;          var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a> = 0;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">ptr_op</a>) {</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;          tree var_tree = referenced_var_lookup(cfun, <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(var_fmt-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>));</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;          <span class="keywordflow">if</span> (DECL_NAME(var_tree)) {</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;            <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0,</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;                    G_(<span class="stringliteral">&quot;Inconsistent format of pointer %s&quot;</span>),</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                    IDENTIFIER_POINTER(DECL_NAME(var_tree)));</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;          } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Inconsistent format of pointer %c%4u\n&quot;</span>,</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                    TREE_CODE(var_tree) == CONST_DECL ? <span class="charliteral">&#39;C&#39;</span> : <span class="charliteral">&#39;D&#39;</span>,</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                    DECL_UID(var_tree));</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;          }</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;          var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a> = 0;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;          var_fmt-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">size</a>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;          <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(var_fmt-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;          HASH_DEL(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, var_fmt);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;          free(var_fmt);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }                           <span class="comment">// if var_fmt is not NULL</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }                             <span class="comment">// for each referenced var</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a6930dd703e6e637a2cc7c98031994d28"><div class="ttname"><a href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">SIF::ptr_op</a></div><div class="ttdeci">int ptr_op</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00130">fxopt_plugin.h:130</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a70b57673b3e2ed7aa3e4bb22faf66d2c"><div class="ttname"><a href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">SIF::has_attribute</a></div><div class="ttdeci">int has_attribute</div><div class="ttdoc">boolean </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00138">fxopt_plugin.h:138</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8186e869eb2a4ac178184a2a93d2dfe4"><div class="ttname"><a href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">SIF::iv</a></div><div class="ttdeci">int iv</div><div class="ttdoc">True if an induction variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00133">fxopt_plugin.h:133</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="struct_s_i_f_html_ac2025a3d51101618f408ac561260819d"><div class="ttname"><a href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">SIF::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00116">fxopt_plugin.h:116</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ac375c87c2a09616f10a6db6bd7dc45bb"><div class="ttname"><a href="fxopt__plugin_8h.html#ac375c87c2a09616f10a6db6bd7dc45bb">MAX_PASSES</a></div><div class="ttdeci">#define MAX_PASSES</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00043">fxopt_plugin.h:43</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a91eebada26631feb3e5b806fe2536ad6"><div class="ttname"><a href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a></div><div class="ttdeci">struct SIF * var_formats</div><div class="ttdoc">Pointer to the hash table for the variables&#39; SIF formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00091">fxopt_utils.c:91</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a161974a317c27803ef790e5989fcac91"><div class="ttname"><a href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">SIF::alias</a></div><div class="ttdeci">int alias</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00117">fxopt_plugin.h:117</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_aa636fdb28a516ed72ba8cc0a57865dcb"><div class="ttname"><a href="fxopt__utils_8c.html#aa636fdb28a516ed72ba8cc0a57865dcb">calc_hash_key</a></div><div class="ttdeci">int calc_hash_key(tree var_tree, int pass, int index)</div><div class="ttdoc">Calculate the hash key for the SIF formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00068">fxopt_utils.c:68</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_aaa3848f108434439b2d91a86bda052d3"><div class="ttname"><a href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a></div><div class="ttdeci">void delete_aa_list(struct AA **aa_list_pp)</div><div class="ttdoc">Delete an entire AA definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00251">fxopt_affine.c:251</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a9dbaabd34c9e88d0bc5550cdea19494c"><div class="ttname"><a href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a></div><div class="ttdeci">int format_initialized(struct SIF oprnd_frmt)</div><div class="ttdoc">Predicate for an initialized format specification. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l01738">fxopt_utils.c:1738</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ae799a9ba06cdf1c06da807eb5135d4b0"><div class="ttname"><a href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a></div><div class="ttdeci">#define KEY_TO_UID(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00052">fxopt_plugin.h:52</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a1dc9d1305f409640e94da6faf8940c6e"><div class="ttname"><a href="fxopt__utils_8c.html#a1dc9d1305f409640e94da6faf8940c6e">copy_format</a></div><div class="ttdeci">void copy_format(struct SIF *src, struct SIF *dest)</div><div class="ttdoc">Make a copy of a variable specification. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00238">fxopt_utils.c:238</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_aeaa24dc28d2cae85c4c92370d64310a3"><div class="ttname"><a href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a></div><div class="ttdeci">#define NOT_AN_ARRAY</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00046">fxopt_plugin.h:46</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_af124795c150434ff274e1572bee8eba9"><div class="ttname"><a href="fxopt__plugin_8h.html#af124795c150434ff274e1572bee8eba9">MAX_ELEMENTS</a></div><div class="ttdeci">#define MAX_ELEMENTS</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00044">fxopt_plugin.h:44</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a464166f19006c30663e2465d606c8a07"><div class="ttname"><a href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">SIF::size</a></div><div class="ttdeci">int size</div><div class="ttdoc">size of this variable, in bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00127">fxopt_plugin.h:127</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a5eb3900658a72bad49717c4b86bff166"><div class="ttname"><a href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a></div><div class="ttdeci">bool warning(int, const char *,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1320f6310e4e6b0543f362d0ae4a4bf0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tree convert_real_constant </td>
          <td>(</td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>real_cst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>op_fmt_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a real constant tree to an integer constant tree. </p>
<p>Also modifies the operand format structure passed as a parameter.</p>
<dl class="section note"><dt>Note</dt><dd>The type used for the integer constant tree is specified by <code>REAL_TO_INTEGER_TYPE</code>.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000010">Todo:</a></b></dt><dd>This function is sometimes called without using the return value. That's a memory leak that should be eliminated.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">real_cst</td><td>gcc tree for the real constant </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">op_fmt_p</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure for the operand </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>gcc tree for the integer (fixed-point) constant </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00984">984</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;{</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  REAL_VALUE_TYPE real_const;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  tree integer_constant;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> temp_fmt;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <a class="code" href="fxopt__utils_8c.html#a11877c1cccd04ad479f5b98fcff1d2fd">initialize_format</a>(&amp;temp_fmt);</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  real_const = TREE_REAL_CST(real_cst);</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  temp_fmt = <a class="code" href="fxopt__utils_8c.html#a18e3e7fd8cbdebd6b6f620fa8e8978ad">get_format_real_value_type</a>(real_const);</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> = temp_fmt.S;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> = temp_fmt.I;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> = temp_fmt.F;</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> = temp_fmt.E;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">size</a> = temp_fmt.size;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">sgnd</a> = temp_fmt.sgnd;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a> = temp_fmt.min;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a> = temp_fmt.max;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a> = temp_fmt.aa;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  integer_constant = double_int_to_tree(<a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>,op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>);</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;  <span class="keywordflow">return</span> integer_constant;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a584bf30db787408850e826a9e25d7816"><div class="ttname"><a href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">SIF::min</a></div><div class="ttdeci">double_int min</div><div class="ttdoc">Minimum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00136">fxopt_plugin.h:136</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a564d283d3bb41651e593c62e2f46d079"><div class="ttname"><a href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">SIF::max</a></div><div class="ttdeci">double_int max</div><div class="ttdoc">Maximum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00135">fxopt_plugin.h:135</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a76e1eafe400d8c4a61af7cc6c592b058"><div class="ttname"><a href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">SIF::sgnd</a></div><div class="ttdeci">int sgnd</div><div class="ttdoc">1 if signed, 0 if unsigned </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00132">fxopt_plugin.h:132</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a18e3e7fd8cbdebd6b6f620fa8e8978ad"><div class="ttname"><a href="fxopt__utils_8c.html#a18e3e7fd8cbdebd6b6f620fa8e8978ad">get_format_real_value_type</a></div><div class="ttdeci">struct SIF get_format_real_value_type(REAL_VALUE_TYPE real_const)</div><div class="ttdoc">Determine I, F, and E values for a real constant. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00928">fxopt_utils.c:928</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a464166f19006c30663e2465d606c8a07"><div class="ttname"><a href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">SIF::size</a></div><div class="ttdeci">int size</div><div class="ttdoc">size of this variable, in bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00127">fxopt_plugin.h:127</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a82318b0c995bbec24760dfb746dae2dd"><div class="ttname"><a href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a></div><div class="ttdeci">#define REAL_TO_INTEGER_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00029">fxopt_plugin.h:29</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a11877c1cccd04ad479f5b98fcff1d2fd"><div class="ttname"><a href="fxopt__utils_8c.html#a11877c1cccd04ad479f5b98fcff1d2fd">initialize_format</a></div><div class="ttdeci">void initialize_format(struct SIF *s)</div><div class="ttdoc">Initialize the SIF definition for a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00219">fxopt_utils.c:219</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af307691d9bf993c35a421b9662a6804a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void convert_real_func_to_integer </td>
          <td>(</td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>decl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes a function declaration from floating to integer. </p>
<p>This modifies the declaration for the function itself as well as for the function arguments.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">decl</td><td>tree for a function declaration </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00866">866</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;{</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;  function_args_iterator args_iter;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  tree *an_arg;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  FOREACH_FUNCTION_ARGS_PTR(TREE_TYPE(decl), an_arg, args_iter) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="keywordflow">if</span> (TREE_CODE(*an_arg) == REAL_TYPE)</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;      *an_arg = <a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">if</span> (SCALAR_FLOAT_TYPE_P(TREE_TYPE(TREE_TYPE(decl)))) {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    TREE_TYPE(TREE_TYPE(decl)) = <a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  }</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;}</div>
<div class="ttc" id="fxopt__plugin_8h_html_a82318b0c995bbec24760dfb746dae2dd"><div class="ttname"><a href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a></div><div class="ttdeci">#define REAL_TO_INTEGER_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00029">fxopt_plugin.h:29</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa3773c7dc71fde8d6366f833714efb18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void convert_real_var_to_integer </td>
          <td>(</td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>var</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert floating variables to integers. </p>
<p>This function changes only the type of the variable, not its value. In all cases we change the type of the innermost underlying variable but the type of a variable may be specified multiple places, depending on the kind of variable.</p>
<ul>
<li>If the var is a function parameter, change the function's parameter type as well.</li>
<li>If the var is a pointer, change the pointer's type as well.</li>
<li>If the var is an array, also change the size of whole array and the size of each array element. The mode, constant, and public parameters for the array are configured.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The specific integer type used to replace floating types is defined by REAL_TO_INTEGER_TYPE.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">var</td><td>gcc tree for a variable </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00788">788</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;{</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  tree orig_inner_type = <a class="code" href="fxopt__utils_8c.html#aa7b48feb3569221585755766c0145240">get_innermost_type</a>(var);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordflow">if</span> (REAL_TYPE == TREE_CODE(orig_inner_type)) {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keywordtype">int</span> constant = orig_inner_type-&gt;base.constant_flag;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">if</span> (TREE_CODE(var) == PARM_DECL) {</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;      DECL_ARG_TYPE(var) = <a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    }</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="keywordflow">if</span> ((TREE_CODE(var) == VAR_DECL) || (TREE_CODE(var) == PARM_DECL)</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        || (TREE_CODE(var) == RESULT_DECL)) {</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;      <span class="keywordflow">if</span> (POINTER_TYPE == TREE_CODE(TREE_TYPE(var))) {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;        tree base_var = TREE_TYPE(TREE_TYPE(var));</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="keywordflow">if</span> (REAL_TYPE == TREE_CODE(base_var)) {</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;          TREE_TYPE(TREE_TYPE(var)) = <a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARRAY_TYPE == TREE_CODE(base_var)) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;          <span class="keywordtype">int</span> elements =</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;              TREE_INT_CST_LOW(TYPE_SIZE(base_var)) /</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;              TREE_INT_CST_LOW(TYPE_SIZE(orig_inner_type));</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;          <span class="keywordtype">int</span> type_size =</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;              elements * TREE_INT_CST_LOW(TYPE_SIZE(<a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>));</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;          <span class="keywordtype">int</span> type_size_unit =</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;              elements *</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;              TREE_INT_CST_LOW(TYPE_SIZE_UNIT(<a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>));</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;          TYPE_SIZE(base_var) = build_int_cst(integer_type_node, type_size);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;          TYPE_SIZE_UNIT(base_var) =</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;              build_int_cst(integer_type_node, type_size_unit);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;          base_var-&gt;type.mode = mode_for_size(type_size, MODE_INT, 0);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;          TREE_TYPE(base_var) = <a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>;</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;          TREE_TYPE(base_var)-&gt;base.constant_flag =</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;              orig_inner_type-&gt;base.constant_flag;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;          TREE_TYPE(base_var)-&gt;base.public_flag =</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;              orig_inner_type-&gt;base.public_flag;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;          fprintf(stderr, <span class="stringliteral">&quot; Trying to convert pointer to unknown real DECL.\n&quot;</span>);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARRAY_TYPE == TREE_CODE(TREE_TYPE(var))) {</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;        <span class="keywordtype">int</span> elements =</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;            TREE_INT_CST_LOW(DECL_SIZE(var)) /</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            TREE_INT_CST_LOW(TYPE_SIZE(orig_inner_type));</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="keywordtype">int</span> decl_size =</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;            elements * TREE_INT_CST_LOW(TYPE_SIZE(<a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>));</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        <span class="keywordtype">int</span> decl_size_unit =</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;            elements *</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            TREE_INT_CST_LOW(TYPE_SIZE_UNIT(<a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>));</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;        DECL_SIZE(var) = build_int_cst(integer_type_node, decl_size);</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;        DECL_SIZE_UNIT(var) =</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;            build_int_cst(integer_type_node, decl_size_unit);</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;        DECL_MODE(var) = mode_for_size(decl_size, MODE_INT, 0);</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        TREE_TYPE(TREE_TYPE(var)) = <a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        TREE_TYPE(TREE_TYPE(var))-&gt;base.constant_flag =</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;            orig_inner_type-&gt;base.constant_flag;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        TREE_TYPE(TREE_TYPE(var))-&gt;base.public_flag =</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;            orig_inner_type-&gt;base.public_flag;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (TREE_TYPE(var) == orig_inner_type) {</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        DECL_SIZE(var) = TYPE_SIZE(<a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>);</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;        DECL_SIZE_UNIT(var) = TYPE_SIZE_UNIT(<a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>);</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        DECL_MODE(var) = TYPE_MODE(<a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>);</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        TREE_TYPE(var) = <a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;        TREE_TYPE(var)-&gt;base.constant_flag = constant;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        TREE_TYPE(var)-&gt;base.public_flag =</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;            orig_inner_type-&gt;base.public_flag;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot; Trying to convert unknown real DECL.\n&quot;</span>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;      }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot; Trying to convert unknown real var to integer.\n&quot;</span>);</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    }</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;  }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;}</div>
<div class="ttc" id="fxopt__plugin_8h_html_a82318b0c995bbec24760dfb746dae2dd"><div class="ttname"><a href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a></div><div class="ttdeci">#define REAL_TO_INTEGER_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00029">fxopt_plugin.h:29</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_aa7b48feb3569221585755766c0145240"><div class="ttname"><a href="fxopt__utils_8c.html#aa7b48feb3569221585755766c0145240">get_innermost_type</a></div><div class="ttdeci">tree get_innermost_type(tree vardecl)</div><div class="ttdoc">Find the innermost type for an operand. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l01085">fxopt_utils.c:1085</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1dc9d1305f409640e94da6faf8940c6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copy_format </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make a copy of a variable specification. </p>
<p>Everything is copied except the variable's id value and the special fields needed to maintain the hash tree.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dest</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00238">238</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  <span class="comment">// DO NOT copy the alias element</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">if</span> (dest == src) {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;trying to copy a format to itself\n&quot;</span>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> = src-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a56b7f2e3fa074e49ca3956672da071e8">originalF</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a56b7f2e3fa074e49ca3956672da071e8">originalF</a>;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">size</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">size</a>;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">sgnd</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">sgnd</a>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">has_attribute</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">has_attribute</a>;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a6adf63d99e5175efd331c4e1026310c3">attrS</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a6adf63d99e5175efd331c4e1026310c3">attrS</a>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#aa036ca42a7b23ff2e6f7f76b465b35e1">attrI</a> = src-&gt;<a class="code" href="struct_s_i_f.html#aa036ca42a7b23ff2e6f7f76b465b35e1">attrI</a>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a33d633e281cae09fd65ec91b398dd3b1">attrF</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a33d633e281cae09fd65ec91b398dd3b1">attrF</a>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#aff67ec4c65cbe6ef0c7484ad9b15fbe5">attrE</a> = src-&gt;<a class="code" href="struct_s_i_f.html#aff67ec4c65cbe6ef0c7484ad9b15fbe5">attrE</a>;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a34f3337441fd95d8a2903e40d8389f1e">attrmax</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a34f3337441fd95d8a2903e40d8389f1e">attrmax</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a8a02d701730aee5abb2e0a780ec7ee8e">attrmin</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a8a02d701730aee5abb2e0a780ec7ee8e">attrmin</a>;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">ptr_op</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">ptr_op</a>;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a2624843637dc3d164da62c28373a1ede">iter</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a2624843637dc3d164da62c28373a1ede">iter</a>;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  <span class="keywordflow">if</span> (dest-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a> != src-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>) {</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(dest-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    dest-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a> = <a class="code" href="fxopt__affine_8c.html#a3f2aac7e6cbba545edc4d4545d2322df">copy_aa_list</a>(src-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="ttc" id="fxopt__affine_8c_html_a3f2aac7e6cbba545edc4d4545d2322df"><div class="ttname"><a href="fxopt__affine_8c.html#a3f2aac7e6cbba545edc4d4545d2322df">copy_aa_list</a></div><div class="ttdeci">struct AA * copy_aa_list(struct AA *aa_src_list_p)</div><div class="ttdoc">Copy an AA list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00303">fxopt_affine.c:303</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a6930dd703e6e637a2cc7c98031994d28"><div class="ttname"><a href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">SIF::ptr_op</a></div><div class="ttdeci">int ptr_op</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00130">fxopt_plugin.h:130</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a70b57673b3e2ed7aa3e4bb22faf66d2c"><div class="ttname"><a href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">SIF::has_attribute</a></div><div class="ttdeci">int has_attribute</div><div class="ttdoc">boolean </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00138">fxopt_plugin.h:138</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8186e869eb2a4ac178184a2a93d2dfe4"><div class="ttname"><a href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">SIF::iv</a></div><div class="ttdeci">int iv</div><div class="ttdoc">True if an induction variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00133">fxopt_plugin.h:133</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a6adf63d99e5175efd331c4e1026310c3"><div class="ttname"><a href="struct_s_i_f.html#a6adf63d99e5175efd331c4e1026310c3">SIF::attrS</a></div><div class="ttdeci">int attrS</div><div class="ttdoc">S value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00139">fxopt_plugin.h:139</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a2624843637dc3d164da62c28373a1ede"><div class="ttname"><a href="struct_s_i_f.html#a2624843637dc3d164da62c28373a1ede">SIF::iter</a></div><div class="ttdeci">int iter</div><div class="ttdoc">True if variable used iteratively. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00134">fxopt_plugin.h:134</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a34f3337441fd95d8a2903e40d8389f1e"><div class="ttname"><a href="struct_s_i_f.html#a34f3337441fd95d8a2903e40d8389f1e">SIF::attrmax</a></div><div class="ttdeci">double_int attrmax</div><div class="ttdoc">Range max value assigned by fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00143">fxopt_plugin.h:143</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a584bf30db787408850e826a9e25d7816"><div class="ttname"><a href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">SIF::min</a></div><div class="ttdeci">double_int min</div><div class="ttdoc">Minimum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00136">fxopt_plugin.h:136</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8a02d701730aee5abb2e0a780ec7ee8e"><div class="ttname"><a href="struct_s_i_f.html#a8a02d701730aee5abb2e0a780ec7ee8e">SIF::attrmin</a></div><div class="ttdeci">double_int attrmin</div><div class="ttdoc">Range min value assigned by fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00144">fxopt_plugin.h:144</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a564d283d3bb41651e593c62e2f46d079"><div class="ttname"><a href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">SIF::max</a></div><div class="ttdeci">double_int max</div><div class="ttdoc">Maximum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00135">fxopt_plugin.h:135</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_aaa3848f108434439b2d91a86bda052d3"><div class="ttname"><a href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a></div><div class="ttdeci">void delete_aa_list(struct AA **aa_list_pp)</div><div class="ttdoc">Delete an entire AA definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00251">fxopt_affine.c:251</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a76e1eafe400d8c4a61af7cc6c592b058"><div class="ttname"><a href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">SIF::sgnd</a></div><div class="ttdeci">int sgnd</div><div class="ttdoc">1 if signed, 0 if unsigned </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00132">fxopt_plugin.h:132</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a56b7f2e3fa074e49ca3956672da071e8"><div class="ttname"><a href="struct_s_i_f.html#a56b7f2e3fa074e49ca3956672da071e8">SIF::originalF</a></div><div class="ttdeci">int originalF</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00126">fxopt_plugin.h:126</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a464166f19006c30663e2465d606c8a07"><div class="ttname"><a href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">SIF::size</a></div><div class="ttdeci">int size</div><div class="ttdoc">size of this variable, in bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00127">fxopt_plugin.h:127</a></div></div>
<div class="ttc" id="struct_s_i_f_html_aff67ec4c65cbe6ef0c7484ad9b15fbe5"><div class="ttname"><a href="struct_s_i_f.html#aff67ec4c65cbe6ef0c7484ad9b15fbe5">SIF::attrE</a></div><div class="ttdeci">int attrE</div><div class="ttdoc">E value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00142">fxopt_plugin.h:142</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a33d633e281cae09fd65ec91b398dd3b1"><div class="ttname"><a href="struct_s_i_f.html#a33d633e281cae09fd65ec91b398dd3b1">SIF::attrF</a></div><div class="ttdeci">int attrF</div><div class="ttdoc">F value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00141">fxopt_plugin.h:141</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a23d0132158a81b4458e2a3f455796d19"><div class="ttname"><a href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">SIF::shift</a></div><div class="ttdeci">int shift</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00128">fxopt_plugin.h:128</a></div></div>
<div class="ttc" id="struct_s_i_f_html_aa036ca42a7b23ff2e6f7f76b465b35e1"><div class="ttname"><a href="struct_s_i_f.html#aa036ca42a7b23ff2e6f7f76b465b35e1">SIF::attrI</a></div><div class="ttdeci">int attrI</div><div class="ttdoc">I value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00140">fxopt_plugin.h:140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a16e2f15bd22d9f8fa1435bb3111d5b1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copy_SIF </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format of one variable to another. </p>
<p>Only the parameters related to the variable's fixed-point format are copied.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dest</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00279">279</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordflow">if</span> (dest == src) {</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;trying to copy a SIF to itself\n&quot;</span>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  }</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> = src-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  dest-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a> = src-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">if</span> (dest-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a> != src-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>) {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(dest-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    dest-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a> = <a class="code" href="fxopt__affine_8c.html#a3f2aac7e6cbba545edc4d4545d2322df">copy_aa_list</a>(src-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;}</div>
<div class="ttc" id="fxopt__affine_8c_html_a3f2aac7e6cbba545edc4d4545d2322df"><div class="ttname"><a href="fxopt__affine_8c.html#a3f2aac7e6cbba545edc4d4545d2322df">copy_aa_list</a></div><div class="ttdeci">struct AA * copy_aa_list(struct AA *aa_src_list_p)</div><div class="ttdoc">Copy an AA list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00303">fxopt_affine.c:303</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8186e869eb2a4ac178184a2a93d2dfe4"><div class="ttname"><a href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">SIF::iv</a></div><div class="ttdeci">int iv</div><div class="ttdoc">True if an induction variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00133">fxopt_plugin.h:133</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a584bf30db787408850e826a9e25d7816"><div class="ttname"><a href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">SIF::min</a></div><div class="ttdeci">double_int min</div><div class="ttdoc">Minimum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00136">fxopt_plugin.h:136</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a564d283d3bb41651e593c62e2f46d079"><div class="ttname"><a href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">SIF::max</a></div><div class="ttdeci">double_int max</div><div class="ttdoc">Maximum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00135">fxopt_plugin.h:135</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_aaa3848f108434439b2d91a86bda052d3"><div class="ttname"><a href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a></div><div class="ttdeci">void delete_aa_list(struct AA **aa_list_pp)</div><div class="ttdoc">Delete an entire AA definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00251">fxopt_affine.c:251</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a97aab7e517fb8e9fd49b22f5dd9b780a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delete_all_formats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes all variable data structures. </p>
<p>Removes the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> and <a class="el" href="struct_a_a.html" title="The structure for a term in an affine definition. ">AA</a> structures for all variables. </p>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00201">201</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *current_var_format, *tmp;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  HASH_ITER(<a class="code" href="struct_s_i_f.html#a104dd67b6937c7fcb8aa288e0e415ade">hh</a>, <a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, current_var_format, tmp) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="fxopt__utils_8c.html#ae31c1dc556cb79de8aee5d43d26ee5f9">delete_var_format</a>(current_var_format);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;}</div>
<div class="ttc" id="fxopt__utils_8c_html_a91eebada26631feb3e5b806fe2536ad6"><div class="ttname"><a href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a></div><div class="ttdeci">struct SIF * var_formats</div><div class="ttdoc">Pointer to the hash table for the variables&#39; SIF formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00091">fxopt_utils.c:91</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a104dd67b6937c7fcb8aa288e0e415ade"><div class="ttname"><a href="struct_s_i_f.html#a104dd67b6937c7fcb8aa288e0e415ade">SIF::hh</a></div><div class="ttdeci">UT_hash_handle hh</div><div class="ttdoc">Required by uthash functions. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00145">fxopt_plugin.h:145</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_ae31c1dc556cb79de8aee5d43d26ee5f9"><div class="ttname"><a href="fxopt__utils_8c.html#ae31c1dc556cb79de8aee5d43d26ee5f9">delete_var_format</a></div><div class="ttdeci">void delete_var_format(struct SIF *var_format)</div><div class="ttdoc">Delete the SIF definition for a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00190">fxopt_utils.c:190</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae31c1dc556cb79de8aee5d43d26ee5f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void delete_var_format </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>var_format</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definition for a variable. </p>
<p>Removes the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> struct from the <code>var_formats</code> hash table, deletes the linked list for its affine definition, and frees the memory that was allocated for those structures.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">var_format</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00190">190</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(var_format-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  HASH_DEL(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, var_format);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  free(var_format);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a91eebada26631feb3e5b806fe2536ad6"><div class="ttname"><a href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a></div><div class="ttdeci">struct SIF * var_formats</div><div class="ttdoc">Pointer to the hash table for the variables&#39; SIF formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00091">fxopt_utils.c:91</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_aaa3848f108434439b2d91a86bda052d3"><div class="ttname"><a href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a></div><div class="ttdeci">void delete_aa_list(struct AA **aa_list_pp)</div><div class="ttdoc">Delete an entire AA definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00251">fxopt_affine.c:251</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6fa27c9a550736bb1bbd016f4feb2db4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_s_i_f.html">SIF</a>* find_var_format </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>var_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find/create a pointer to a <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a>, given its hash key. </p>
<p>Given a variable ID, look for the hash table entry (<a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> struct) for that variable. If found, return a pointer to the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a>. Else, create a new <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> struct entry and return a pointer to it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">var_id</td><td>variable ID (hash key) of interest </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> struct for the variable </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00171">171</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *s;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;var_id, s);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">if</span> (NULL == s) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="fxopt__utils_8c.html#aee03dafc9f72bddb12733c1868849d47">add_var_format</a>(var_id);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;var_id, s);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  }</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="keywordflow">return</span> s;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;}</div>
<div class="ttc" id="fxopt__utils_8c_html_a91eebada26631feb3e5b806fe2536ad6"><div class="ttname"><a href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a></div><div class="ttdeci">struct SIF * var_formats</div><div class="ttdoc">Pointer to the hash table for the variables&#39; SIF formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00091">fxopt_utils.c:91</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_aee03dafc9f72bddb12733c1868849d47"><div class="ttname"><a href="fxopt__utils_8c.html#aee03dafc9f72bddb12733c1868849d47">add_var_format</a></div><div class="ttdeci">void add_var_format(int var_id)</div><div class="ttdoc">Add a new variable to the SIF format hash. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00105">fxopt_utils.c:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab3cfe56b57ba0547549a91f3c567dbb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fix_f_e_bits </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>oprnd_frmt</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>oprnd_tree</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>opnumber</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the F and E values for a shifted constant. </p>
<p>As a constant is shifted it is possible that new empty bits will appear. Determine the correct number of F and E bits that would result from a specified shift, <em>without</em> actually shifting the constant itself.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">oprnd_frmt</td><td>operand <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oprnd_tree</td><td>operand tree array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opnumber</td><td>number of operand to be evaluated </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01588">1588</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;{</div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;  REAL_VALUE_TYPE real_const;</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> tmp_fmt;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;  <a class="code" href="fxopt__utils_8c.html#a11877c1cccd04ad479f5b98fcff1d2fd">initialize_format</a>(&amp;tmp_fmt);</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;  double_int constant;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;  <span class="keywordflow">if</span> (TREE_CONSTANT(oprnd_tree[opnumber])) {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;    <span class="comment">// get the full constant value, unshifted</span></div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;    <span class="keywordflow">if</span> (REAL_CST == TREE_CODE(oprnd_tree[opnumber])) {</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;      real_const = TREE_REAL_CST(oprnd_tree[opnumber]);</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;      tmp_fmt = <a class="code" href="fxopt__utils_8c.html#a18e3e7fd8cbdebd6b6f620fa8e8978ad">get_format_real_value_type</a>(real_const); <span class="comment">// maximum precision</span></div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;      constant = tmp_fmt.max;</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (INTEGER_CST == TREE_CODE(oprnd_tree[opnumber])) {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;      constant = TREE_INT_CST(oprnd_tree[opnumber]);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;      <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0, G_(<span class="stringliteral">&quot;fxopt: Unexpected constant type, fix_f_e_bits&quot;</span>));</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;    }</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;    <span class="keywordflow">if</span> (tree_int_cst_sgn(oprnd_tree[opnumber]) &lt; 0)</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;      constant = double_int_neg(constant);</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;    <span class="comment">// right shift with rounding</span></div>
<div class="line"><a name="l01611"></a><span class="lineno"> 1611</span>&#160;    <span class="keywordflow">if</span> (oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> &gt; 0) {</div>
<div class="line"><a name="l01612"></a><span class="lineno"> 1612</span>&#160;      constant =</div>
<div class="line"><a name="l01613"></a><span class="lineno"> 1613</span>&#160;          double_int_rshift(constant, (oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> - 1),</div>
<div class="line"><a name="l01614"></a><span class="lineno"> 1614</span>&#160;                            HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;      constant = double_int_add(constant, double_int_one);</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;      constant =</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;          double_int_rshift(constant, 1, HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    }</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;    <span class="comment">// left shift (rshift with negative count is left shift)</span></div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;    <span class="keywordflow">if</span> (oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> &lt; 0) {</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;      constant =</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;          double_int_rshift(constant, (oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>),</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;                            HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;    }</div>
<div class="line"><a name="l01625"></a><span class="lineno"> 1625</span>&#160;    <span class="comment">// combine F and E</span></div>
<div class="line"><a name="l01626"></a><span class="lineno"> 1626</span>&#160;    oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> += oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>;</div>
<div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;    <span class="comment">// determine correct E</span></div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> =</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;        MIN(double_int_ctz(constant), oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>);</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;    <span class="comment">// determine correct F</span></div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;    oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> -= oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a56b7f2e3fa074e49ca3956672da071e8">originalF</a> = oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>;</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;  }</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;  <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(tmp_fmt.aa));</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_aaa3848f108434439b2d91a86bda052d3"><div class="ttname"><a href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a></div><div class="ttdeci">void delete_aa_list(struct AA **aa_list_pp)</div><div class="ttdoc">Delete an entire AA definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00251">fxopt_affine.c:251</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a18e3e7fd8cbdebd6b6f620fa8e8978ad"><div class="ttname"><a href="fxopt__utils_8c.html#a18e3e7fd8cbdebd6b6f620fa8e8978ad">get_format_real_value_type</a></div><div class="ttdeci">struct SIF get_format_real_value_type(REAL_VALUE_TYPE real_const)</div><div class="ttdoc">Determine I, F, and E values for a real constant. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00928">fxopt_utils.c:928</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a56b7f2e3fa074e49ca3956672da071e8"><div class="ttname"><a href="struct_s_i_f.html#a56b7f2e3fa074e49ca3956672da071e8">SIF::originalF</a></div><div class="ttdeci">int originalF</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00126">fxopt_plugin.h:126</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_af49afd784b5ff112c3129f155af24748"><div class="ttname"><a href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a></div><div class="ttdeci">#define ARITH</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00033">fxopt_plugin.h:33</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a5eb3900658a72bad49717c4b86bff166"><div class="ttname"><a href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a></div><div class="ttdeci">bool warning(int, const char *,...)</div></div>
<div class="ttc" id="struct_s_i_f_html_a23d0132158a81b4458e2a3f455796d19"><div class="ttname"><a href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">SIF::shift</a></div><div class="ttdeci">int shift</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00128">fxopt_plugin.h:128</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a11877c1cccd04ad479f5b98fcff1d2fd"><div class="ttname"><a href="fxopt__utils_8c.html#a11877c1cccd04ad479f5b98fcff1d2fd">initialize_format</a></div><div class="ttdeci">void initialize_format(struct SIF *s)</div><div class="ttdoc">Initialize the SIF definition for a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00219">fxopt_utils.c:219</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a0733cd227cf6b3b4f7ff85a4da4169"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void force_ptr_consistency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Force consistency of <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> formats for versions of pointers. </p>
<p>We assume that memory locations accessed via pointers will only be modified once, if at all, in any given GIMPLE basic block. At the end of each basic block we look for aliased variables and recompute the range for them by finding the widest range that would include the ranges of all aliases of the variable. At this point we've lost any valid affine definition so the variable is given a new affine definition that just specifies the range of the variable, without correlations to any input parameters. </p>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00451">451</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;{</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *s;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *ss;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  double_int <a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>, <a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a>, aamax, aamin, x0, x1;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keywordtype">int</span> uid, j, bp, key, index;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;  <span class="keywordflow">for</span> (s = <a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>; s != NULL; s = (<span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *) (s-&gt;<a class="code" href="struct_s_i_f.html#a104dd67b6937c7fcb8aa288e0e415ade">hh</a>.next)) {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <span class="comment">// Look for aliased variables that were modified in this pass, push</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="comment">// the new range information to the target</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">if</span> ((s-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a>) &amp;&amp; (<a class="code" href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>) == <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>) &amp;&amp; (NULL != s-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>)) {</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;      index = <a class="code" href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      <span class="comment">// Look for the target in this pass</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;      key = <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(<a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(s-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a>), <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>, index);</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      ss = <a class="code" href="fxopt__utils_8c.html#aa5c082e069ec56032f08d58c1af6e26e">get_format_ptr</a>(key);</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;      <span class="keywordflow">if</span> (NULL == ss) {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="fxopt__utils_8c.html#aee03dafc9f72bddb12733c1868849d47">add_var_format</a>(key);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        ss = <a class="code" href="fxopt__utils_8c.html#aa5c082e069ec56032f08d58c1af6e26e">get_format_ptr</a>(key);</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="keywordflow">if</span> (ss-&gt;<a class="code" href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">has_attribute</a>) {</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;          ss-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> = ss-&gt;<a class="code" href="struct_s_i_f.html#a6adf63d99e5175efd331c4e1026310c3">attrS</a>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;          ss-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> = ss-&gt;<a class="code" href="struct_s_i_f.html#aa036ca42a7b23ff2e6f7f76b465b35e1">attrI</a>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;          ss-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> = ss-&gt;<a class="code" href="struct_s_i_f.html#a33d633e281cae09fd65ec91b398dd3b1">attrF</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;          ss-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> = ss-&gt;<a class="code" href="struct_s_i_f.html#aff67ec4c65cbe6ef0c7484ad9b15fbe5">attrE</a>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;          ss-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a> = ss-&gt;<a class="code" href="struct_s_i_f.html#a34f3337441fd95d8a2903e40d8389f1e">attrmax</a>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;          ss-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a> = ss-&gt;<a class="code" href="struct_s_i_f.html#a8a02d701730aee5abb2e0a780ec7ee8e">attrmin</a>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;      <span class="comment">// Expect the same binary point location</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      bp = s-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> + s-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">if</span> (bp != (ss-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> + ss-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>))</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;  Inconsistent binary point locations&quot;</span>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      ss-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a> = double_int_smax(s-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>, ss-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      ss-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a> = double_int_smin(s-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a>, ss-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a>);</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      aamax = double_int_smax(<a class="code" href="fxopt__affine_8c.html#a067125d7343510a6ff75cda6c5f78a17">aa_max</a>(ss-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>), <a class="code" href="fxopt__affine_8c.html#a067125d7343510a6ff75cda6c5f78a17">aa_max</a>(s-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      aamin = double_int_smin(<a class="code" href="fxopt__affine_8c.html#a0d0ff4cce1470f5c96382192fc06a474">aa_min</a>(ss-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>), <a class="code" href="fxopt__affine_8c.html#a0d0ff4cce1470f5c96382192fc06a474">aa_min</a>(s-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      x0 = double_int_rshift(double_int_add(aamax, aamin), 1,</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                             HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      x1 = double_int_rshift(double_int_sub(aamax, aamin), 1,</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                             HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      key = <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(<a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(ss-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>), <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>, index);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(ss-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="keywordflow">if</span> (!double_int_zero_p(x0))</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;        <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;(ss-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>), 0, x0, bp);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;      <span class="keywordflow">if</span> (!double_int_zero_p(x1))</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;(ss-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>), key, x1, bp);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> = key;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    }                           <span class="comment">// found an aliased variable in this pass</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;  }                             <span class="comment">// all formats</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;  HASH_SORT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, <a class="code" href="fxopt__utils_8c.html#ab466c1d9b394c4af2ee51b9349253c57">id_sort</a>);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  uid = 0;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">for</span> (s = <a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>; s != 0; s = (<span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *) (s-&gt;<a class="code" href="struct_s_i_f.html#a104dd67b6937c7fcb8aa288e0e415ade">hh</a>.next)) {</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">// If the uid has changed and the saved uid is nonzero then we have</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">// been accumulating the min and max for the saved uid. Store them</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="comment">// in the formats for every index of that uid in this pass</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">if</span> ((0 != uid) &amp;&amp; (<a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>) != uid)) {</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;      <span class="keywordflow">for</span> (j = 0; j &lt; <a class="code" href="fxopt__plugin_8h.html#af124795c150434ff274e1572bee8eba9">MAX_ELEMENTS</a>; j++) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        key = <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(uid, <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>, j);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;key, ss);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keywordflow">if</span> (NULL != ss) {</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;          ss-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a> = <a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;          ss-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a> = <a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a>;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;          x0 = double_int_rshift(double_int_add(aamax, aamin), 1,</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                                 HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;          x1 = double_int_rshift(double_int_sub(aamax, aamin), 1,</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;                                 HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;          <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(ss-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;          <span class="keywordflow">if</span> (!double_int_zero_p(x0))</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;            <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;(ss-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>), 0, x0, bp);</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;          <span class="keywordflow">if</span> (!double_int_zero_p(x1))</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;            <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;(ss-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>), key, x1, bp);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;        }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      uid = 0;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      max = double_int_zero;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;      min = double_int_zero;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;      aamax = double_int_zero;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;      aamin = double_int_zero;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">// This variable is a pointer that we&#39;ve already seen, in this pass</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>) == uid) &amp;&amp; (<a class="code" href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>) == <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>)) {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a> != <a class="code" href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>)) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        max = double_int_smax(max, s-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        min = double_int_smin(min, s-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a>);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        aamax = double_int_smax(aamax, <a class="code" href="fxopt__affine_8c.html#a067125d7343510a6ff75cda6c5f78a17">aa_max</a>(s-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        aamin = double_int_smin(aamin, <a class="code" href="fxopt__affine_8c.html#a0d0ff4cce1470f5c96382192fc06a474">aa_min</a>(s-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;      }</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <span class="comment">// Look for pointer variables that were modified in this pass</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="comment">// Since the hash is sorted, this must be the lowest index </span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((s-&gt;<a class="code" href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">ptr_op</a>) &amp;&amp; !(s-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a>) &amp;&amp; (<a class="code" href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>) == <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>)) {</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;      uid = <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      max = s-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;      min = s-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a>;</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      aamax = <a class="code" href="fxopt__affine_8c.html#a067125d7343510a6ff75cda6c5f78a17">aa_max</a>(s-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      aamin = <a class="code" href="fxopt__affine_8c.html#a0d0ff4cce1470f5c96382192fc06a474">aa_min</a>(s-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>);</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;      bp = s-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> + s-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  }</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div>
<div class="ttc" id="fxopt__utils_8c_html_aa5c082e069ec56032f08d58c1af6e26e"><div class="ttname"><a href="fxopt__utils_8c.html#aa5c082e069ec56032f08d58c1af6e26e">get_format_ptr</a></div><div class="ttdeci">struct SIF * get_format_ptr(int var_id)</div><div class="ttdoc">Get a pointer to a SIF, given its hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00154">fxopt_utils.c:154</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a6930dd703e6e637a2cc7c98031994d28"><div class="ttname"><a href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">SIF::ptr_op</a></div><div class="ttdeci">int ptr_op</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00130">fxopt_plugin.h:130</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a70b57673b3e2ed7aa3e4bb22faf66d2c"><div class="ttname"><a href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">SIF::has_attribute</a></div><div class="ttdeci">int has_attribute</div><div class="ttdoc">boolean </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00138">fxopt_plugin.h:138</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a6adf63d99e5175efd331c4e1026310c3"><div class="ttname"><a href="struct_s_i_f.html#a6adf63d99e5175efd331c4e1026310c3">SIF::attrS</a></div><div class="ttdeci">int attrS</div><div class="ttdoc">S value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00139">fxopt_plugin.h:139</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_ad9b85d932ed3ce2e8acdfa9824f3694e"><div class="ttname"><a href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a></div><div class="ttdeci">void append_aa_var(struct AA **aa_list_p, int var_key, double_int coeff, int bp)</div><div class="ttdoc">Add a term to an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00089">fxopt_affine.c:89</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a34f3337441fd95d8a2903e40d8389f1e"><div class="ttname"><a href="struct_s_i_f.html#a34f3337441fd95d8a2903e40d8389f1e">SIF::attrmax</a></div><div class="ttdeci">double_int attrmax</div><div class="ttdoc">Range max value assigned by fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00143">fxopt_plugin.h:143</a></div></div>
<div class="ttc" id="struct_s_i_f_html_ac2025a3d51101618f408ac561260819d"><div class="ttname"><a href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">SIF::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00116">fxopt_plugin.h:116</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a584bf30db787408850e826a9e25d7816"><div class="ttname"><a href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">SIF::min</a></div><div class="ttdeci">double_int min</div><div class="ttdoc">Minimum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00136">fxopt_plugin.h:136</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a91eebada26631feb3e5b806fe2536ad6"><div class="ttname"><a href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a></div><div class="ttdeci">struct SIF * var_formats</div><div class="ttdoc">Pointer to the hash table for the variables&#39; SIF formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00091">fxopt_utils.c:91</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a161974a317c27803ef790e5989fcac91"><div class="ttname"><a href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">SIF::alias</a></div><div class="ttdeci">int alias</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00117">fxopt_plugin.h:117</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8a02d701730aee5abb2e0a780ec7ee8e"><div class="ttname"><a href="struct_s_i_f.html#a8a02d701730aee5abb2e0a780ec7ee8e">SIF::attrmin</a></div><div class="ttdeci">double_int attrmin</div><div class="ttdoc">Range min value assigned by fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00144">fxopt_plugin.h:144</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a564d283d3bb41651e593c62e2f46d079"><div class="ttname"><a href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">SIF::max</a></div><div class="ttdeci">double_int max</div><div class="ttdoc">Maximum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00135">fxopt_plugin.h:135</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_aaa3848f108434439b2d91a86bda052d3"><div class="ttname"><a href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a></div><div class="ttdeci">void delete_aa_list(struct AA **aa_list_pp)</div><div class="ttdoc">Delete an entire AA definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00251">fxopt_affine.c:251</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ae799a9ba06cdf1c06da807eb5135d4b0"><div class="ttname"><a href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a></div><div class="ttdeci">#define KEY_TO_UID(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00052">fxopt_plugin.h:52</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a067125d7343510a6ff75cda6c5f78a17"><div class="ttname"><a href="fxopt__affine_8c.html#a067125d7343510a6ff75cda6c5f78a17">aa_max</a></div><div class="ttdeci">double_int aa_max(struct AA *aa_list_p)</div><div class="ttdoc">Calculate the maximum value of an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00521">fxopt_affine.c:521</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a104dd67b6937c7fcb8aa288e0e415ade"><div class="ttname"><a href="struct_s_i_f.html#a104dd67b6937c7fcb8aa288e0e415ade">SIF::hh</a></div><div class="ttdeci">UT_hash_handle hh</div><div class="ttdoc">Required by uthash functions. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00145">fxopt_plugin.h:145</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_aeaa24dc28d2cae85c4c92370d64310a3"><div class="ttname"><a href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a></div><div class="ttdeci">#define NOT_AN_ARRAY</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00046">fxopt_plugin.h:46</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a0d0ff4cce1470f5c96382192fc06a474"><div class="ttname"><a href="fxopt__affine_8c.html#a0d0ff4cce1470f5c96382192fc06a474">aa_min</a></div><div class="ttdeci">double_int aa_min(struct AA *aa_list_p)</div><div class="ttdoc">Calculate the minimum value of an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00602">fxopt_affine.c:602</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_af124795c150434ff274e1572bee8eba9"><div class="ttname"><a href="fxopt__plugin_8h.html#af124795c150434ff274e1572bee8eba9">MAX_ELEMENTS</a></div><div class="ttdeci">#define MAX_ELEMENTS</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00044">fxopt_plugin.h:44</a></div></div>
<div class="ttc" id="fxopt__plugin_8c_html_a61bf1d639f0227e847e927dc76b0edb8"><div class="ttname"><a href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a></div><div class="ttdeci">int fxpass</div><div class="ttdoc">Counts number of passes through the function in attempt to resolve all formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00045">fxopt_plugin.c:45</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_af49afd784b5ff112c3129f155af24748"><div class="ttname"><a href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a></div><div class="ttdeci">#define ARITH</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00033">fxopt_plugin.h:33</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="struct_s_i_f_html_aff67ec4c65cbe6ef0c7484ad9b15fbe5"><div class="ttname"><a href="struct_s_i_f.html#aff67ec4c65cbe6ef0c7484ad9b15fbe5">SIF::attrE</a></div><div class="ttdeci">int attrE</div><div class="ttdoc">E value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00142">fxopt_plugin.h:142</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a3b8dd6f683d483b6b3f7fe66b089ec1b"><div class="ttname"><a href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a></div><div class="ttdeci">#define UID_PASS_IDX_TO_KEY(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00051">fxopt_plugin.h:51</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_aee03dafc9f72bddb12733c1868849d47"><div class="ttname"><a href="fxopt__utils_8c.html#aee03dafc9f72bddb12733c1868849d47">add_var_format</a></div><div class="ttdeci">void add_var_format(int var_id)</div><div class="ttdoc">Add a new variable to the SIF format hash. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00105">fxopt_utils.c:105</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a33d633e281cae09fd65ec91b398dd3b1"><div class="ttname"><a href="struct_s_i_f.html#a33d633e281cae09fd65ec91b398dd3b1">SIF::attrF</a></div><div class="ttdeci">int attrF</div><div class="ttdoc">F value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00141">fxopt_plugin.h:141</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a4f8811d5916fc02d3ea3369cd63c8583"><div class="ttname"><a href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a></div><div class="ttdeci">#define KEY_TO_PASS(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00053">fxopt_plugin.h:53</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_ab466c1d9b394c4af2ee51b9349253c57"><div class="ttname"><a href="fxopt__utils_8c.html#ab466c1d9b394c4af2ee51b9349253c57">id_sort</a></div><div class="ttdeci">int id_sort(struct SIF *a, struct SIF *b)</div><div class="ttdoc">Sorting function for variable SIF definitions. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00048">fxopt_utils.c:48</a></div></div>
<div class="ttc" id="struct_s_i_f_html_aa036ca42a7b23ff2e6f7f76b465b35e1"><div class="ttname"><a href="struct_s_i_f.html#aa036ca42a7b23ff2e6f7f76b465b35e1">SIF::attrI</a></div><div class="ttdeci">int attrI</div><div class="ttdoc">I value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00140">fxopt_plugin.h:140</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a57b4d6ef6eab411273326b20df6ed752"><div class="ttname"><a href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a></div><div class="ttdeci">#define KEY_TO_IDX(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00054">fxopt_plugin.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9dbaabd34c9e88d0bc5550cdea19494c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int format_initialized </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>oprnd_frmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Predicate for an initialized format specification. </p>
<p>If the format has been initialized then either I or F or both must be non-zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oprnd_frmt</td><td>the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the format has been initialized </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01738">1738</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;{</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;  <span class="keywordflow">return</span> (oprnd_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> || oprnd_frmt.<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>);</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa5c082e069ec56032f08d58c1af6e26e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_s_i_f.html">SIF</a>* get_format_ptr </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>var_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to a <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a>, given its hash key. </p>
<p>Given a variable ID, look for the hash table entry (<a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> struct) for that variable. If found, return a pointer to the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a>. Else, return NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">var_id</td><td>variable ID (hash key) of interest </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> struct for the variable </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00154">154</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;{</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *s;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;var_id, s);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <span class="keywordflow">return</span> s;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;}</div>
<div class="ttc" id="fxopt__utils_8c_html_a91eebada26631feb3e5b806fe2536ad6"><div class="ttname"><a href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a></div><div class="ttdeci">struct SIF * var_formats</div><div class="ttdoc">Pointer to the hash table for the variables&#39; SIF formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00091">fxopt_utils.c:91</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a18e3e7fd8cbdebd6b6f620fa8e8978ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_s_i_f.html">SIF</a> get_format_real_value_type </td>
          <td>(</td>
          <td class="paramtype">REAL_VALUE_TYPE&#160;</td>
          <td class="paramname"><em>real_const</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine I, F, and E values for a real constant. </p>
<p>First determine the required number of integer bits. If the constant is exactly zero then use one I bit, and never use a negative value for I. Assume that the constant is signed and has one S bit. Calculate the number of available fraction bits by subtracting S and I from the operand size. Round the constant to the available precision, convert to an integer, and count the number of zeros at the left end. Set the value of E and subtract E from F. Finally, the range and affine definition of the constant are defined appropriately.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>The integer variables used here are <code>HOST_WIDE_INT</code>s. Make sure this function works if the integer type used to replace floats has more bits than a <code>HOST_WIDE_INT</code>. May need to replace the <code>real_to_integer</code> function calls.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">real_const</td><td>a GIMPLE REAL_VALUE_TYPE </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure for the constant </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00928">928</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;{</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  REAL_VALUE_TYPE scaled_real, rounded_real;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  HOST_WIDE_INT integer_constant;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> op_fmt;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;  <a class="code" href="fxopt__utils_8c.html#a11877c1cccd04ad479f5b98fcff1d2fd">initialize_format</a>(&amp;op_fmt);</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="keywordflow">if</span> (real_compare(EQ_EXPR, &amp;real_const, &amp;dconst0))</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    op_fmt.I = 1;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;    op_fmt.I = MAX(real_exponent(&amp;real_const), 0);</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  op_fmt.size = TREE_INT_CST_LOW(TYPE_SIZE(<a class="code" href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a>));</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  op_fmt.sgnd = op_fmt.S = 1;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  op_fmt.F = op_fmt.size - op_fmt.S - op_fmt.I;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  <span class="keywordflow">if</span> ((op_fmt.S + op_fmt.I) &gt; op_fmt.size)</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: real constant is too big&quot;</span>);</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  real_ldexp(&amp;scaled_real, &amp;real_const, op_fmt.F);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;  real_round(&amp;rounded_real, VOIDmode, &amp;scaled_real);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  integer_constant = real_to_integer(&amp;rounded_real);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;  op_fmt.E = MIN(op_fmt.F, ctz_hwi(integer_constant));</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  op_fmt.F -= op_fmt.E;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;  <span class="comment">// </span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;  <span class="comment">// If op_fmt.F is zero this is an exact integer, right justify it.</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;  <span class="comment">// Ignore the scaling and rounding.</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="comment">// </span></div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="keywordflow">if</span> (0 == op_fmt.F) {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    op_fmt.S += op_fmt.E;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    op_fmt.E = 0;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    integer_constant = real_to_integer(&amp;real_const);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  }</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;  op_fmt.min = op_fmt.max = shwi_to_double_int(integer_constant);</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;  <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;(op_fmt.aa), 0, op_fmt.max, (op_fmt.F + op_fmt.E));</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  </div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;  <span class="keywordflow">return</span> op_fmt;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;}</div>
<div class="ttc" id="fxopt__affine_8c_html_ad9b85d932ed3ce2e8acdfa9824f3694e"><div class="ttname"><a href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a></div><div class="ttdeci">void append_aa_var(struct AA **aa_list_p, int var_key, double_int coeff, int bp)</div><div class="ttdoc">Add a term to an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00089">fxopt_affine.c:89</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a82318b0c995bbec24760dfb746dae2dd"><div class="ttname"><a href="fxopt__plugin_8h.html#a82318b0c995bbec24760dfb746dae2dd">REAL_TO_INTEGER_TYPE</a></div><div class="ttdeci">#define REAL_TO_INTEGER_TYPE</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00029">fxopt_plugin.h:29</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ace046b3f15f31d2cdb41c1126fd00517"><div class="ttname"><a href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a></div><div class="ttdeci">void error(const char *,...)</div></div>
<div class="ttc" id="fxopt__utils_8c_html_a11877c1cccd04ad479f5b98fcff1d2fd"><div class="ttname"><a href="fxopt__utils_8c.html#a11877c1cccd04ad479f5b98fcff1d2fd">initialize_format</a></div><div class="ttdeci">void initialize_format(struct SIF *s)</div><div class="ttdoc">Initialize the SIF definition for a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00219">fxopt_utils.c:219</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa7b48feb3569221585755766c0145240"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tree get_innermost_type </td>
          <td>(</td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>vardecl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the innermost type for an operand. </p>
<p>If a variable is a memory reference, an array element, or an SSA name then drill down until we find the core type of the variable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vardecl</td><td>operand's GIMPLE tree </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GIMPLE tree of the innermost type </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01085">1085</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;{</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  tree innertype;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  innertype = vardecl;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  <span class="keywordflow">while</span> (TREE_TYPE(innertype) != NULL) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="keywordflow">if</span> (ARRAY_REF == TREE_CODE(innertype) || MEM_REF == TREE_CODE(innertype)) {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      innertype = TREE_OPERAND(innertype, 0);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SSA_NAME == TREE_CODE(innertype)) {</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;      innertype = SSA_NAME_VAR(innertype);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      innertype = TREE_TYPE(innertype);</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    }</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  }</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  <span class="keywordflow">return</span> innertype;</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a311a628f05e4d4a0635811cf9d560283"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_s_i_f.html">SIF</a> get_inverted_operand_format </td>
          <td>(</td>
          <td class="paramtype">gimple&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>op_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the format of a constant's reciprocal. </p>
<p>The constant itself is not modified, we just determine what the fixed-point format of the reciprocal would be. Integer constants are converted to reals and the math is done on the real constant's reciprocal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>GIMPLE statement with a constant operand </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">op_number</td><td>operand number of the constant </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure for the constant's reciprocal </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01053">1053</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;{</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  REAL_VALUE_TYPE real_const, inv_const;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> op_fmt;</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  <a class="code" href="fxopt__utils_8c.html#a11877c1cccd04ad479f5b98fcff1d2fd">initialize_format</a>(&amp;op_fmt);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  tree operand = gimple_op(stmt, op_number);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordflow">if</span> (REAL_CST == TREE_CODE(operand)) {</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    real_const = TREE_REAL_CST(operand);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (INTEGER_CST == TREE_CODE(operand)) {</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    real_const = real_value_from_int_cst(double_type_node, operand);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0, G_(<span class="stringliteral">&quot;fxopt: can&#39;t invert this constant type&quot;</span>));</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  real_arithmetic(&amp;inv_const, RDIV_EXPR, &amp;dconst1, &amp;real_const);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  op_fmt = <a class="code" href="fxopt__utils_8c.html#a18e3e7fd8cbdebd6b6f620fa8e8978ad">get_format_real_value_type</a>(inv_const);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="keywordflow">return</span> op_fmt;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;}</div>
<div class="ttc" id="fxopt__utils_8c_html_a18e3e7fd8cbdebd6b6f620fa8e8978ad"><div class="ttname"><a href="fxopt__utils_8c.html#a18e3e7fd8cbdebd6b6f620fa8e8978ad">get_format_real_value_type</a></div><div class="ttdeci">struct SIF get_format_real_value_type(REAL_VALUE_TYPE real_const)</div><div class="ttdoc">Determine I, F, and E values for a real constant. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00928">fxopt_utils.c:928</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a5eb3900658a72bad49717c4b86bff166"><div class="ttname"><a href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a></div><div class="ttdeci">bool warning(int, const char *,...)</div></div>
<div class="ttc" id="fxopt__utils_8c_html_a11877c1cccd04ad479f5b98fcff1d2fd"><div class="ttname"><a href="fxopt__utils_8c.html#a11877c1cccd04ad479f5b98fcff1d2fd">initialize_format</a></div><div class="ttdeci">void initialize_format(struct SIF *s)</div><div class="ttdoc">Initialize the SIF definition for a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00219">fxopt_utils.c:219</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab67b84fcae04e9615dcc269759854a93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tree get_operand_decl </td>
          <td>(</td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>operand</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the underlying variable declaration tree for an operand. </p>
<p>Operands can be a composite of pointers, array elements, memory references and SSA names. Drill down to the core declaration.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">operand</td><td>GIMPLE tree for an operand </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>GIMPLE tree for the underlying variable declaration </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01109">1109</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;{</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;  tree var = NULL;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="keywordflow">if</span> (TREE_CONSTANT(operand)) {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    <span class="keywordflow">return</span> var;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordflow">if</span> ((VAR_DECL == TREE_CODE(operand))</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        || (PARM_DECL == TREE_CODE(operand))</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        || (RESULT_DECL == TREE_CODE(operand))</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        || (SSA_NAME == TREE_CODE(operand))) {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      var = operand;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((ARRAY_REF == TREE_CODE(operand))</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;               || (MEM_REF == TREE_CODE(operand))) {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;      var = TREE_OPERAND(operand, 0);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;      <span class="keywordflow">if</span> (MEM_REF == TREE_CODE(var)) {</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        var = TREE_OPERAND(var, 0);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;      }</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;    }</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;    <span class="keywordflow">if</span> (SSA_NAME == TREE_CODE(var)) {</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;      var = SSA_NAME_VAR(var);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    }</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <span class="keywordflow">if</span> ((VAR_DECL != TREE_CODE(var)) &amp;&amp; (PARM_DECL != TREE_CODE(var))</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      &amp;&amp; (RESULT_DECL != TREE_CODE(var))) {</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: Error getting operand declaration&quot;</span>);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  }</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  <span class="keywordflow">return</span> var;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;}</div>
<div class="ttc" id="fxopt__plugin_8h_html_ace046b3f15f31d2cdb41c1126fd00517"><div class="ttname"><a href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a></div><div class="ttdeci">void error(const char *,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a838f4d620efd0776323bbe5af19c60c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_s_i_f.html">SIF</a> get_operand_format </td>
          <td>(</td>
          <td class="paramtype">gimple&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>op_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>element_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>print</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format of a statement operand. </p>
<p>Given a statement gimple, an operand number, and possibly the element number for an array, return the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format for the operand If parameter print is true, pretty print the format to stderr</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>gimple statement being processed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">op_number</td><td>operand number being retrieved </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">element_number</td><td>array element number of the operand </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">print</td><td>true causes format to be printed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure for the operand </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01152">1152</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;{</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> op_fmt;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;  <a class="code" href="fxopt__utils_8c.html#a11877c1cccd04ad479f5b98fcff1d2fd">initialize_format</a>(&amp;op_fmt);</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  <span class="keywordtype">int</span> uid, pass, index;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  uid = pass = 0;</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;  index = <a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a>;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  tree operand = gimple_op(stmt, op_number);</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  tree inner_type = <a class="code" href="fxopt__utils_8c.html#aa7b48feb3569221585755766c0145240">get_innermost_type</a>(operand);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  <span class="keywordflow">if</span> (TREE_CONSTANT(operand)) {</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="keywordflow">if</span> (REAL_CST == TREE_CODE(operand)) {</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="fxopt__plugin_8c.html#a56edbda4dd15509d5347fa917ea5b9ed">lastpass</a>) {</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        gimple_set_op(stmt, op_number, <a class="code" href="fxopt__utils_8c.html#a1320f6310e4e6b0543f362d0ae4a4bf0">convert_real_constant</a>(operand, &amp;op_fmt));</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        update_stmt(stmt);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;        <a class="code" href="fxopt__plugin_8h.html#a876c8b44be0037b8595d6cca4e4da2f6">print_gimple_stmt</a>(stderr, stmt, 2, 0);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <a class="code" href="fxopt__utils_8c.html#a1320f6310e4e6b0543f362d0ae4a4bf0">convert_real_constant</a>(operand, &amp;op_fmt);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;      }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (INTEGER_CST == TREE_CODE(operand)) {</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;      <a class="code" href="fxopt__utils_8c.html#aeb5df0cc754284402541cd91358851d6">int_constant_format</a>(operand, &amp;op_fmt);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;      <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0, G_(<span class="stringliteral">&quot;Unexpected constant operand encountered&quot;</span>));</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    }</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    tree var = NULL;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    tree index_var = NULL;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    <span class="keywordflow">if</span> (SSA_NAME == TREE_CODE(operand)) {</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;      var = SSA_NAME_VAR(operand);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;      <span class="comment">// operand tree must have same type as underlying variable</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;      TREE_TYPE(operand) = TREE_TYPE(var);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (VAR_DECL == TREE_CODE(operand)) {</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;      var = operand;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARRAY_REF == TREE_CODE(operand)) {</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;      <span class="comment">// find the declaration of the underlying variable</span></div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;      var = TREE_OPERAND(operand, 0);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;      index_var = TREE_OPERAND(operand, 1);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;      <span class="keywordflow">if</span> (INTEGER_CST == TREE_CODE(index_var)) {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        index = TREE_INT_CST_LOW(index_var);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SSA_NAME == TREE_CODE(index_var)) {</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        index_var = SSA_NAME_VAR(index_var);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        uid = DECL_UID(index_var);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *idx_fmt = <a class="code" href="fxopt__utils_8c.html#aa5c082e069ec56032f08d58c1af6e26e">get_format_ptr</a>(</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;            <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(uid,0,<a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a>));</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        index = idx_fmt-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>;</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <span class="keywordflow">if</span> (op_number &gt; 0) {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;          idx_fmt-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = idx_fmt-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> + 1;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;          <span class="keywordflow">if</span> (idx_fmt-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> &gt; (<span class="keywordtype">int</span>) double_int_to_uhwi(idx_fmt-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>))</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;            idx_fmt-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = 0;</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        }</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: Unexpected index operand for ARRAY_REF&quot;</span>);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;      }</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;      <span class="keywordflow">if</span> (MEM_REF == TREE_CODE(var)) {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        var = TREE_OPERAND(var, 0);</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        <span class="keywordflow">if</span> (SSA_NAME == TREE_CODE(var)) {</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;          var = SSA_NAME_VAR(var);</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;          <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: Unexpected operand of a MEM_REF&quot;</span>);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;        <span class="keywordflow">if</span> (INTEGER_CST != TREE_CODE(TREE_OPERAND(operand, 1))) {</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;          <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: get_operand_format: Error getting array index&quot;</span>);</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      }</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;      <span class="keywordflow">if</span> ((VAR_DECL != TREE_CODE(var)) &amp;&amp; (PARM_DECL != TREE_CODE(var))) {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            (<span class="stringliteral">&quot;fxopt: get_operand_format: Error getting array operand VAR_DECL/PARM_DECL&quot;</span>);</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      }</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="comment">// operand tree must have same type as underlying variable</span></div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="keywordflow">if</span> (ARRAY_TYPE == TREE_CODE(TREE_TYPE(var))) {</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;        TREE_TYPE(operand) = inner_type;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (POINTER_TYPE == TREE_CODE(TREE_TYPE(var))) {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        TREE_TYPE(operand) = inner_type;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="keywordflow">if</span> (ARRAY_TYPE == TREE_CODE(TREE_TYPE(TREE_TYPE(var)))) {</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;          tree array_tree = TREE_TYPE(TREE_TYPE(var));</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;          TREE_TYPE(array_tree) = strip_array_types(TREE_TYPE(array_tree));</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;          <span class="keywordflow">if</span> (TREE_CODE(inner_type) != TREE_CODE(TREE_TYPE(array_tree))) {</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;            fprintf(stderr, <span class="stringliteral">&quot;Error setting array type!\n&quot;</span>);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;          }</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;          fprintf(stderr, <span class="stringliteral">&quot;Do something with pointer type!\n&quot;</span>);</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;        }</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: Error setting array element type&quot;</span>);</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;      }</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MEM_REF == TREE_CODE(operand)) {</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;      TREE_TYPE(operand) = inner_type;</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;      <span class="comment">// find the declaration of the underlying variable</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;      var = TREE_OPERAND(operand, 0);</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;      <span class="keywordflow">if</span> (SSA_NAME == TREE_CODE(var)) {</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;        TREE_TYPE(var) = inner_type;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        var = SSA_NAME_VAR(var);        <span class="comment">// var is now a _DECL</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;      }</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;      <span class="keywordflow">if</span> ((VAR_DECL != TREE_CODE(var)) &amp;&amp; (PARM_DECL != TREE_CODE(var))) {</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: Error getting mem_ref operand VAR_DECL/PARM_DECL&quot;</span>);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;      }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;      <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0, G_(<span class="stringliteral">&quot;Unexpected operand code, operand %d&quot;</span>), op_number);</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    }                           <span class="comment">// finding underlying declared variable</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    <span class="comment">// Try to fetch a format for this exact operand, pass, and index.</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *op_fmt_p = NULL;</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    uid = DECL_UID(var);        <span class="comment">// only variable declarations have a UID</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;    <span class="keywordtype">int</span> var_key = <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(uid, <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>, index);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;var_key, op_fmt_p);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    <span class="comment">// If the operand is on the RHS and is aliased then we need to get</span></div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="comment">// the format of the alias instead.</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="comment">// Try to fetch a format for this operand with index of NOT_AN_ARRAY.</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="comment">// If this operand is aliased, fetch the format for the aliased variable</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="comment">//   using the index for the current operand (needed for ARRAY_REF)</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="keywordflow">if</span> (op_number &gt; 0) {</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *var_fmt_p = NULL;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;      var_key = <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(uid, <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>, <a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a>);</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;      HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;var_key, var_fmt_p);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      <span class="keywordflow">if</span> ((var_fmt_p != NULL) &amp;&amp; (var_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">ptr_op</a>) &amp;&amp; (var_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a>)) {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;        <span class="keywordtype">int</span> alias_uid = <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(var_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a>);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        pass = <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;          var_key = <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(alias_uid, pass, index);</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;          HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;var_key, var_fmt_p);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;          <span class="keywordflow">if</span> (var_fmt_p != NULL) {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;            op_fmt_p = var_fmt_p;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;          }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;          pass--;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        } <span class="keywordflow">while</span> ((pass &gt;= 0) &amp;&amp; (op_fmt_p == NULL));</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;      }</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;    }</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    <span class="comment">// Function parameters get updated every pass</span></div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <span class="comment">// They should only have themselves in their aa list, but the pass #</span></div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <span class="comment">//   needs to be updated so that the aa list points to the current</span></div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <span class="comment">//   SIF format</span></div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="keywordflow">if</span> ((op_fmt_p == NULL) &amp;&amp; (<a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a> &gt; 0) &amp;&amp; (PARM_DECL == TREE_CODE(var))) {</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;      op_fmt_p = <a class="code" href="fxopt__utils_8c.html#a6fa27c9a550736bb1bbd016f4feb2db4">find_var_format</a>(<a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(uid, <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>, index));</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;      <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *prev_fmt_p =</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;          <a class="code" href="fxopt__utils_8c.html#a6fa27c9a550736bb1bbd016f4feb2db4">find_var_format</a>(<a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(uid, (<a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a> - 1), index));</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;      <a class="code" href="fxopt__utils_8c.html#a16e2f15bd22d9f8fa1435bb3111d5b1b">copy_SIF</a>(prev_fmt_p, op_fmt_p);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;      <span class="keywordflow">if</span> (op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>) {</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;        <span class="keywordflow">if</span> (op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> == <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(uid, (<a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a> - 1), index))</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;          op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> = op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>-&gt;<a class="code" href="struct_a_a.html#a063dc57333807e1918e6c8534824d8b3">next</a>-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> ==</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;                 <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(uid, (<a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a> - 1), index))</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;          op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>-&gt;<a class="code" href="struct_a_a.html#a063dc57333807e1918e6c8534824d8b3">next</a>-&gt;<a class="code" href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">id</a> = op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;          fprintf(stderr, <span class="stringliteral">&quot;  !!!!! Unexpected id\n&quot;</span>);</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;      }</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    <span class="comment">// Else, try to find the operand in an earlier pass</span></div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="keywordflow">if</span> ((op_fmt_p == NULL) &amp;&amp; (<a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a> &gt; 0)) {</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      pass = <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        pass--;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;        var_key = <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(uid, pass, index);</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;var_key, op_fmt_p);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        <span class="keywordflow">if</span> (op_fmt_p != NULL) {</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;        }</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;      } <span class="keywordflow">while</span> ((pass &gt;= 0) &amp;&amp; (op_fmt_p == NULL));</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    }</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;    <span class="comment">// Else, try to find the operand without an index</span></div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;    <span class="keywordflow">if</span> ((op_fmt_p == NULL) &amp;&amp; (index &gt; 0)) {</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;      var_key = <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(uid, <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>, <a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a>);</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;      HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;var_key, op_fmt_p);</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;      <span class="keywordflow">if</span> ((op_fmt_p == NULL) &amp;&amp; (<a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a> &gt; 0)) {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        pass = <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;        <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;          pass--;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;          var_key = <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(uid, pass, index);</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;          HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;var_key, op_fmt_p);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;          <span class="keywordflow">if</span> (op_fmt_p != NULL) {</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;          }</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;        } <span class="keywordflow">while</span> ((pass &gt;= 0) &amp;&amp; (op_fmt_p == NULL));</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;      }</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="keywordflow">if</span> (op_fmt_p != NULL) {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(op_fmt.aa));</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;      op_fmt = *op_fmt_p;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;      <span class="comment">// If a pointer on the LHS still doesn&#39;t have an initialized format,</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      <span class="comment">// try to use the operand in this pass without an index</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;      <span class="comment">//</span></div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a>(op_fmt) &amp;&amp; (op_fmt.ptr_op != 0) &amp;&amp;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                                         (op_number == 0)) {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        var_key = <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(uid, <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>, <a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a>);</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        <span class="keywordflow">if</span> (var_key != op_fmt.id) {</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;          HASH_FIND_INT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, &amp;var_key, op_fmt_p);</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;          <span class="keywordflow">if</span> (op_fmt_p != NULL) {</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            op_fmt = *op_fmt_p;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;            <span class="keywordflow">if</span> (op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> != 0) {</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;              op_fmt.<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> = <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(<a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a>),</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;                                               <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>, index);</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;            }</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;          }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;        }</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;      }</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    }</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  }                             <span class="comment">// not a constant</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a>(op_fmt)) {</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="comment">// marker for uninitialized: min &gt; max</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;    <span class="keywordflow">if</span> (double_int_scmp(op_fmt.max, op_fmt.min) == -1) {</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      op_fmt.max = double_int_mask(op_fmt.I + op_fmt.F);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;      op_fmt.min = double_int_neg(op_fmt.max);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      op_fmt.max =</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;          double_int_lshift(op_fmt.max, op_fmt.E,</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;                            HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;      op_fmt.min =</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;          double_int_lshift(op_fmt.min, op_fmt.E,</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;                            HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="comment">// Turn off interval arithmetic (for experimental purposes)</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="fxopt__plugin_8c.html#a52d471e21d3a5fabd54250b3b79e618f">INTERVAL</a>) {</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      op_fmt.max = double_int_mask(op_fmt.I + op_fmt.F + op_fmt.E);</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      op_fmt.min = double_int_neg(op_fmt.max);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    }</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="comment">// Using affine range instead of interval arithmetic</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="fxopt__plugin_8c.html#a63da58b371af4c2a5d096f4d99144722">AFFINE</a>) &amp;&amp; (NULL != op_fmt.aa)) {</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      op_fmt.max = <a class="code" href="fxopt__affine_8c.html#a067125d7343510a6ff75cda6c5f78a17">aa_max</a>(op_fmt.aa);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      op_fmt.min = <a class="code" href="fxopt__affine_8c.html#a0d0ff4cce1470f5c96382192fc06a474">aa_min</a>(op_fmt.aa);</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    }</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    op_fmt.originalF = op_fmt.F;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;    <span class="comment">// If desired, print the operand&#39;s format</span></div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">if</span> (print) {</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;      <span class="keywordflow">if</span> (op_fmt.alias != 0) {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;  OP%d  @&quot;</span>, op_number);</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (op_fmt.ptr_op != 0) {</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;  OP%d  *&quot;</span>, op_number);</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;  OP%d   &quot;</span>, op_number);</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;      }</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;      <span class="keywordflow">if</span> (op_fmt.iv)</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;(%2d/%2d/--/--)&quot;</span>, op_fmt.S, op_fmt.I);</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;(%2d/%2d/%2d/%2d)&quot;</span>, op_fmt.S, op_fmt.I, op_fmt.F,</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                op_fmt.E);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;      <span class="keywordflow">if</span> (op_fmt.sgnd) {</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;s &quot;</span>);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;u &quot;</span>);</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;      }</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="fxopt__plugin_8c.html#a63da58b371af4c2a5d096f4d99144722">AFFINE</a>) {</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;        <a class="code" href="fxopt__affine_8c.html#a1c78a3b66a0674be33d45aa8118d216a">print_aa_list</a>(op_fmt.aa);</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;      }</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="fxopt__plugin_8c.html#a52d471e21d3a5fabd54250b3b79e618f">INTERVAL</a>)</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;        <a class="code" href="fxopt__plugin_8h.html#a61d93d5b2dacbad2642abfc9ce74c923">print_min_max</a>(op_fmt);</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        fprintf(stderr, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    }</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;  }                             <span class="comment">// found some kind of format to use</span></div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;  <span class="keywordflow">return</span> op_fmt;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;}</div>
<div class="ttc" id="fxopt__affine_8c_html_a1c78a3b66a0674be33d45aa8118d216a"><div class="ttname"><a href="fxopt__affine_8c.html#a1c78a3b66a0674be33d45aa8118d216a">print_aa_list</a></div><div class="ttdeci">void print_aa_list(struct AA *aa_list_p)</div><div class="ttdoc">Print the equation for an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00204">fxopt_affine.c:204</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_aa5c082e069ec56032f08d58c1af6e26e"><div class="ttname"><a href="fxopt__utils_8c.html#aa5c082e069ec56032f08d58c1af6e26e">get_format_ptr</a></div><div class="ttdeci">struct SIF * get_format_ptr(int var_id)</div><div class="ttdoc">Get a pointer to a SIF, given its hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00154">fxopt_utils.c:154</a></div></div>
<div class="ttc" id="struct_a_a_html_a2f0a7cf6febd659f1a4806ed7b461e62"><div class="ttname"><a href="struct_a_a.html#a2f0a7cf6febd659f1a4806ed7b461e62">AA::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key of variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00084">fxopt_plugin.h:84</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a6930dd703e6e637a2cc7c98031994d28"><div class="ttname"><a href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">SIF::ptr_op</a></div><div class="ttdeci">int ptr_op</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00130">fxopt_plugin.h:130</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a876c8b44be0037b8595d6cca4e4da2f6"><div class="ttname"><a href="fxopt__plugin_8h.html#a876c8b44be0037b8595d6cca4e4da2f6">print_gimple_stmt</a></div><div class="ttdeci">void print_gimple_stmt(FILE *, gimple, int, int)</div></div>
<div class="ttc" id="struct_s_i_f_html_ac2025a3d51101618f408ac561260819d"><div class="ttname"><a href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">SIF::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00116">fxopt_plugin.h:116</a></div></div>
<div class="ttc" id="fxopt__plugin_8c_html_a52d471e21d3a5fabd54250b3b79e618f"><div class="ttname"><a href="fxopt__plugin_8c.html#a52d471e21d3a5fabd54250b3b79e618f">INTERVAL</a></div><div class="ttdeci">int INTERVAL</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00050">fxopt_plugin.c:50</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a91eebada26631feb3e5b806fe2536ad6"><div class="ttname"><a href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a></div><div class="ttdeci">struct SIF * var_formats</div><div class="ttdoc">Pointer to the hash table for the variables&#39; SIF formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00091">fxopt_utils.c:91</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a161974a317c27803ef790e5989fcac91"><div class="ttname"><a href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">SIF::alias</a></div><div class="ttdeci">int alias</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00117">fxopt_plugin.h:117</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a61d93d5b2dacbad2642abfc9ce74c923"><div class="ttname"><a href="fxopt__plugin_8h.html#a61d93d5b2dacbad2642abfc9ce74c923">print_min_max</a></div><div class="ttdeci">void print_min_max(struct SIF op_fmt)</div><div class="ttdoc">Print a range&#39;s min and max as floating-point and hexadecimal values. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__range_8c_source.html#l00337">fxopt_range.c:337</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a564d283d3bb41651e593c62e2f46d079"><div class="ttname"><a href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">SIF::max</a></div><div class="ttdeci">double_int max</div><div class="ttdoc">Maximum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00135">fxopt_plugin.h:135</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_aaa3848f108434439b2d91a86bda052d3"><div class="ttname"><a href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a></div><div class="ttdeci">void delete_aa_list(struct AA **aa_list_pp)</div><div class="ttdoc">Delete an entire AA definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00251">fxopt_affine.c:251</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a9dbaabd34c9e88d0bc5550cdea19494c"><div class="ttname"><a href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a></div><div class="ttdeci">int format_initialized(struct SIF oprnd_frmt)</div><div class="ttdoc">Predicate for an initialized format specification. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l01738">fxopt_utils.c:1738</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ae799a9ba06cdf1c06da807eb5135d4b0"><div class="ttname"><a href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a></div><div class="ttdeci">#define KEY_TO_UID(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00052">fxopt_plugin.h:52</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a067125d7343510a6ff75cda6c5f78a17"><div class="ttname"><a href="fxopt__affine_8c.html#a067125d7343510a6ff75cda6c5f78a17">aa_max</a></div><div class="ttdeci">double_int aa_max(struct AA *aa_list_p)</div><div class="ttdoc">Calculate the maximum value of an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00521">fxopt_affine.c:521</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_aeaa24dc28d2cae85c4c92370d64310a3"><div class="ttname"><a href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a></div><div class="ttdeci">#define NOT_AN_ARRAY</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00046">fxopt_plugin.h:46</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a16e2f15bd22d9f8fa1435bb3111d5b1b"><div class="ttname"><a href="fxopt__utils_8c.html#a16e2f15bd22d9f8fa1435bb3111d5b1b">copy_SIF</a></div><div class="ttdeci">void copy_SIF(struct SIF *src, struct SIF *dest)</div><div class="ttdoc">Copy the SIF format of one variable to another. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00279">fxopt_utils.c:279</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_aeb5df0cc754284402541cd91358851d6"><div class="ttname"><a href="fxopt__utils_8c.html#aeb5df0cc754284402541cd91358851d6">int_constant_format</a></div><div class="ttdeci">void int_constant_format(tree integer_cst, struct SIF *op_fmt_p)</div><div class="ttdoc">Determine the fixed-point format for an integer constant. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l01025">fxopt_utils.c:1025</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_a0d0ff4cce1470f5c96382192fc06a474"><div class="ttname"><a href="fxopt__affine_8c.html#a0d0ff4cce1470f5c96382192fc06a474">aa_min</a></div><div class="ttdeci">double_int aa_min(struct AA *aa_list_p)</div><div class="ttdoc">Calculate the minimum value of an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00602">fxopt_affine.c:602</a></div></div>
<div class="ttc" id="fxopt__plugin_8c_html_a63da58b371af4c2a5d096f4d99144722"><div class="ttname"><a href="fxopt__plugin_8c.html#a63da58b371af4c2a5d096f4d99144722">AFFINE</a></div><div class="ttdeci">int AFFINE</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00051">fxopt_plugin.c:51</a></div></div>
<div class="ttc" id="fxopt__plugin_8c_html_a61bf1d639f0227e847e927dc76b0edb8"><div class="ttname"><a href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a></div><div class="ttdeci">int fxpass</div><div class="ttdoc">Counts number of passes through the function in attempt to resolve all formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00045">fxopt_plugin.c:45</a></div></div>
<div class="ttc" id="struct_a_a_html_a063dc57333807e1918e6c8534824d8b3"><div class="ttname"><a href="struct_a_a.html#a063dc57333807e1918e6c8534824d8b3">AA::next</a></div><div class="ttdeci">struct AA * next</div><div class="ttdoc">Pointer to next variable structure. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00087">fxopt_plugin.h:87</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_af49afd784b5ff112c3129f155af24748"><div class="ttname"><a href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a></div><div class="ttdeci">#define ARITH</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00033">fxopt_plugin.h:33</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a6fa27c9a550736bb1bbd016f4feb2db4"><div class="ttname"><a href="fxopt__utils_8c.html#a6fa27c9a550736bb1bbd016f4feb2db4">find_var_format</a></div><div class="ttdeci">struct SIF * find_var_format(int var_id)</div><div class="ttdoc">Find/create a pointer to a SIF, given its hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00171">fxopt_utils.c:171</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a1320f6310e4e6b0543f362d0ae4a4bf0"><div class="ttname"><a href="fxopt__utils_8c.html#a1320f6310e4e6b0543f362d0ae4a4bf0">convert_real_constant</a></div><div class="ttdeci">tree convert_real_constant(tree real_cst, struct SIF *op_fmt_p)</div><div class="ttdoc">Convert a real constant tree to an integer constant tree. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00984">fxopt_utils.c:984</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a3b8dd6f683d483b6b3f7fe66b089ec1b"><div class="ttname"><a href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a></div><div class="ttdeci">#define UID_PASS_IDX_TO_KEY(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00051">fxopt_plugin.h:51</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a5eb3900658a72bad49717c4b86bff166"><div class="ttname"><a href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a></div><div class="ttdeci">bool warning(int, const char *,...)</div></div>
<div class="ttc" id="struct_s_i_f_html_a23d0132158a81b4458e2a3f455796d19"><div class="ttname"><a href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">SIF::shift</a></div><div class="ttdeci">int shift</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00128">fxopt_plugin.h:128</a></div></div>
<div class="ttc" id="fxopt__plugin_8c_html_a56edbda4dd15509d5347fa917ea5b9ed"><div class="ttname"><a href="fxopt__plugin_8c.html#a56edbda4dd15509d5347fa917ea5b9ed">lastpass</a></div><div class="ttdeci">int lastpass</div><div class="ttdoc">Set to true when all formats are resolved and code can be generated. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00039">fxopt_plugin.c:39</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ace046b3f15f31d2cdb41c1126fd00517"><div class="ttname"><a href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a></div><div class="ttdeci">void error(const char *,...)</div></div>
<div class="ttc" id="fxopt__utils_8c_html_aa7b48feb3569221585755766c0145240"><div class="ttname"><a href="fxopt__utils_8c.html#aa7b48feb3569221585755766c0145240">get_innermost_type</a></div><div class="ttdeci">tree get_innermost_type(tree vardecl)</div><div class="ttdoc">Find the innermost type for an operand. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l01085">fxopt_utils.c:1085</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a11877c1cccd04ad479f5b98fcff1d2fd"><div class="ttname"><a href="fxopt__utils_8c.html#a11877c1cccd04ad479f5b98fcff1d2fd">initialize_format</a></div><div class="ttdeci">void initialize_format(struct SIF *s)</div><div class="ttdoc">Initialize the SIF definition for a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00219">fxopt_utils.c:219</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab466c1d9b394c4af2ee51b9349253c57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int id_sort </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sorting function for variable <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definitions. </p>
<p>The ID values of two <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definitions are compared to determine how the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definitions are sorted. <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definitions with smaller GIMPLE UID values precede <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definitions with higher UID values. <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definitions with the same UID value are sorted by the array index. <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definitions with the same UID and the same index are sorted by pass number.</p>
<p>A negative return value indicates that <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definition <code>a</code> should precede <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definition <code>b</code>, while a return value greater than zero indicates that <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definition <code>b</code> should precede <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definition <code>a</code>. This function should never return a value of zero because two <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definitions must never have the same ID value.</p>
<p>This function is strictly for cosmetic purposes and is used when printing all of the variables' <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definitions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>comparison result </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00048">48</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                                          {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(a-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>) != <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(b-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>))</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(a-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>) - <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(b-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>));</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a>(a-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>) != <a class="code" href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a>(b-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>))</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a>(a-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>) - <a class="code" href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a>(b-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>));</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="keywordflow">else</span> </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a>(a-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>) - <a class="code" href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a>(b-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>));</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_ac2025a3d51101618f408ac561260819d"><div class="ttname"><a href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">SIF::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00116">fxopt_plugin.h:116</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ae799a9ba06cdf1c06da807eb5135d4b0"><div class="ttname"><a href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a></div><div class="ttdeci">#define KEY_TO_UID(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00052">fxopt_plugin.h:52</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a4f8811d5916fc02d3ea3369cd63c8583"><div class="ttname"><a href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a></div><div class="ttdeci">#define KEY_TO_PASS(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00053">fxopt_plugin.h:53</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a57b4d6ef6eab411273326b20df6ed752"><div class="ttname"><a href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a></div><div class="ttdeci">#define KEY_TO_IDX(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00054">fxopt_plugin.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a11877c1cccd04ad479f5b98fcff1d2fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initialize_format </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> definition for a variable. </p>
<p>Most of the elements of the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure are given default values. Setting the <code>I</code> and <code>F</code> elements to zero indicates that the SIFE values are undefined. Setting the <code>max</code> value to zero and the <code>min</code> value to one marks the range as undefined. Setting the <code>aa</code> to NULL indicates that the affine equation is undefined.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00219">219</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;{</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a> = 0xdead;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  s-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> = s-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> = s-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> = s-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> = s-&gt;<a class="code" href="struct_s_i_f.html#a56b7f2e3fa074e49ca3956672da071e8">originalF</a> = s-&gt;<a class="code" href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">size</a> = s-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = s-&gt;<a class="code" href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">sgnd</a> = 0;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  s-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a> = double_int_zero; <span class="comment">// special &quot;uninitialized&quot; values</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  s-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a> = double_int_one;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  s-&gt;<a class="code" href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">has_attribute</a> = s-&gt;<a class="code" href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">ptr_op</a> = s-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a> = 0;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  s-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> = s-&gt;<a class="code" href="struct_s_i_f.html#a2624843637dc3d164da62c28373a1ede">iter</a> = 0;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  s-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a> = NULL;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a6930dd703e6e637a2cc7c98031994d28"><div class="ttname"><a href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">SIF::ptr_op</a></div><div class="ttdeci">int ptr_op</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00130">fxopt_plugin.h:130</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a70b57673b3e2ed7aa3e4bb22faf66d2c"><div class="ttname"><a href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">SIF::has_attribute</a></div><div class="ttdeci">int has_attribute</div><div class="ttdoc">boolean </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00138">fxopt_plugin.h:138</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8186e869eb2a4ac178184a2a93d2dfe4"><div class="ttname"><a href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">SIF::iv</a></div><div class="ttdeci">int iv</div><div class="ttdoc">True if an induction variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00133">fxopt_plugin.h:133</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a2624843637dc3d164da62c28373a1ede"><div class="ttname"><a href="struct_s_i_f.html#a2624843637dc3d164da62c28373a1ede">SIF::iter</a></div><div class="ttdeci">int iter</div><div class="ttdoc">True if variable used iteratively. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00134">fxopt_plugin.h:134</a></div></div>
<div class="ttc" id="struct_s_i_f_html_ac2025a3d51101618f408ac561260819d"><div class="ttname"><a href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">SIF::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00116">fxopt_plugin.h:116</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a584bf30db787408850e826a9e25d7816"><div class="ttname"><a href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">SIF::min</a></div><div class="ttdeci">double_int min</div><div class="ttdoc">Minimum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00136">fxopt_plugin.h:136</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a161974a317c27803ef790e5989fcac91"><div class="ttname"><a href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">SIF::alias</a></div><div class="ttdeci">int alias</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00117">fxopt_plugin.h:117</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a564d283d3bb41651e593c62e2f46d079"><div class="ttname"><a href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">SIF::max</a></div><div class="ttdeci">double_int max</div><div class="ttdoc">Maximum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00135">fxopt_plugin.h:135</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a76e1eafe400d8c4a61af7cc6c592b058"><div class="ttname"><a href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">SIF::sgnd</a></div><div class="ttdeci">int sgnd</div><div class="ttdoc">1 if signed, 0 if unsigned </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00132">fxopt_plugin.h:132</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a56b7f2e3fa074e49ca3956672da071e8"><div class="ttname"><a href="struct_s_i_f.html#a56b7f2e3fa074e49ca3956672da071e8">SIF::originalF</a></div><div class="ttdeci">int originalF</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00126">fxopt_plugin.h:126</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a464166f19006c30663e2465d606c8a07"><div class="ttname"><a href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">SIF::size</a></div><div class="ttdeci">int size</div><div class="ttdoc">size of this variable, in bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00127">fxopt_plugin.h:127</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a23d0132158a81b4458e2a3f455796d19"><div class="ttname"><a href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">SIF::shift</a></div><div class="ttdeci">int shift</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00128">fxopt_plugin.h:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeb5df0cc754284402541cd91358851d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void int_constant_format </td>
          <td>(</td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>integer_cst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>op_fmt_p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the fixed-point format for an integer constant. </p>
<p>The constant is assumed to be a true integer with no F or E bits. The number of I bits is determined by the magnitude of the integer unless the integer is exactly zero, then it gets an I value of 1. If the constant is negative the format is assumed to be signed with one sign bit, else the value of S is zero. The range min and max are set to the constant's value, as is the center element of the affine definition.</p>
<dl class="section note"><dt>Note</dt><dd>Constant operands are not the same as variables and don't have a specified size in GIMPLE. The size used in the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format is just the value of I+S.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">integer_cst</td><td>gcc tree for the integer constant </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">op_fmt_p</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure for the constant </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01025">1025</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;{</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;  <span class="keywordflow">if</span> (integer_zerop(integer_cst))</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;    op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> = 1;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> = tree_int_cst_min_precision(integer_cst, TRUE);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> = op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> = 0;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> = op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">sgnd</a> = tree_int_cst_sgn(integer_cst) &lt; 0 ? 1 : 0;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">size</a> = op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> + op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>;</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a> = tree_to_double_int(integer_cst);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a> = tree_to_double_int(integer_cst);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">has_attribute</a> = op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">ptr_op</a> = 0;</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a> = op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> = 0;</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;(op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>), 0, op_fmt_p-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>, 0);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a6930dd703e6e637a2cc7c98031994d28"><div class="ttname"><a href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">SIF::ptr_op</a></div><div class="ttdeci">int ptr_op</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00130">fxopt_plugin.h:130</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a70b57673b3e2ed7aa3e4bb22faf66d2c"><div class="ttname"><a href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">SIF::has_attribute</a></div><div class="ttdeci">int has_attribute</div><div class="ttdoc">boolean </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00138">fxopt_plugin.h:138</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8186e869eb2a4ac178184a2a93d2dfe4"><div class="ttname"><a href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">SIF::iv</a></div><div class="ttdeci">int iv</div><div class="ttdoc">True if an induction variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00133">fxopt_plugin.h:133</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_ad9b85d932ed3ce2e8acdfa9824f3694e"><div class="ttname"><a href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a></div><div class="ttdeci">void append_aa_var(struct AA **aa_list_p, int var_key, double_int coeff, int bp)</div><div class="ttdoc">Add a term to an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00089">fxopt_affine.c:89</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a584bf30db787408850e826a9e25d7816"><div class="ttname"><a href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">SIF::min</a></div><div class="ttdeci">double_int min</div><div class="ttdoc">Minimum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00136">fxopt_plugin.h:136</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a161974a317c27803ef790e5989fcac91"><div class="ttname"><a href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">SIF::alias</a></div><div class="ttdeci">int alias</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00117">fxopt_plugin.h:117</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a564d283d3bb41651e593c62e2f46d079"><div class="ttname"><a href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">SIF::max</a></div><div class="ttdeci">double_int max</div><div class="ttdoc">Maximum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00135">fxopt_plugin.h:135</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_aaa3848f108434439b2d91a86bda052d3"><div class="ttname"><a href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a></div><div class="ttdeci">void delete_aa_list(struct AA **aa_list_pp)</div><div class="ttdoc">Delete an entire AA definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00251">fxopt_affine.c:251</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a76e1eafe400d8c4a61af7cc6c592b058"><div class="ttname"><a href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">SIF::sgnd</a></div><div class="ttdeci">int sgnd</div><div class="ttdoc">1 if signed, 0 if unsigned </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00132">fxopt_plugin.h:132</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a464166f19006c30663e2465d606c8a07"><div class="ttname"><a href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">SIF::size</a></div><div class="ttdeci">int size</div><div class="ttdoc">size of this variable, in bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00127">fxopt_plugin.h:127</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a23d0132158a81b4458e2a3f455796d19"><div class="ttname"><a href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">SIF::shift</a></div><div class="ttdeci">int shift</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00128">fxopt_plugin.h:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aeae9f1259640b21f702df96e9b56d2a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void invert_constant_operand </td>
          <td>(</td>
          <td class="paramtype">gimple&#160;</td>
          <td class="paramname"><em>stmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>opnumber</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Replace a constant operand with its reciprocal. </p>
<p>Integer constants are first converted to a real constant and then the reciprocal is calculated. The statement is modified to replace the original constant with its reciprocal.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>GIMPLE statement to be modified </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opnumber</td><td>operand number for the constant operand </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00889">889</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;{</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  REAL_VALUE_TYPE real_const, inv_const;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;  tree operand = gimple_op(stmt, opnumber);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="keywordflow">if</span> (REAL_CST == TREE_CODE(operand)) {</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    real_const = TREE_REAL_CST(operand);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (INTEGER_CST == TREE_CODE(operand)) {</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    real_const = real_value_from_int_cst(double_type_node, operand);</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0, G_(<span class="stringliteral">&quot;fxopt: can&#39;t invert this constant type&quot;</span>));</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  }</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;  real_arithmetic(&amp;inv_const, RDIV_EXPR, &amp;dconst1, &amp;real_const);</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  gimple_set_op(stmt, opnumber, build_real(double_type_node, inv_const));</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  update_stmt(stmt);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;}</div>
<div class="ttc" id="fxopt__plugin_8h_html_a5eb3900658a72bad49717c4b86bff166"><div class="ttname"><a href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a></div><div class="ttdeci">bool warning(int, const char *,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a24143eb1ab7e53505872a42fbfe0eed9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_format </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>op_fmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the S, I, F, and E values and range min/max for a <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> struct. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op_fmt</td><td>an operands <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00684">684</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;{</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keywordflow">if</span> (op_fmt.<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a>)</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;(%2d/%2d/--/--)&quot;</span>, op_fmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>, op_fmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>);</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;(%2d/%2d/%2d/%2d)&quot;</span>, op_fmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>, op_fmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>, op_fmt.<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>,</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            op_fmt.<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>);</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  <span class="keywordflow">if</span> (op_fmt.<a class="code" href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">sgnd</a>) {</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;s&quot;</span>);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;u&quot;</span>);</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <a class="code" href="fxopt__plugin_8h.html#a61d93d5b2dacbad2642abfc9ce74c923">print_min_max</a>(op_fmt);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8186e869eb2a4ac178184a2a93d2dfe4"><div class="ttname"><a href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">SIF::iv</a></div><div class="ttdeci">int iv</div><div class="ttdoc">True if an induction variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00133">fxopt_plugin.h:133</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a61d93d5b2dacbad2642abfc9ce74c923"><div class="ttname"><a href="fxopt__plugin_8h.html#a61d93d5b2dacbad2642abfc9ce74c923">print_min_max</a></div><div class="ttdeci">void print_min_max(struct SIF op_fmt)</div><div class="ttdoc">Print a range&#39;s min and max as floating-point and hexadecimal values. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__range_8c_source.html#l00337">fxopt_range.c:337</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a76e1eafe400d8c4a61af7cc6c592b058"><div class="ttname"><a href="struct_s_i_f.html#a76e1eafe400d8c4a61af7cc6c592b058">SIF::sgnd</a></div><div class="ttdeci">int sgnd</div><div class="ttdoc">1 if signed, 0 if unsigned </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00132">fxopt_plugin.h:132</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3bf5e18f55b0466149ab1b4fd0415075"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_one_aa_format </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the S, I, F, and E values and affine definition for a <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> struct. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00629">629</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;{</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">if</span> (NULL == s)</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;  <span class="keywordtype">int</span> uid = <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordtype">int</span> idx = <a class="code" href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>);</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;  <span class="keywordtype">int</span> pass = <a class="code" href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>);</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;  tree var_tree = referenced_var_lookup(cfun, uid);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  <span class="keywordflow">if</span> (s-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> != 0) {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;//@(%2d/%2d/%2d/%2d)&quot;</span>, s-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>, s-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>, s-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>, s-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>);</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a>) {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;// (%2d/%2d/--/--)&quot;</span>, s-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>, s-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;// (%2d/%2d/%2d/%2d)&quot;</span>, s-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>, s-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>, s-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>, s-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>);</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  }</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;  <span class="keywordflow">if</span> (s-&gt;<a class="code" href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">has_attribute</a> != 0)</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;=&quot;</span>);</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keywordflow">if</span> (s-&gt;<a class="code" href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">ptr_op</a> != 0)</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;*&quot;</span>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keywordflow">if</span> (DECL_NAME(var_tree)) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;%s&quot;</span>, IDENTIFIER_POINTER(DECL_NAME(var_tree)));</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;%c%4u&quot;</span>, TREE_CODE(var_tree) == CONST_DECL ? <span class="charliteral">&#39;C&#39;</span> : <span class="charliteral">&#39;D&#39;</span>,</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;            DECL_UID(var_tree));</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordflow">if</span> (idx != <a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a>)</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;[%2d]&quot;</span>, idx);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  fprintf(stderr, <span class="stringliteral">&quot;#%d&quot;</span>, pass);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keywordflow">if</span> ((s-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> != 0) &amp;&amp; (s-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> != s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>)) {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    tree var_tree = referenced_var_lookup(cfun, <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(s-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a>));</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">if</span> (NULL != var_tree) </div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;-&gt;%s = &quot;</span>, IDENTIFIER_POINTER(DECL_NAME(var_tree)));</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;-&gt;?????? = &quot;</span>);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <a class="code" href="fxopt__affine_8c.html#a1c78a3b66a0674be33d45aa8118d216a">print_aa_list</a>(s-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot; = &quot;</span>);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <a class="code" href="fxopt__affine_8c.html#a1c78a3b66a0674be33d45aa8118d216a">print_aa_list</a>(s-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;}</div>
<div class="ttc" id="fxopt__affine_8c_html_a1c78a3b66a0674be33d45aa8118d216a"><div class="ttname"><a href="fxopt__affine_8c.html#a1c78a3b66a0674be33d45aa8118d216a">print_aa_list</a></div><div class="ttdeci">void print_aa_list(struct AA *aa_list_p)</div><div class="ttdoc">Print the equation for an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00204">fxopt_affine.c:204</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a6930dd703e6e637a2cc7c98031994d28"><div class="ttname"><a href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">SIF::ptr_op</a></div><div class="ttdeci">int ptr_op</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00130">fxopt_plugin.h:130</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a70b57673b3e2ed7aa3e4bb22faf66d2c"><div class="ttname"><a href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">SIF::has_attribute</a></div><div class="ttdeci">int has_attribute</div><div class="ttdoc">boolean </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00138">fxopt_plugin.h:138</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8186e869eb2a4ac178184a2a93d2dfe4"><div class="ttname"><a href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">SIF::iv</a></div><div class="ttdeci">int iv</div><div class="ttdoc">True if an induction variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00133">fxopt_plugin.h:133</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="struct_s_i_f_html_ac2025a3d51101618f408ac561260819d"><div class="ttname"><a href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">SIF::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00116">fxopt_plugin.h:116</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a161974a317c27803ef790e5989fcac91"><div class="ttname"><a href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">SIF::alias</a></div><div class="ttdeci">int alias</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00117">fxopt_plugin.h:117</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ae799a9ba06cdf1c06da807eb5135d4b0"><div class="ttname"><a href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a></div><div class="ttdeci">#define KEY_TO_UID(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00052">fxopt_plugin.h:52</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_aeaa24dc28d2cae85c4c92370d64310a3"><div class="ttname"><a href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a></div><div class="ttdeci">#define NOT_AN_ARRAY</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00046">fxopt_plugin.h:46</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a4f8811d5916fc02d3ea3369cd63c8583"><div class="ttname"><a href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a></div><div class="ttdeci">#define KEY_TO_PASS(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00053">fxopt_plugin.h:53</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a57b4d6ef6eab411273326b20df6ed752"><div class="ttname"><a href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a></div><div class="ttdeci">#define KEY_TO_IDX(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00054">fxopt_plugin.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af58e5e6bf5275a96760f38c380c4ed73"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_one_format </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print the S, I, F, and E values for one <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> hash table entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">s</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00587">587</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;{</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;  <span class="keywordflow">if</span> (NULL == s)</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;  <span class="keywordtype">int</span> uid = <a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>);</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordtype">int</span> idx = <a class="code" href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>);</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  tree var_tree = referenced_var_lookup(cfun, uid);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;  <span class="keywordflow">if</span> (s-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> != 0) {</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;//@(%2d/%2d/%2d/%2d)&quot;</span>, s-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>, s-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>, s-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>, s-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  }</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (s-&gt;<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a>) {</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;// (%2d/%2d/--/--)&quot;</span>, s-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>, s-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;// (%2d/%2d/%2d/%2d)&quot;</span>, s-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>, s-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>, s-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>, s-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>);</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  }</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  <span class="keywordflow">if</span> (s-&gt;<a class="code" href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">has_attribute</a> != 0)</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;=&quot;</span>);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="keywordflow">if</span> (s-&gt;<a class="code" href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">ptr_op</a> != 0)</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;*&quot;</span>);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;  <span class="keywordflow">if</span> (DECL_NAME(var_tree)) {</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;%s&quot;</span>, IDENTIFIER_POINTER(DECL_NAME(var_tree)));</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;%c%4u&quot;</span>, TREE_CODE(var_tree) == CONST_DECL ? <span class="charliteral">&#39;C&#39;</span> : <span class="charliteral">&#39;D&#39;</span>,</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            DECL_UID(var_tree));</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="keywordflow">if</span> (idx != <a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a>)</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    fprintf(stderr, <span class="stringliteral">&quot;[%2d]&quot;</span>, idx);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  fprintf(stderr, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a6930dd703e6e637a2cc7c98031994d28"><div class="ttname"><a href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">SIF::ptr_op</a></div><div class="ttdeci">int ptr_op</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00130">fxopt_plugin.h:130</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a70b57673b3e2ed7aa3e4bb22faf66d2c"><div class="ttname"><a href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">SIF::has_attribute</a></div><div class="ttdeci">int has_attribute</div><div class="ttdoc">boolean </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00138">fxopt_plugin.h:138</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8186e869eb2a4ac178184a2a93d2dfe4"><div class="ttname"><a href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">SIF::iv</a></div><div class="ttdeci">int iv</div><div class="ttdoc">True if an induction variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00133">fxopt_plugin.h:133</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="struct_s_i_f_html_ac2025a3d51101618f408ac561260819d"><div class="ttname"><a href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">SIF::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00116">fxopt_plugin.h:116</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a161974a317c27803ef790e5989fcac91"><div class="ttname"><a href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">SIF::alias</a></div><div class="ttdeci">int alias</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00117">fxopt_plugin.h:117</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ae799a9ba06cdf1c06da807eb5135d4b0"><div class="ttname"><a href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a></div><div class="ttdeci">#define KEY_TO_UID(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00052">fxopt_plugin.h:52</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_aeaa24dc28d2cae85c4c92370d64310a3"><div class="ttname"><a href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a></div><div class="ttdeci">#define NOT_AN_ARRAY</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00046">fxopt_plugin.h:46</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a57b4d6ef6eab411273326b20df6ed752"><div class="ttname"><a href="fxopt__plugin_8h.html#a57b4d6ef6eab411273326b20df6ed752">KEY_TO_IDX</a></div><div class="ttdeci">#define KEY_TO_IDX(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00054">fxopt_plugin.h:54</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad36faef90918aae1fe6ce32cb1299814"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_var_formats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print formats of <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> hash table variables used in this pass. </p>
<p>Sort them by id first, just for cosmetic reasons. Don't print if the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format is undefined. </p>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00571">571</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;{</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *s;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;  HASH_SORT(<a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>, <a class="code" href="fxopt__utils_8c.html#ab466c1d9b394c4af2ee51b9349253c57">id_sort</a>);</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;  <span class="keywordflow">for</span> (s = <a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>; s != NULL; s = (<span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *) (s-&gt;<a class="code" href="struct_s_i_f.html#a104dd67b6937c7fcb8aa288e0e415ade">hh</a>.next)) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a>(*s) &amp;&amp; (<a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a> == <a class="code" href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a>(s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>)))</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <a class="code" href="fxopt__utils_8c.html#af58e5e6bf5275a96760f38c380c4ed73">print_one_format</a>(s);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  }</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_ac2025a3d51101618f408ac561260819d"><div class="ttname"><a href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">SIF::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00116">fxopt_plugin.h:116</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_af58e5e6bf5275a96760f38c380c4ed73"><div class="ttname"><a href="fxopt__utils_8c.html#af58e5e6bf5275a96760f38c380c4ed73">print_one_format</a></div><div class="ttdeci">void print_one_format(struct SIF *s)</div><div class="ttdoc">Print the S, I, F, and E values for one SIF hash table entry. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00587">fxopt_utils.c:587</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a91eebada26631feb3e5b806fe2536ad6"><div class="ttname"><a href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a></div><div class="ttdeci">struct SIF * var_formats</div><div class="ttdoc">Pointer to the hash table for the variables&#39; SIF formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00091">fxopt_utils.c:91</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a9dbaabd34c9e88d0bc5550cdea19494c"><div class="ttname"><a href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a></div><div class="ttdeci">int format_initialized(struct SIF oprnd_frmt)</div><div class="ttdoc">Predicate for an initialized format specification. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l01738">fxopt_utils.c:1738</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a104dd67b6937c7fcb8aa288e0e415ade"><div class="ttname"><a href="struct_s_i_f.html#a104dd67b6937c7fcb8aa288e0e415ade">SIF::hh</a></div><div class="ttdeci">UT_hash_handle hh</div><div class="ttdoc">Required by uthash functions. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00145">fxopt_plugin.h:145</a></div></div>
<div class="ttc" id="fxopt__plugin_8c_html_a61bf1d639f0227e847e927dc76b0edb8"><div class="ttname"><a href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a></div><div class="ttdeci">int fxpass</div><div class="ttdoc">Counts number of passes through the function in attempt to resolve all formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00045">fxopt_plugin.c:45</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a4f8811d5916fc02d3ea3369cd63c8583"><div class="ttname"><a href="fxopt__plugin_8h.html#a4f8811d5916fc02d3ea3369cd63c8583">KEY_TO_PASS</a></div><div class="ttdeci">#define KEY_TO_PASS(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00053">fxopt_plugin.h:53</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_ab466c1d9b394c4af2ee51b9349253c57"><div class="ttname"><a href="fxopt__utils_8c.html#ab466c1d9b394c4af2ee51b9349253c57">id_sort</a></div><div class="ttdeci">int id_sort(struct SIF *a, struct SIF *b)</div><div class="ttdoc">Sorting function for variable SIF definitions. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00048">fxopt_utils.c:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad9d1b57a8608fc8ed021daee4f23a72e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void real_expr_to_integer </td>
          <td>(</td>
          <td class="paramtype">gimple&#160;</td>
          <td class="paramname"><em>stmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert floating operations to integer operations. </p>
<p>There are some GIMPLE assignment operations that are defined only for floating-point operands, and for these operations the GIMPLE statement is modified to use an appropriate integer operation instead.</p>
<dl class="section note"><dt>Note</dt><dd>Only the operation is modified, the operands are not affected.</dd>
<dd>
This only works for binary expressions, for unary expressions the "rhs_code" is actually the code for operand 1, which gets fixed when we call get_operand_format.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">stmt</td><td>a GIMPLE assignment statement </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00746">746</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;{</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  <span class="keywordflow">if</span> (! <a class="code" href="fxopt__plugin_8c.html#a56edbda4dd15509d5347fa917ea5b9ed">lastpass</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  <span class="keyword">enum</span> tree_code stmt_rhs_code = gimple_assign_rhs_code(stmt);</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordflow">switch</span> (stmt_rhs_code) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">case</span> RDIV_EXPR:</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;      gimple_assign_set_rhs_code(stmt, TRUNC_DIV_EXPR);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="keywordflow">case</span> FIX_TRUNC_EXPR:</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;      gimple_assign_set_rhs_code(stmt, NOP_EXPR);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">case</span> FLOAT_EXPR:</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      gimple_assign_set_rhs_code(stmt, NOP_EXPR);</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  }</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  update_stmt(stmt);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;}</div>
<div class="ttc" id="fxopt__plugin_8c_html_a56edbda4dd15509d5347fa917ea5b9ed"><div class="ttname"><a href="fxopt__plugin_8c.html#a56edbda4dd15509d5347fa917ea5b9ed">lastpass</a></div><div class="ttdeci">int lastpass</div><div class="ttdoc">Set to true when all formats are resolved and code can be generated. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00039">fxopt_plugin.c:39</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a22781c7f4b2c2e46cd5d52fe0b64a68f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float real_max </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>op_fmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return range maximum as a floating-point value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op_fmt</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>floating-point value of max </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00304">304</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">return</span> ((<span class="keywordtype">float</span>) double_int_to_shwi(op_fmt-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>) /</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;          (1ULL &lt;&lt; (op_fmt-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> + op_fmt-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>)));</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a564d283d3bb41651e593c62e2f46d079"><div class="ttname"><a href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">SIF::max</a></div><div class="ttdeci">double_int max</div><div class="ttdoc">Maximum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00135">fxopt_plugin.h:135</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9aff6a1aa064b1cb988a5f62c7b1a331"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float real_min </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a> *&#160;</td>
          <td class="paramname"><em>op_fmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return range minimum as a floating-point value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">op_fmt</td><td>pointer to <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>floating-point value of min </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00316">316</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;{</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">return</span> ((<span class="keywordtype">float</span>) double_int_to_shwi(op_fmt-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a>) /</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;          (1ULL &lt;&lt; (op_fmt-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> + op_fmt-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>)));</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a584bf30db787408850e826a9e25d7816"><div class="ttname"><a href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">SIF::min</a></div><div class="ttdeci">double_int min</div><div class="ttdoc">Minimum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00136">fxopt_plugin.h:136</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a90f0d05c95b84a24eefe0f01cea768e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void restore_attributes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restore the fxfrmt attribute values for all variables. </p>
<p>Before each fxopt pass through a function we restore any <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> parameters that were defined by an fxfrmt attribute. The affine definition is created based on the specified min and max range values.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000008">Todo:</a></b></dt><dd>This should also be done for variables with an initial value. </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00707">707</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;{</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *s;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <span class="keywordflow">for</span> (s = <a class="code" href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a>; s != NULL; s = (<span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *) (s-&gt;<a class="code" href="struct_s_i_f.html#a104dd67b6937c7fcb8aa288e0e415ade">hh</a>.next)) {</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="keywordflow">if</span> (s-&gt;<a class="code" href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">has_attribute</a> != 0) {</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> = s-&gt;<a class="code" href="struct_s_i_f.html#a6adf63d99e5175efd331c4e1026310c3">attrS</a>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> = s-&gt;<a class="code" href="struct_s_i_f.html#aa036ca42a7b23ff2e6f7f76b465b35e1">attrI</a>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> = s-&gt;<a class="code" href="struct_s_i_f.html#a33d633e281cae09fd65ec91b398dd3b1">attrF</a>;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> = s-&gt;<a class="code" href="struct_s_i_f.html#aff67ec4c65cbe6ef0c7484ad9b15fbe5">attrE</a>;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a> = s-&gt;<a class="code" href="struct_s_i_f.html#a8a02d701730aee5abb2e0a780ec7ee8e">attrmin</a>;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;      s-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a> = s-&gt;<a class="code" href="struct_s_i_f.html#a34f3337441fd95d8a2903e40d8389f1e">attrmax</a>;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      double_int x0 = double_int_rshift(double_int_add(s-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>, s-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a>), 1,</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                                          HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;      double_int x1 = double_int_rshift(double_int_sub(s-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>, s-&gt;<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a>), 1,</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;                                           HOST_BITS_PER_DOUBLE_INT, <a class="code" href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;      <a class="code" href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a>(&amp;(s-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>));</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;      <span class="keywordflow">if</span> (!double_int_zero_p(x0))</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;         <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;(s-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>), 0, x0, (s-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> + s-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>));</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;      <span class="keywordflow">if</span> (!double_int_zero_p(x1))</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;         <a class="code" href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a>(&amp;(s-&gt;<a class="code" href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">aa</a>), s-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>, x1, (s-&gt;<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> + s-&gt;<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>));</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a70b57673b3e2ed7aa3e4bb22faf66d2c"><div class="ttname"><a href="struct_s_i_f.html#a70b57673b3e2ed7aa3e4bb22faf66d2c">SIF::has_attribute</a></div><div class="ttdeci">int has_attribute</div><div class="ttdoc">boolean </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00138">fxopt_plugin.h:138</a></div></div>
<div class="ttc" id="struct_s_i_f_html_acba84ce8e1e8ae332cd07112a63be032"><div class="ttname"><a href="struct_s_i_f.html#acba84ce8e1e8ae332cd07112a63be032">SIF::aa</a></div><div class="ttdeci">struct AA * aa</div><div class="ttdoc">Pointer to affine variable list. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00137">fxopt_plugin.h:137</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a6adf63d99e5175efd331c4e1026310c3"><div class="ttname"><a href="struct_s_i_f.html#a6adf63d99e5175efd331c4e1026310c3">SIF::attrS</a></div><div class="ttdeci">int attrS</div><div class="ttdoc">S value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00139">fxopt_plugin.h:139</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_ad9b85d932ed3ce2e8acdfa9824f3694e"><div class="ttname"><a href="fxopt__affine_8c.html#ad9b85d932ed3ce2e8acdfa9824f3694e">append_aa_var</a></div><div class="ttdeci">void append_aa_var(struct AA **aa_list_p, int var_key, double_int coeff, int bp)</div><div class="ttdoc">Add a term to an affine definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00089">fxopt_affine.c:89</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a34f3337441fd95d8a2903e40d8389f1e"><div class="ttname"><a href="struct_s_i_f.html#a34f3337441fd95d8a2903e40d8389f1e">SIF::attrmax</a></div><div class="ttdeci">double_int attrmax</div><div class="ttdoc">Range max value assigned by fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00143">fxopt_plugin.h:143</a></div></div>
<div class="ttc" id="struct_s_i_f_html_ac2025a3d51101618f408ac561260819d"><div class="ttname"><a href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">SIF::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00116">fxopt_plugin.h:116</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a584bf30db787408850e826a9e25d7816"><div class="ttname"><a href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">SIF::min</a></div><div class="ttdeci">double_int min</div><div class="ttdoc">Minimum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00136">fxopt_plugin.h:136</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a91eebada26631feb3e5b806fe2536ad6"><div class="ttname"><a href="fxopt__utils_8c.html#a91eebada26631feb3e5b806fe2536ad6">var_formats</a></div><div class="ttdeci">struct SIF * var_formats</div><div class="ttdoc">Pointer to the hash table for the variables&#39; SIF formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00091">fxopt_utils.c:91</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8a02d701730aee5abb2e0a780ec7ee8e"><div class="ttname"><a href="struct_s_i_f.html#a8a02d701730aee5abb2e0a780ec7ee8e">SIF::attrmin</a></div><div class="ttdeci">double_int attrmin</div><div class="ttdoc">Range min value assigned by fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00144">fxopt_plugin.h:144</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a564d283d3bb41651e593c62e2f46d079"><div class="ttname"><a href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">SIF::max</a></div><div class="ttdeci">double_int max</div><div class="ttdoc">Maximum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00135">fxopt_plugin.h:135</a></div></div>
<div class="ttc" id="fxopt__affine_8c_html_aaa3848f108434439b2d91a86bda052d3"><div class="ttname"><a href="fxopt__affine_8c.html#aaa3848f108434439b2d91a86bda052d3">delete_aa_list</a></div><div class="ttdeci">void delete_aa_list(struct AA **aa_list_pp)</div><div class="ttdoc">Delete an entire AA definition. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__affine_8c_source.html#l00251">fxopt_affine.c:251</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a104dd67b6937c7fcb8aa288e0e415ade"><div class="ttname"><a href="struct_s_i_f.html#a104dd67b6937c7fcb8aa288e0e415ade">SIF::hh</a></div><div class="ttdeci">UT_hash_handle hh</div><div class="ttdoc">Required by uthash functions. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00145">fxopt_plugin.h:145</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_af49afd784b5ff112c3129f155af24748"><div class="ttname"><a href="fxopt__plugin_8h.html#af49afd784b5ff112c3129f155af24748">ARITH</a></div><div class="ttdeci">#define ARITH</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00033">fxopt_plugin.h:33</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="struct_s_i_f_html_aff67ec4c65cbe6ef0c7484ad9b15fbe5"><div class="ttname"><a href="struct_s_i_f.html#aff67ec4c65cbe6ef0c7484ad9b15fbe5">SIF::attrE</a></div><div class="ttdeci">int attrE</div><div class="ttdoc">E value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00142">fxopt_plugin.h:142</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a33d633e281cae09fd65ec91b398dd3b1"><div class="ttname"><a href="struct_s_i_f.html#a33d633e281cae09fd65ec91b398dd3b1">SIF::attrF</a></div><div class="ttdeci">int attrF</div><div class="ttdoc">F value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00141">fxopt_plugin.h:141</a></div></div>
<div class="ttc" id="struct_s_i_f_html_aa036ca42a7b23ff2e6f7f76b465b35e1"><div class="ttname"><a href="struct_s_i_f.html#aa036ca42a7b23ff2e6f7f76b465b35e1">SIF::attrI</a></div><div class="ttdeci">int attrI</div><div class="ttdoc">I value assigned by an fxfrmt attribute, if any. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00140">fxopt_plugin.h:140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acbf068a8cd925c106fced9fd10c0abbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_var_format </td>
          <td>(</td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>operand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>result_frmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores the calculated <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format for an operand. </p>
<p>Given the tree for a statement LHS operand, set the format of the underlying declared variable.</p>
<p>Only the SIF-related parameters can be changed. These are the <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure elements for</p>
<ul>
<li>S</li>
<li>I</li>
<li>F</li>
<li>E</li>
<li>min</li>
<li>max</li>
<li>iv</li>
<li>aa The other <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> parameters (e.g. size, signed) are inherited from the underlying variable</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">operand</td><td>the operand's gcc tree </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">result_frmt</td><td><a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> struct </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int error flag, nonzero if errors found </dd></dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01455">1455</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;{</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  <span class="keywordflow">if</span> (result_frmt.<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> &lt; 0) {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#aa61e4eca5d4c1dd8b1dbc7fdbb7ae657">fatal_error</a>(<span class="stringliteral">&quot;fxopt: result has negative # of fraction bits&quot;</span>);</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  }</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;  <span class="keywordflow">if</span> (result_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> &lt; 0) {</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#aa61e4eca5d4c1dd8b1dbc7fdbb7ae657">fatal_error</a>(<span class="stringliteral">&quot;fxopt: result has negative # of integer bits&quot;</span>);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;  }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  tree var = NULL;</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *var_fmt;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  <span class="keywordtype">int</span> index = <a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a>;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  <span class="comment">// Need to find the VAR declaration for the declared variable that</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  <span class="comment">// underlies this operand</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="keywordflow">if</span> (SSA_NAME == TREE_CODE(operand)) {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    var = SSA_NAME_VAR(operand);</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((PARM_DECL == TREE_CODE(operand))</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;             || (VAR_DECL == TREE_CODE(operand))) {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;    var = operand;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ARRAY_REF == TREE_CODE(operand)) {</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    var = TREE_OPERAND(operand, 0);</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;    tree index_var = TREE_OPERAND(operand, 1);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;    <span class="keywordflow">if</span> (INTEGER_CST == TREE_CODE(index_var)) {</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;      index = TREE_INT_CST_LOW(index_var);</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (SSA_NAME == TREE_CODE(index_var)) {</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;      index_var = SSA_NAME_VAR(index_var);</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;      <span class="keywordtype">int</span> uid = DECL_UID(index_var);</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;      <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *idx_fmt =</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;          <a class="code" href="fxopt__utils_8c.html#aa5c082e069ec56032f08d58c1af6e26e">get_format_ptr</a>(<a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(uid, 0, <a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a>));</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;      index = idx_fmt-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a>;</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;      fprintf(stderr, <span class="stringliteral">&quot;  Using index %d\n&quot;</span>, index);</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;      idx_fmt-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = idx_fmt-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> + 1;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;      <span class="keywordflow">if</span> (idx_fmt-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> &gt; (<span class="keywordtype">int</span>) double_int_to_uhwi(idx_fmt-&gt;<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a>))</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;        idx_fmt-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = 0;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;    }</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    <span class="keywordflow">if</span> (MEM_REF == TREE_CODE(var)) {</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;      var = TREE_OPERAND(var, 0);</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;      <span class="keywordflow">if</span> (SSA_NAME == TREE_CODE(var)) {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        var = SSA_NAME_VAR(var);</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: set_var_format: Unexpected operand of a MEM_REF&quot;</span>);</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;      }</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;      <span class="keywordflow">if</span> (INTEGER_CST != TREE_CODE(TREE_OPERAND(operand, 1))) {</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: set_var_format: Error getting array index&quot;</span>);</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;      }</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    }</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (MEM_REF == TREE_CODE(operand)) {</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    var = TREE_OPERAND(operand, 0);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">if</span> (SSA_NAME == TREE_CODE(var)) {</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      var = SSA_NAME_VAR(var);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: Unexpected operand code encountered&quot;</span>);</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  }</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;  <span class="keywordflow">if</span> ((VAR_DECL != TREE_CODE(var)) &amp;&amp; (PARM_DECL != TREE_CODE(var))) {</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: Error setting operand VAR_DECL/PARM_DECL&quot;</span>);</div>
<div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;  }</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="comment">// Get a pointer to the hash table entry for this var. Note that this</span></div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;  <span class="comment">// is a pointer to the actual variable under operand 0, not to an alias</span></div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  <span class="keywordflow">if</span> (result_frmt.<a class="code" href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">iv</a>)</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;    var_fmt = <a class="code" href="fxopt__utils_8c.html#aa5c082e069ec56032f08d58c1af6e26e">get_format_ptr</a>(<a class="code" href="fxopt__utils_8c.html#aa636fdb28a516ed72ba8cc0a57865dcb">calc_hash_key</a>(var, 0, <a class="code" href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a>));</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    var_fmt = <a class="code" href="fxopt__utils_8c.html#aa5c082e069ec56032f08d58c1af6e26e">get_format_ptr</a>(<a class="code" href="fxopt__utils_8c.html#aa636fdb28a516ed72ba8cc0a57865dcb">calc_hash_key</a>(var, <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>, index));</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  <span class="keywordflow">if</span> (NULL == var_fmt) {</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    <a class="code" href="fxopt__utils_8c.html#aee03dafc9f72bddb12733c1868849d47">add_var_format</a>(<a class="code" href="fxopt__utils_8c.html#aa636fdb28a516ed72ba8cc0a57865dcb">calc_hash_key</a>(var, <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>, index));</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;    var_fmt = <a class="code" href="fxopt__utils_8c.html#aa5c082e069ec56032f08d58c1af6e26e">get_format_ptr</a>(<a class="code" href="fxopt__utils_8c.html#aa636fdb28a516ed72ba8cc0a57865dcb">calc_hash_key</a>(var, <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>, index));</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;    <span class="keyword">struct </span><a class="code" href="struct_s_i_f.html">SIF</a> *prior_var_fmt;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;    prior_var_fmt = <a class="code" href="fxopt__utils_8c.html#aa5c082e069ec56032f08d58c1af6e26e">get_format_ptr</a>(<a class="code" href="fxopt__utils_8c.html#aa636fdb28a516ed72ba8cc0a57865dcb">calc_hash_key</a>(var, (<a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a> - 1), index));</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;    <span class="keywordflow">if</span> (NULL != prior_var_fmt)</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;      <a class="code" href="fxopt__utils_8c.html#a1dc9d1305f409640e94da6faf8940c6e">copy_format</a>(prior_var_fmt, var_fmt);</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  }</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;  <span class="comment">// If the operand is aliased, adjust the alias for the index of the LHS</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;  <span class="keywordflow">if</span> ((result_frmt.<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> != 0) &amp;&amp; (result_frmt.<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> != var_fmt-&gt;<a class="code" href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">id</a>)) {</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    result_frmt.<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> = <a class="code" href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a>(<a class="code" href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a>(result_frmt.<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a>),</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;                                            <a class="code" href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a>, index);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;  }</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;  <span class="comment">// Do some error checking</span></div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;  <span class="keywordtype">int</span> errors = 0;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;  <span class="keywordflow">if</span> (var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">size</a> &lt; result_frmt.<a class="code" href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">size</a>)</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a>(<span class="stringliteral">&quot;fxopt: new format has more bits than variable&quot;</span>);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;  <span class="keywordflow">if</span> ((PARM_DECL == TREE_CODE(var)) &amp;&amp;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      ((var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> != result_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>) || (var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> != result_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>))) {</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0, G_(<span class="stringliteral">&quot;Changing format of a function parameter&quot;</span>));</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;    errors = 1;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;  }</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;  <span class="comment">// If the variable is a pointer or is used iteratively, check to see if the</span></div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  <span class="comment">// new format is different or the new range is wider. If so, issue a warning.</span></div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;  <span class="comment">// If the variable is used iteratively then we also need to re-evaluate all</span></div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;  <span class="comment">// of the assignments that used the variable, so return an error flag.</span></div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a>(*var_fmt) &amp;&amp; (var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">ptr_op</a> || var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a2624843637dc3d164da62c28373a1ede">iter</a>)) {</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;    <span class="keywordflow">if</span> ((var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> != result_frmt.<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a>) || (var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a> != result_frmt.<a class="code" href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">I</a>)) {</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;      <span class="comment">//warning(0, G_(&quot;Changing format of a pointer/iterative target&quot;));</span></div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;      errors = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a2624843637dc3d164da62c28373a1ede">iter</a>;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;    }</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="fxopt__plugin_8c.html#a52d471e21d3a5fabd54250b3b79e618f">INTERVAL</a>) {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="fxopt__plugin_8h.html#a7b9615f4545c3a34ce89a781965c1578">range_compare</a>(result_frmt, *var_fmt) == 1) {</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;        <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0, G_(<span class="stringliteral">&quot;Expanding range of a pointer/iterative target&quot;</span>));</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;        errors = var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a2624843637dc3d164da62c28373a1ede">iter</a>;</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;      }</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;      result_frmt.<a class="code" href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">max</a> = <a class="code" href="fxopt__plugin_8h.html#afaab1eab8bda2b756dce2e9a74bdf17e">range_max</a>(result_frmt, *var_fmt);</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;      result_frmt.<a class="code" href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">min</a> = <a class="code" href="fxopt__plugin_8h.html#a7fd7d3c6250a4999f948aa7542a0d228">range_min</a>(result_frmt, *var_fmt);</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    }</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;  }</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;  <span class="comment">// Store the desired format info in the hash table</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;  <a class="code" href="fxopt__utils_8c.html#a16e2f15bd22d9f8fa1435bb3111d5b1b">copy_SIF</a>(&amp;result_frmt, var_fmt);</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;  var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> = 0;</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;  var_fmt-&gt;<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a> = result_frmt.<a class="code" href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">alias</a>;</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;</div>
<div class="line"><a name="l01575"></a><span class="lineno"> 1575</span>&#160;  <span class="keywordflow">return</span> errors;</div>
<div class="line"><a name="l01576"></a><span class="lineno"> 1576</span>&#160;}</div>
<div class="ttc" id="fxopt__utils_8c_html_aa5c082e069ec56032f08d58c1af6e26e"><div class="ttname"><a href="fxopt__utils_8c.html#aa5c082e069ec56032f08d58c1af6e26e">get_format_ptr</a></div><div class="ttdeci">struct SIF * get_format_ptr(int var_id)</div><div class="ttdoc">Get a pointer to a SIF, given its hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00154">fxopt_utils.c:154</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a6930dd703e6e637a2cc7c98031994d28"><div class="ttname"><a href="struct_s_i_f.html#a6930dd703e6e637a2cc7c98031994d28">SIF::ptr_op</a></div><div class="ttdeci">int ptr_op</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00130">fxopt_plugin.h:130</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a1318bc4e5913f72d1808d4e426ef85eb"><div class="ttname"><a href="struct_s_i_f.html#a1318bc4e5913f72d1808d4e426ef85eb">SIF::I</a></div><div class="ttdeci">int I</div><div class="ttdoc">number of integer bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00123">fxopt_plugin.h:123</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a8186e869eb2a4ac178184a2a93d2dfe4"><div class="ttname"><a href="struct_s_i_f.html#a8186e869eb2a4ac178184a2a93d2dfe4">SIF::iv</a></div><div class="ttdeci">int iv</div><div class="ttdoc">True if an induction variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00133">fxopt_plugin.h:133</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a2624843637dc3d164da62c28373a1ede"><div class="ttname"><a href="struct_s_i_f.html#a2624843637dc3d164da62c28373a1ede">SIF::iter</a></div><div class="ttdeci">int iter</div><div class="ttdoc">True if variable used iteratively. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00134">fxopt_plugin.h:134</a></div></div>
<div class="ttc" id="struct_s_i_f_html_ac2025a3d51101618f408ac561260819d"><div class="ttname"><a href="struct_s_i_f.html#ac2025a3d51101618f408ac561260819d">SIF::id</a></div><div class="ttdeci">int id</div><div class="ttdoc">Hash key. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00116">fxopt_plugin.h:116</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a584bf30db787408850e826a9e25d7816"><div class="ttname"><a href="struct_s_i_f.html#a584bf30db787408850e826a9e25d7816">SIF::min</a></div><div class="ttdeci">double_int min</div><div class="ttdoc">Minimum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00136">fxopt_plugin.h:136</a></div></div>
<div class="ttc" id="fxopt__plugin_8c_html_a52d471e21d3a5fabd54250b3b79e618f"><div class="ttname"><a href="fxopt__plugin_8c.html#a52d471e21d3a5fabd54250b3b79e618f">INTERVAL</a></div><div class="ttdeci">int INTERVAL</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00050">fxopt_plugin.c:50</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a161974a317c27803ef790e5989fcac91"><div class="ttname"><a href="struct_s_i_f.html#a161974a317c27803ef790e5989fcac91">SIF::alias</a></div><div class="ttdeci">int alias</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00117">fxopt_plugin.h:117</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_aa636fdb28a516ed72ba8cc0a57865dcb"><div class="ttname"><a href="fxopt__utils_8c.html#aa636fdb28a516ed72ba8cc0a57865dcb">calc_hash_key</a></div><div class="ttdeci">int calc_hash_key(tree var_tree, int pass, int index)</div><div class="ttdoc">Calculate the hash key for the SIF formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00068">fxopt_utils.c:68</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a564d283d3bb41651e593c62e2f46d079"><div class="ttname"><a href="struct_s_i_f.html#a564d283d3bb41651e593c62e2f46d079">SIF::max</a></div><div class="ttdeci">double_int max</div><div class="ttdoc">Maximum possible value. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00135">fxopt_plugin.h:135</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a9dbaabd34c9e88d0bc5550cdea19494c"><div class="ttname"><a href="fxopt__utils_8c.html#a9dbaabd34c9e88d0bc5550cdea19494c">format_initialized</a></div><div class="ttdeci">int format_initialized(struct SIF oprnd_frmt)</div><div class="ttdoc">Predicate for an initialized format specification. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l01738">fxopt_utils.c:1738</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ae799a9ba06cdf1c06da807eb5135d4b0"><div class="ttname"><a href="fxopt__plugin_8h.html#ae799a9ba06cdf1c06da807eb5135d4b0">KEY_TO_UID</a></div><div class="ttdeci">#define KEY_TO_UID(x)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00052">fxopt_plugin.h:52</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a1dc9d1305f409640e94da6faf8940c6e"><div class="ttname"><a href="fxopt__utils_8c.html#a1dc9d1305f409640e94da6faf8940c6e">copy_format</a></div><div class="ttdeci">void copy_format(struct SIF *src, struct SIF *dest)</div><div class="ttdoc">Make a copy of a variable specification. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00238">fxopt_utils.c:238</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_aeaa24dc28d2cae85c4c92370d64310a3"><div class="ttname"><a href="fxopt__plugin_8h.html#aeaa24dc28d2cae85c4c92370d64310a3">NOT_AN_ARRAY</a></div><div class="ttdeci">#define NOT_AN_ARRAY</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00046">fxopt_plugin.h:46</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_a16e2f15bd22d9f8fa1435bb3111d5b1b"><div class="ttname"><a href="fxopt__utils_8c.html#a16e2f15bd22d9f8fa1435bb3111d5b1b">copy_SIF</a></div><div class="ttdeci">void copy_SIF(struct SIF *src, struct SIF *dest)</div><div class="ttdoc">Copy the SIF format of one variable to another. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00279">fxopt_utils.c:279</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a7fd7d3c6250a4999f948aa7542a0d228"><div class="ttname"><a href="fxopt__plugin_8h.html#a7fd7d3c6250a4999f948aa7542a0d228">range_min</a></div><div class="ttdeci">double_int range_min(struct SIF fmt1, struct SIF fmt2)</div><div class="ttdoc">Determine the smaller range minimum value of two formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__range_8c_source.html#l00485">fxopt_range.c:485</a></div></div>
<div class="ttc" id="fxopt__plugin_8c_html_a61bf1d639f0227e847e927dc76b0edb8"><div class="ttname"><a href="fxopt__plugin_8c.html#a61bf1d639f0227e847e927dc76b0edb8">fxpass</a></div><div class="ttdeci">int fxpass</div><div class="ttdoc">Counts number of passes through the function in attempt to resolve all formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8c_source.html#l00045">fxopt_plugin.c:45</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a464166f19006c30663e2465d606c8a07"><div class="ttname"><a href="struct_s_i_f.html#a464166f19006c30663e2465d606c8a07">SIF::size</a></div><div class="ttdeci">int size</div><div class="ttdoc">size of this variable, in bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00127">fxopt_plugin.h:127</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a7b9615f4545c3a34ce89a781965c1578"><div class="ttname"><a href="fxopt__plugin_8h.html#a7b9615f4545c3a34ce89a781965c1578">range_compare</a></div><div class="ttdeci">int range_compare(struct SIF fmt1, struct SIF fmt2)</div><div class="ttdoc">Compare the ranges of two formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__range_8c_source.html#l00371">fxopt_range.c:371</a></div></div>
<div class="ttc" id="struct_s_i_f_html"><div class="ttname"><a href="struct_s_i_f.html">SIF</a></div><div class="ttdoc">The structure for the SIF definition of a variable. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00115">fxopt_plugin.h:115</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_aa61e4eca5d4c1dd8b1dbc7fdbb7ae657"><div class="ttname"><a href="fxopt__plugin_8h.html#aa61e4eca5d4c1dd8b1dbc7fdbb7ae657">fatal_error</a></div><div class="ttdeci">void fatal_error(const char *,...)</div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a3b8dd6f683d483b6b3f7fe66b089ec1b"><div class="ttname"><a href="fxopt__plugin_8h.html#a3b8dd6f683d483b6b3f7fe66b089ec1b">UID_PASS_IDX_TO_KEY</a></div><div class="ttdeci">#define UID_PASS_IDX_TO_KEY(x, y, z)</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00051">fxopt_plugin.h:51</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_aee03dafc9f72bddb12733c1868849d47"><div class="ttname"><a href="fxopt__utils_8c.html#aee03dafc9f72bddb12733c1868849d47">add_var_format</a></div><div class="ttdeci">void add_var_format(int var_id)</div><div class="ttdoc">Add a new variable to the SIF format hash. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l00105">fxopt_utils.c:105</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a5eb3900658a72bad49717c4b86bff166"><div class="ttname"><a href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a></div><div class="ttdeci">bool warning(int, const char *,...)</div></div>
<div class="ttc" id="struct_s_i_f_html_a23d0132158a81b4458e2a3f455796d19"><div class="ttname"><a href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">SIF::shift</a></div><div class="ttdeci">int shift</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00128">fxopt_plugin.h:128</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_afaab1eab8bda2b756dce2e9a74bdf17e"><div class="ttname"><a href="fxopt__plugin_8h.html#afaab1eab8bda2b756dce2e9a74bdf17e">range_max</a></div><div class="ttdeci">double_int range_max(struct SIF fmt1, struct SIF fmt2)</div><div class="ttdoc">Determine the larger range max value of two formats. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__range_8c_source.html#l00426">fxopt_range.c:426</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_ace046b3f15f31d2cdb41c1126fd00517"><div class="ttname"><a href="fxopt__plugin_8h.html#ace046b3f15f31d2cdb41c1126fd00517">error</a></div><div class="ttdeci">void error(const char *,...)</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad4272f8a72e6c14ebd672bf1766e24af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shift_left </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>oprnd_frmt</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>oprnd_tree</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>opnumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shift an <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format left. </p>
<p>Discards sign bits. Keeps track of whether a bit "shifted in" at the LSB is an empty bit or a valid fraction bit. This can be important if we shift something right and then shift it back left.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oprnd_frmt</td><td>operand <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oprnd_tree</td><td>operand tree array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opnumber</td><td>operand number to be shifted </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>number of positions to shift </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01684">1684</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;{</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;  <span class="keywordflow">if</span> (count &lt; 0)</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0, <span class="stringliteral">&quot;fxopt: Negative left shift&quot;</span>);</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;  oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> -= count;</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;  oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> -= count;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;  <span class="keywordflow">if</span> ((oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a56b7f2e3fa074e49ca3956672da071e8">originalF</a> - oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>) &gt; count) {</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;    oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> += count;</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;    <span class="comment">// next two statements must be in this order</span></div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> +=</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        count - (oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a56b7f2e3fa074e49ca3956672da071e8">originalF</a> - oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a>);</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> = oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a56b7f2e3fa074e49ca3956672da071e8">originalF</a>;</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;  }</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;  <a class="code" href="fxopt__utils_8c.html#ab3cfe56b57ba0547549a91f3c567dbb0">fix_f_e_bits</a>(oprnd_frmt, oprnd_tree, opnumber);</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a56b7f2e3fa074e49ca3956672da071e8"><div class="ttname"><a href="struct_s_i_f.html#a56b7f2e3fa074e49ca3956672da071e8">SIF::originalF</a></div><div class="ttdeci">int originalF</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00126">fxopt_plugin.h:126</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_ab3cfe56b57ba0547549a91f3c567dbb0"><div class="ttname"><a href="fxopt__utils_8c.html#ab3cfe56b57ba0547549a91f3c567dbb0">fix_f_e_bits</a></div><div class="ttdeci">void fix_f_e_bits(struct SIF oprnd_frmt[], tree oprnd_tree[], int opnumber)</div><div class="ttdoc">Update the F and E values for a shifted constant. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l01588">fxopt_utils.c:1588</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a5eb3900658a72bad49717c4b86bff166"><div class="ttname"><a href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a></div><div class="ttdeci">bool warning(int, const char *,...)</div></div>
<div class="ttc" id="struct_s_i_f_html_a23d0132158a81b4458e2a3f455796d19"><div class="ttname"><a href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">SIF::shift</a></div><div class="ttdeci">int shift</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00128">fxopt_plugin.h:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae33fc19a65b5cae0c06120a3a3037ad7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void shift_right </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct_s_i_f.html">SIF</a>&#160;</td>
          <td class="paramname"><em>oprnd_frmt</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tree&#160;</td>
          <td class="paramname"><em>oprnd_tree</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>opnumber</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a right shift on an <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> format. </p>
<p>Adds sign bits on the left and discards fraction and empty bits Don't actually shift the operand, just modify the format to what it would be after the shift and keep track of the cumulative shifts If the operand is a constant, determine the true number of empty bits in the shifted and rounded value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">oprnd_frmt</td><td>operand <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> structure array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">oprnd_tree</td><td>operand tree array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opnumber</td><td>operand number to be shifted </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">count</td><td>number of positions to shift </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l01651">1651</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>
<div class="fragment"><div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;{</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;  <span class="keywordflow">if</span> (count == 0)</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;  <span class="keywordflow">if</span> (count &lt; 0)</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    <a class="code" href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a>(0, <span class="stringliteral">&quot;fxopt: Negative right shift&quot;</span>);</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;  oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">shift</a> += count;</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;  oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">S</a> += count;</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;  <span class="keywordflow">if</span> (count &lt;= oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>) {</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;    oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> -= count;</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;  } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;    oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> += oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a>;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">F</a> -= count;</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;    oprnd_frmt[opnumber].<a class="code" href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">E</a> = 0;</div>
<div class="line"><a name="l01668"></a><span class="lineno"> 1668</span>&#160;  }</div>
<div class="line"><a name="l01669"></a><span class="lineno"> 1669</span>&#160;  <a class="code" href="fxopt__utils_8c.html#ab3cfe56b57ba0547549a91f3c567dbb0">fix_f_e_bits</a>(oprnd_frmt, oprnd_tree, opnumber);</div>
<div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;}</div>
<div class="ttc" id="struct_s_i_f_html_a9b5d27017c06b4e45f37c06d9b819181"><div class="ttname"><a href="struct_s_i_f.html#a9b5d27017c06b4e45f37c06d9b819181">SIF::F</a></div><div class="ttdeci">int F</div><div class="ttdoc">number of fraction bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00124">fxopt_plugin.h:124</a></div></div>
<div class="ttc" id="struct_s_i_f_html_a58394f7a00b0b88fdee315fcd5ed25a1"><div class="ttname"><a href="struct_s_i_f.html#a58394f7a00b0b88fdee315fcd5ed25a1">SIF::S</a></div><div class="ttdeci">int S</div><div class="ttdoc">number of sign bits in variable </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00122">fxopt_plugin.h:122</a></div></div>
<div class="ttc" id="fxopt__utils_8c_html_ab3cfe56b57ba0547549a91f3c567dbb0"><div class="ttname"><a href="fxopt__utils_8c.html#ab3cfe56b57ba0547549a91f3c567dbb0">fix_f_e_bits</a></div><div class="ttdeci">void fix_f_e_bits(struct SIF oprnd_frmt[], tree oprnd_tree[], int opnumber)</div><div class="ttdoc">Update the F and E values for a shifted constant. </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__utils_8c_source.html#l01588">fxopt_utils.c:1588</a></div></div>
<div class="ttc" id="struct_s_i_f_html_afd01784fd231aef78ec423aa509f2715"><div class="ttname"><a href="struct_s_i_f.html#afd01784fd231aef78ec423aa509f2715">SIF::E</a></div><div class="ttdeci">int E</div><div class="ttdoc">number of empty bits to the right of F bits </div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00125">fxopt_plugin.h:125</a></div></div>
<div class="ttc" id="fxopt__plugin_8h_html_a5eb3900658a72bad49717c4b86bff166"><div class="ttname"><a href="fxopt__plugin_8h.html#a5eb3900658a72bad49717c4b86bff166">warning</a></div><div class="ttdeci">bool warning(int, const char *,...)</div></div>
<div class="ttc" id="struct_s_i_f_html_a23d0132158a81b4458e2a3f455796d19"><div class="ttname"><a href="struct_s_i_f.html#a23d0132158a81b4458e2a3f455796d19">SIF::shift</a></div><div class="ttdeci">int shift</div><div class="ttdef"><b>Definition:</b> <a href="fxopt__plugin_8h_source.html#l00128">fxopt_plugin.h:128</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a91eebada26631feb3e5b806fe2536ad6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="struct_s_i_f.html">SIF</a>* var_formats = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to the hash table for the variables' <a class="el" href="struct_s_i_f.html" title="The structure for the SIF definition of a variable. ">SIF</a> formats. </p>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00091">91</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac07a6924bf2609e0dc49b2686ed83796"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int vars = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counter for number of defined variables, just for diagnostics. </p>

<p>Definition at line <a class="el" href="fxopt__utils_8c_source.html#l00095">95</a> of file <a class="el" href="fxopt__utils_8c_source.html">fxopt_utils.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="fxopt__utils_8c.html">fxopt_utils.c</a></li>
    <li class="footer">Generated on Tue Apr 22 2014 19:02:38 for fxopt by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
